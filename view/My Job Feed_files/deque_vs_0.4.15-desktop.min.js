;(function(){
  setTimeout(wait, 200);
  // wait for jQuery to load
  function wait(){
    var jquery = window.jQuery;
    if ('function' == typeof jquery && jquery.fn.jquery) {
      boot();
    } else {
      setTimeout(wait, 200);
    }
  }
  // boot up Amaze
  function boot(){

!function(){var e,t={singleFile:!0};!function n(e,t,i){function a(n){if(t[n])return t[n].exports;if(e[n])return r(n,a);throw new Error('cannot find module "'+n+'"')}function r(a,r){var o=t[a]={exports:{}},c=e[a],s=c[2],l=c[0];return l.call(o.exports,function(t){var n=e[a][1][t];return r(n?n:t)},o,o.exports,n,e,t,i),s&&(t[s]=t[a]),t[a].exports}var o=function(){return this}();for(var c in i)i[c]?o[i[c]]=a(c):a(c);return a.duo=!0,a.cache=t,a.modules=e,a}({1:[function(e,t){var n=e("./lib/jquery"),i=e("./lib/core");i.$=n,t.exports=window.amaze=i},{"./lib/jquery":2,"./lib/core":3}],2:[function(e,t){var n=e("visionmedia/debug")("amaze:jquery"),i=e("component/each"),a=e("./jquery.js");n("built with jQuery v%s",a.fn.jquery),t.exports=a;var r=[e("../add-label/plugin"),e("../button/plugin"),e("../create-tooltip/plugin"),e("../document-language/plugin"),e("../fix-date-picker/plugin"),e("../fix-menu/plugin"),e("../fix-modal/plugin"),e("../fix-table/plugin"),e("../fix-tabs/plugin"),e("../fix-tooltip/plugin"),e("../live-regions/plugin"),e("../locale-text/plugin"),e("../offscreen/plugin"),e("../page-title/plugin"),e("../presentation/plugin"),e("../rndid/plugin"),e("../skip-link/fix-plugin"),e("../skip-link/plugin"),e("../trigger-event/plugin")];i(r,function(e){n("adding plugin: %s",e.name),e(t.exports)})},{"visionmedia/debug":4,"component/each":5,"./jquery.js":6,"../add-label/plugin":7,"../button/plugin":8,"../create-tooltip/plugin":9,"../document-language/plugin":10,"../fix-date-picker/plugin":11,"../fix-menu/plugin":12,"../fix-modal/plugin":13,"../fix-table/plugin":14,"../fix-tabs/plugin":15,"../fix-tooltip/plugin":16,"../live-regions/plugin":17,"../locale-text/plugin":18,"../offscreen/plugin":19,"../page-title/plugin":20,"../presentation/plugin":21,"../rndid/plugin":22,"../skip-link/fix-plugin":23,"../skip-link/plugin":24,"../trigger-event/plugin":25}],4:[function(e,t,n){function i(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function a(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var i="color: "+this.color;e=[e[0],i,"color: inherit"].concat(Array.prototype.slice.call(e,1));var a=0,r=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(a++,"%c"===e&&(r=a))}),e.splice(r,0,i),e}function r(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(e){try{null==e?l.removeItem("debug"):l.debug=e}catch(t){}}function c(){var e;try{e=l.debug}catch(t){}return e}function s(){try{return window.localStorage}catch(e){}}n=t.exports=e("./debug"),n.log=r,n.formatArgs=a,n.save=o,n.load=c,n.useColors=i;var l;l="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:s(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(c())},{"./debug":26}],26:[function(e,t,n){function i(){return n.colors[d++%n.colors.length]}function a(e){function t(){}function a(){var e=a,t=+new Date,r=t-(l||t);e.diff=r,e.prev=l,e.curr=t,l=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=i());var o=Array.prototype.slice.call(arguments);o[0]=n.coerce(o[0]),"string"!=typeof o[0]&&(o=["%o"].concat(o));var c=0;o[0]=o[0].replace(/%([a-z%])/g,function(t,i){if("%%"===t)return t;c++;var a=n.formatters[i];if("function"==typeof a){var r=o[c];t=a.call(e,r),o.splice(c,1),c--}return t}),"function"==typeof n.formatArgs&&(o=n.formatArgs.apply(e,o));var s=a.log||n.log||console.log.bind(console);s.apply(e,o)}t.enabled=!1,a.enabled=!0;var r=n.enabled(e)?a:t;return r.namespace=e,r}function r(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),i=t.length,a=0;i>a;a++)t[a]&&(e=t[a].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function o(){n.enable("")}function c(e){var t,i;for(t=0,i=n.skips.length;i>t;t++)if(n.skips[t].test(e))return!1;for(t=0,i=n.names.length;i>t;t++)if(n.names[t].test(e))return!0;return!1}function s(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=a,n.coerce=s,n.disable=o,n.enable=r,n.enabled=c,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var l,d=0},{ms:27}],27:[function(e,t){function n(e){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*d;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*s;case"minutes":case"minute":case"mins":case"min":case"m":return n*c;case"seconds":case"second":case"secs":case"sec":case"s":return n*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}function i(e){return e>=l?Math.round(e/l)+"d":e>=s?Math.round(e/s)+"h":e>=c?Math.round(e/c)+"m":e>=o?Math.round(e/o)+"s":e+"ms"}function a(e){return r(e,l,"day")||r(e,s,"hour")||r(e,c,"minute")||r(e,o,"second")||e+" ms"}function r(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var o=1e3,c=60*o,s=60*c,l=24*s,d=365.25*l;t.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t["long"]?a(e):i(e)}},{}],5:[function(e,t){function n(e,t,n){for(var i=0;i<e.length;++i)t.call(n,e.charAt(i),i)}function i(e,t,n){for(var i in e)s.call(e,i)&&t.call(n,i,e[i])}function a(e,t,n){for(var i=0;i<e.length;++i)t.call(n,e[i],i)}try{var r=e("type")}catch(o){var r=e("component-type")}var c=e("to-function"),s=Object.prototype.hasOwnProperty;t.exports=function(e,t,o){switch(t=c(t),o=o||this,r(e)){case"array":return a(e,t,o);case"object":return"number"==typeof e.length?a(e,t,o):i(e,t,o);case"string":return n(e,t,o)}}},{type:28,"component-type":28,"to-function":29}],28:[function(e,t){var n=Object.prototype.toString;t.exports=function(e){switch(n.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return null===e?"null":void 0===e?"undefined":e&&1===e.nodeType?"element":e===Object(e)?"object":typeof e}},{}],29:[function(e,t){function n(e){switch({}.toString.call(e)){case"[object Object]":return o(e);case"[object Function]":return e;case"[object String]":return r(e);case"[object RegExp]":return a(e);default:return i(e)}}function i(e){return function(t){return e===t}}function a(e){return function(t){return e.test(t)}}function r(e){return/^ *\W+/.test(e)?new Function("_","return _ "+e):new Function("_","return "+c(e))}function o(e){var t={};for(var a in e)t[a]="string"==typeof e[a]?i(e[a]):n(e[a]);return function(e){if("object"!=typeof e)return!1;for(var n in t){if(!(n in e))return!1;if(!t[n](e[n]))return!1}return!0}}function c(e){var t=l(e);if(!t.length)return"_."+e;var n,i,a;for(i=0;i<t.length;i++)a=t[i],n="_."+a,n="('function' == typeof "+n+" ? "+n+"() : "+n+")",e=s(a,e,n);return e}function s(e,t,n){return t.replace(new RegExp("(\\.)?"+e,"g"),function(e,t){return t?e:n})}var l;try{l=e("props")}catch(d){l=e("component-props")}t.exports=n},{props:30,"component-props":30}],30:[function(e,t){function n(e){return e.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^\/]+)\//g,"").replace(o,"").match(/[$a-zA-Z_]\w*/g)||[]}function i(e,t,n){var i=/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^\/]+)\/|[a-zA-Z_]\w*/g;return e.replace(i,function(e){return"("==e[e.length-1]?n(e):~t.indexOf(e)?n(e):e})}function a(e){for(var t=[],n=0;n<e.length;n++)~t.indexOf(e[n])||t.push(e[n]);return t}function r(e){return function(t){return e+t}}var o=/\b(this|Array|Date|Object|Math|JSON)\b/g;t.exports=function(e,t){var o=a(n(e));return t&&"string"==typeof t&&(t=r(t)),t?i(e,o,t):o}},{}],6:[function(e,t){var n=window.jQuery;if(!n)throw new Error("amaze: jQuery is required");t.exports=window.jQuery},{}],7:[function(e,t){function n(e){e.fn.addLabel=i}function i(e,t){e.jquery&&e.length&&(e=e.get(0));for(var n,i=0;n=this[i++];)a(n,e,t);return this}var a=e("./");t.exports=n},{"./":31}],31:[function(e,t){function n(e,t,n){e=r.queryAll(e);var c;if("string"==typeof t)c=function(e){e.setAttribute("aria-label",t),n&&i(e,"aria-describedby",n)};else{if(!t.nodeType||1!==t.nodeType)throw new Error("Bad parameter for `label`, you must pass literal text or an element reference");t.id||(t.id="amaze_label_"+o++),c=function(e){i(e,"aria-labelledby",t.id),n&&i(e,"aria-describedby",n)}}a(e,c)}function i(e,t,n){var i="",a=e.getAttribute(t);a&&-1!==(" "+a+" ").indexOf(" "+n+" ")||(a&&a!==n&&(i+=a+" "),i+=n,e.setAttribute(t,i))}var a=e("component/each"),r=e("../selector");t.exports=n;var o=0},{"component/each":5,"../selector":32}],32:[function(e,t,n){function i(e,t){return c(e,o(t))}function a(e,t){var n=c(e,o(t));return n.length?n[0]:null}function r(e,t){return l(e).is(t)||s.is(e,t)}function o(e){if(void 0===e)return document;if(e){if("string"==typeof e){var t=a(e,document);return o(t)}if("object"==typeof e)return e}throw new TypeError("Invalid context")}function c(e,t){for(var n=l(e,t),i=[],a=0,r=n.length;r>a;a++)i.push(n[a]);return i}var s=e("dequelabs/qwery"),l=e("../jquery");e("dequelabs/qwery:pseudos/qwery-pseudos")(s),n=t.exports=i,n.query=a,n.queryAll=i,n.matches=r},{"dequelabs/qwery":33,"../jquery":2,"dequelabs/qwery:pseudos/qwery-pseudos":34}],33:[function(t,n){!function(t,i,a){"undefined"!=typeof n&&n.exports?n.exports=a():"function"==typeof e&&e.amd?e(a):i[t]=a()}("qwery",this,function(){function e(){this.c={}}function t(e){return K.g(e)||K.s(e,"(^|\\s+)"+e+"(\\s+|$)",1)}function n(e,t){for(var n=0,i=e.length;i>n;n++)t(e[n])}function i(e){for(var t=[],n=0,i=e.length;i>n;++n)g(e[n])?t=t.concat(e[n]):t[t.length]=e[n];return t}function a(e){for(var t=0,n=e.length,i=[];n>t;t++)i[t]=e[t];return i}function r(e){for(;(e=e.previousSibling)&&1!=e[T];);return e}function o(e){return e.match(W)}function c(e,n,i,a,r,o,c,s,d,u,f){var p,m,g,h,b;if(1!==this[T])return!1;if(n&&"*"!==n&&this[E]&&this[E].toLowerCase()!==n)return!1;if(i&&(m=i.match(D))&&m[1]!==this.id)return!1;if(i&&(b=i.match(A)))for(p=b.length;p--;)if(!t(b[p].slice(1)).test(this.className))return!1;if(d&&v.pseudos[d]&&!v.pseudos[d](this,f))return!1;if(a&&!c){h=this.attributes;for(g in h)if(Object.prototype.hasOwnProperty.call(h,g)&&(h[g].name||g)==r)return this}return a&&!l(o,Z(this,r)||"",c)?!1:this}function s(e){return Q.g(e)||Q.s(e,e.replace(L,"\\$1"))}function l(e,t,n){switch(e){case"=":return t==n;case"^=":return t.match(Y.g("^="+n)||Y.s("^="+n,"^"+s(n),1));case"$=":return t.match(Y.g("$="+n)||Y.s("$="+n,s(n)+"$",1));case"*=":return t.match(Y.g(n)||Y.s(n,s(n),1));case"~=":return t.match(Y.g("~="+n)||Y.s("~="+n,"(?:^|\\s+)"+s(n)+"(?:\\s+|$)",1));case"|=":return t.match(Y.g("|="+n)||Y.s("|="+n,"^"+s(n)+"(-|$)",1))}return 0}function d(e,t){var i,a,r,s,l,d,u,p=[],m=[],g=t,h=X.g(e)||X.s(e,e.split(H)),v=e.match(G);if(!h.length)return p;if(s=(h=h.slice(0)).pop(),h.length&&(r=h[h.length-1].match(I))&&(g=b(t,r[1])),!g)return p;for(d=o(s),l=g!==t&&9!==g[T]&&v&&/^[+~]$/.test(v[v.length-1])?function(e){for(;g=g.nextSibling;)1==g[T]&&(d[1]?d[1]==g[E].toLowerCase():1)&&(e[e.length]=g);return e}([]):g[C](d[1]||"*"),i=0,a=l.length;a>i;i++)(u=c.apply(l[i],d))&&(p[p.length]=u);return h.length?(n(p,function(e){f(e,h,v)&&(m[m.length]=e)}),m):p}function u(e,t,n){if(p(t))return e==t;if(g(t))return!!~i(t).indexOf(e);for(var a,r,s=t.split(",");t=s.pop();)if(a=X.g(t)||X.s(t,t.split(H)),r=t.match(G),a=a.slice(0),c.apply(e,o(a.pop()))&&(!a.length||f(e,a,r,n)))return!0;return!1}function f(e,t,n,i){function a(e,i,s){for(;s=U[n[i]](s,e);)if(p(s)&&c.apply(s,o(t[i]))){if(!i)return s;if(r=a(s,i-1,s))return r}}var r;return(r=a(e,t.length-1,e))&&(!i||J(r,i))}function p(e,t){return e&&"object"==typeof e&&(t=e[T])&&(1==t||9==t)}function m(e){var t,n,i=[];e:for(t=0;t<e.length;++t){for(n=0;n<i.length;++n)if(i[n]==e[t])continue e;i[i.length]=e[t]}return i}function g(e){return"object"==typeof e&&isFinite(e.length)}function h(e){return e?"string"==typeof e?v(e)[0]:!e[T]&&g(e)?e[0]:e:w}function b(e,t,n){return 9===e[T]?e.getElementById(t):e.ownerDocument&&((n=e.ownerDocument.getElementById(t))&&J(n,e)&&n||!J(e,e.ownerDocument)&&y('[id="'+t+'"]',e)[0])}function v(e,t){var n,r,o=h(t);if(!o||!e)return[];if(e===window||p(e))return!t||e!==window&&p(o)&&J(e,o)?[e]:[];if(e&&g(e))return i(e);if(n=e.match($)){if(n[1])return(r=b(o,n[1]))?[r]:[];if(n[2])return a(o[C](n[2]));if(et&&n[3])return a(o[z](n[3]))}return y(e,o)}function x(e,t){return function(n){var i,a;return S.test(n)?void(9!==e[T]&&((a=i=e.getAttribute("id"))||e.setAttribute("id",a="__qwerymeupscotty"),n='[id="'+a+'"]'+n,t(e.parentNode||e,n,!0),i||e.removeAttribute("id"))):void(n.length&&t(e,n,!1))}}var y,w=document,k=w.documentElement,z="getElementsByClassName",C="getElementsByTagName",j="querySelectorAll",R="useNativeQSA",E="tagName",T="nodeType",D=/#([\w\-]+)/,A=/\.[\w\-]+/g,I=/^#([\w\-]+)$/,O=/^\.([\w\-]+)$/,N=/^([\w\-]+)$/,q=/^([\w]+)?\.([\w\-]+)$/,S=/(^|,)\s*[>~+]/,M=/^\s+|\s*([,\s\+\~>]|$)\s*/g,B=/[\s\>\+\~]/,V=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,L=/([.*+?\^=!:${}()|\[\]\/\\])/g,F=/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/,P=/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/,_=/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/,$=new RegExp(I.source+"|"+N.source+"|"+O.source),G=new RegExp("("+B.source+")"+V.source,"g"),H=new RegExp(B.source+V.source),W=new RegExp(F.source+"("+P.source+")?("+_.source+")?"),U={" ":function(e){return e&&e!==k&&e.parentNode},">":function(e,t){return e&&e.parentNode==t.parentNode&&e.parentNode},"~":function(e){return e&&e.previousSibling},"+":function(e,t,n,i){return e?(n=r(e))&&(i=r(t))&&n==i&&n:!1}};e.prototype={g:function(e){return this.c[e]||void 0},s:function(e,t,n){return t=n?new RegExp(t):t,this.c[e]=t}};var K=new e,Q=new e,Y=new e,X=new e,J="compareDocumentPosition"in k?function(e,t){return 16==(16&t.compareDocumentPosition(e))}:"contains"in k?function(e,t){return t=9===t[T]||t==window?k:t,t!==e&&t.contains(e)}:function(e,t){for(;e=e.parentNode;)if(e===t)return 1;return 0},Z=function(){var e=w.createElement("p");return(e.innerHTML='<a href="#x">x</a>')&&"#x"!=e.firstChild.getAttribute("href")?function(e,t){return"class"===t?e.className:"href"===t||"src"===t?e.getAttribute(t,2):e.getAttribute(t)}:function(e,t){return e.getAttribute(t)}}(),et=!!w[z],tt=w.querySelector&&w[j],nt=function(e,t){var i,r,o=[];try{return 9!==t[T]&&S.test(e)?(n(i=e.split(","),x(t,function(e,t){r=e[j](t),1==r.length?o[o.length]=r.item(0):r.length&&(o=o.concat(a(r)))})),i.length>1&&o.length>1?m(o):o):a(t[j](e))}catch(c){}return it(e,t)},it=function(e,i){var a,r,o,c,s,l,u=[];if(e=e.replace(M,"$1"),r=e.match(q)){for(s=t(r[2]),a=i[C](r[1]||"*"),o=0,c=a.length;c>o;o++)s.test(a[o].className)&&(u[u.length]=a[o]);return u}return n(l=e.split(","),x(i,function(e,t,n){for(s=d(t,e),o=0,c=s.length;c>o;o++)(9===e[T]||n||J(s[o],i))&&(u[u.length]=s[o])})),l.length>1&&u.length>1?m(u):u},at=function(e){"undefined"!=typeof e[R]&&(y=e[R]&&tt?nt:it)};return at({useNativeQSA:!0}),v.configure=at,v.uniq=m,v.is=u,v.pseudos={},v})},{}],34:[function(e,t){t.exports=function(e){function t(e,t){var n=[];for(l=e.childNodes,o=0,c=l.length;c>o;o++)1!=l[o].nodeType||t&&l[o].nodeName!=t||n.push(l[o]);return n}function n(e,t,n,i){if(!n)return t[i-1]==e;for(o=i,c=t.length;n>0?c>=o:o>=1;o+=n)if(e==t[o-1])return!0;return!1}function i(e,t,i){return isFinite(i)?t[i-1]==e:"odd"==i?n(e,t,2,1):"even"==i?n(e,t,2,0):(d=u.exec(i))?n(e,t,d[2]?parseInt(d[1],10):parseInt(d[1]+"1",10),d[3]?parseInt(d[3].replace(/\s*/,""),10):0):!1}function a(e,t){if(3===e.nodeType||4===e.nodeType)return e.nodeValue;if(1!==e.nodeType&&9!==e.nodeType)return"";for(t="",e=e.firstChild;e;e=e.nextSibling)8!==e.nodeType&&(t+=e.textContent||e.innerText||a(e));return t}var r,o,c,s,l,d,u=/\s*((?:\+|\-)?(\d*))n\s*((?:\+|\-)\s*\d+)?\s*/;r=e.pseudos,r.contains=function(e,t){return-1!=a(e).indexOf(t)},r.not=function(t,n){return!e.is(t,n)},r["nth-child"]=function(e,n){return n&&(s=e.parentNode)?i(e,t(s),n):!1},r["nth-last-child"]=function(e,n){return n&&(s=e.parentNode)?i(e,t(s).reverse(),n):!1},r["nth-of-type"]=function(e,n){return n&&(s=e.parentNode)?i(e,t(s,e.nodeName),n):!1},r["nth-last-of-type"]=function(e,n){return n&&(s=e.parentNode)?i(e,t(s,e.nodeName).reverse(),n):!1},r["first-child"]=function(e){return r["nth-child"](e,1)},r["last-child"]=function(e){return r["nth-last-child"](e,1)},r["first-of-type"]=function(e){return r["nth-of-type"](e,1)},r["last-of-type"]=function(e){return r["nth-last-of-type"](e,1)},r["only-child"]=function(e){return(s=e.parentNode)&&(l=t(s))&&1==l.length&&e==l[0]},r["only-of-type"]=function(e){return(s=e.parentNode)&&(l=t(s,e.nodeName))&&1==l.length&&e==l[0]},r.target=function(e){return e.getAttribute("id")==location.hash.substr(1)},r.checked=function(e){return e.checked},r.enabled=function(e){return!e.disabled},r.disabled=function(e){return e.disabled},r.empty=function(e){return!e.childNodes.length}}},{}],8:[function(e,t){function n(e){e.fn.button=i}function i(){for(var e,t=0;e=this[t++];)a(e);return this}var a=e("./");t.exports=n},{"./":35}],35:[function(e,t){function n(e){if(void 0===e)throw new TypeError("elements is undefined");"string"==typeof e&&(e=c.queryAll(e)),e.length&&"object"==typeof e&&!o(e)&&(e=a(e)),o(e)?r(e,function(e){i(e)}):i(e)}function i(e){if(!e)throw new TypeError("elem is undefined");var t=e.tagName;if("BUTTON"!==t&&("INPUT"!==t||"button"!==e.type)){var n="A"===t,i=n&&e.hasAttribute("href"),a=e.hasAttribute("tabindex");i||a||(e.tabIndex=0),s(e).attr("role","button").addClass("amaze-button").on("keydown",function(t){var n=t.which,a=32===n||13===n,r=i&&13===n;a&&!r&&(32===n&&t.preventDefault(),e.click())})}}var a=e("timoxley/to-array"),r=e("component/each"),o=e("juliangruber/isarray"),c=e("../selector"),s=e("../jquery");t.exports=n},{"timoxley/to-array":36,"component/each":5,"juliangruber/isarray":37,"../selector":32,"../jquery":2}],36:[function(e,t){function n(e){return"[object Array]"===Object.prototype.toString.call(e)}t.exports=function(e){if("undefined"==typeof e)return[];if(null===e)return[null];if(e===window)return[window];if("string"==typeof e)return[e];if(n(e))return e;if("number"!=typeof e.length)return[e];if("function"==typeof e&&e instanceof Function)return[e];for(var t=[],i=0;i<e.length;i++)(Object.prototype.hasOwnProperty.call(e,i)||i in e)&&t.push(e[i]);return t.length?t:[]}},{}],37:[function(e,t){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],9:[function(e,t){function n(e){e.fn.createTooltip=function(e,t){return this.each(function(){i(this,e,t)}),this}}var i=e("./");t.exports=n},{"./":38}],38:[function(e,t,n){function i(){var e,t=document.documentElement;return window.innerWidth?{width:window.innerWidth,height:window.innerHeight}:t?{width:t.clientWidth,height:t.clientHeight}:(e=document.body,{width:e.clientWidth,height:e.clientHeight})}function a(e,t,n){var i,a=t.length,r=g(e);for(r.remove("n").remove("e").remove("s").remove("w").remove("x").remove("y"),n&&r.add(n),i=0;a>i;i++)r.add(t.substr(i,1))}function r(e,t,n,i){var a,r,o,c={};for(n=n.split("").reverse(),r=0,o=n.length;o>r;r++)switch(a=n[r]){case"e":c.top=e.top+e.height/2-t.height/2,c.left=e.right+i;break;case"w":c.top=e.top+e.height/2-t.height/2,c.left=e.left-t.width-i;break;case"n":c.top=e.top;break;case"s":c.top=e.bottom-t.height}return c}function o(e,t,n,i){var a,r,o,c={};for(n=n.split(""),r=0,o=n.length;o>r;r++)switch(a=n[r]){case"n":c.top=e.top-t.height-i,c.left=e.left+e.width/2-t.width/2;break;case"s":c.top=e.top+e.height+i,c.left=e.left+e.width/2-t.width/2;break;case"e":c.left=e.left;break;case"w":c.left=e.right-t.width}return c}function c(e,t,n,i){var a;return a="y"===t?o(e.target,e.tooltip,n,i):r(e.target,e.tooltip,n,i),a.axis=t,a.align=n,a}function s(e,t){var n=t.tooltip,i=t.scroll,a=t.viewport,r=e.top,o=e.left;return r>=i.y&&r+n.height<=i.y+a.height&&o>=i.x&&o+n.width<=i.x+a.width}function l(e,t,n,i){var a,r,o={x:["ne","e","se","nw","w","sw"],y:["ne","n","nw","se","s","sw"]},l=o[t],d=p(l,n),u=l.length;for(d=-1===d?0:d,a=0;u>a;d++,a++)if(d>=u&&(d=0),n=l[d],r=c(e,t,n,i),s(r,e))return r}function d(e,t,n){var a,r={scroll:b(),viewport:i(),tooltip:h(t),target:h(e)},o=n.axis,s=n.align,d=n.offset,u=c(r,o,s,d);return n.fit?(a=l(r,o,s,d))?a:(o="x"===o?"y":"x",a=l(r,o,null,d),a?a:u):u}function u(e){if(!e.tooltip){var t=e.options,n=document.createElement("div"),i=y(n);n.className=k,t["class"]&&(n.className+=" "+t["class"]),n.innerHTML=e.content,n.id=e.id,document.body.appendChild(n),i.attr("aria-hidden",!0),t.mouseEvents&&i.on("mouseout",function(){e.mouseTimeoutID=setTimeout(function(){e.hide()},e.options.delay)}).on("mouseover",function(){e.mouseTimeoutID&&(e.mouseTimeoutID=clearTimeout(e.mouseTimeoutID))}),e.tooltip=n}}function f(e,t,n){var i,a=this,r=y(e);this.tooltip=null,this.target=e,this.content=t,this.options=n,this.id=k+w++,e.setAttribute("aria-describedby",this.id),r.on("focus",function(){i=setTimeout(function(){a.show()},0)}).on("blur",function(){a.hide(),i&&(clearTimeout(i),i=null)}),n.mouseEvents&&r.on("mouseover",function(){a.show(),a.mouseTimeoutID&&(a.mouseTimeoutID=clearTimeout(a.mouseTimeoutID))}).on("mouseout",function(){a.mouseTimeoutID=setTimeout(function(){a.hide()},n.delay)})}var p=e("component/indexof"),m=e("dequelabs/extend"),g=e("component/classes"),h=e("../dom/get-element-coordinates"),b=e("../dom/get-scroll-offset"),v=e("../selector"),x=e("../css"),y=e("../jquery"),w=0,k="amaze-tooltip",z="#ffffca",C="#000",j=C,R=".amaze-tooltip {position: absolute;left: -9999px;top: -9999px;width: 230px;z-index: 999;border: 1px solid "+j+";color: "+C+";background: "+z+';padding: 10px;border-radius: 2px;box-shadow: 0 1px 3px rgba(0, 0, 0, 0.45);}.amaze-tooltip:after, .amaze-tooltip:before {height: 0;width: 0;content: " ";position: absolute;border: 5px solid transparent;pointer-events: none;overflow: hidden;}.amaze-tooltip.y:after, .amaze-tooltip.y:before {left: 50%;margin-left: -5px;}.amaze-tooltip.y.s:after {top: -10px;border-bottom-color: '+z+";}.amaze-tooltip.y.s:before {border-bottom-color: "+j+";top: -11px;}.amaze-tooltip.y.n:after {border-top-color: "+z+";bottom: -10px;}.amaze-tooltip.y.n:before {border-top-color: "+j+";bottom: -11px;}.amaze-tooltip.y.w:before, .amaze-tooltip.y.w:after {left: auto;margin-left: 0;right: 5px;}.amaze-tooltip.y.e:before, .amaze-tooltip.y.e:after {left: 5px;margin-left: 0;}.amaze-tooltip.x:after, .amaze-tooltip.x:before {top: 50%;margin-top: -5px;}.amaze-tooltip.x.w:after {right: -10px;border-left-color: "+z+";}.amaze-tooltip.x.w:before {border-left-color: "+j+";right: -11px;}.amaze-tooltip.x.e:after {border-right-color: "+z+";left: -10px;}.amaze-tooltip.x.e:before {border-right-color: "+j+";left: -11px;}.amaze-tooltip.x.n:before, .amaze-tooltip.x.n:after {top: 5px;margin-top: 0;}.amaze-tooltip.x.s:before, .amaze-tooltip.x.s:after {top: auto;margin-top: 0;bottom: 5px;}";f.prototype.show=function(){this.tooltip||u(this);var e=this.options;this.position(e.axis,e.align,e.fit)},f.prototype.hide=function(){if(document.activeElement!==this.target){var e=this.tooltip;e&&(this.options.mouseEvents&&y(e).off("mouseover").off("mouseout"),e.parentNode.removeChild(e)),this.tooltip=null}},f.prototype.position=function(e,t,n){this.tooltip||u(this);var i,r={},o=this.tooltip,c=o.style,s=this.options;r.axis=null!=e?e:s.axis,r.align=null!=t?t:s.align,r.fit=null!=n?n:s.fit,r.offset=s.offset,i=d(this.target,o,r),a(o,i.align,i.axis),c.top=i.top+"px",c.left=i.left+"px"},n=t.exports=function(e,t,i){var a=m({},n.defaults,i||{});return"string"==typeof e&&(e=v.query(e)),w||x(R),new f(e,t,a)},n.defaults={axis:"y",align:"ne",fit:!0,mouseEvents:!0,delay:500,offset:4}},{"component/indexof":39,"dequelabs/extend":40,"component/classes":41,"../dom/get-element-coordinates":42,"../dom/get-scroll-offset":43,"../selector":32,"../css":44,"../jquery":2}],39:[function(e,t){t.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],40:[function(e,t){t.exports=function(e){for(var t,n=Array.prototype.slice.call(arguments,1),i=0;t=n[i];i++)if(t)for(var a in t)e[a]=t[a];return e}},{}],41:[function(e,t){function n(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}var i=e("indexof"),a=/\s+/,r=Object.prototype.toString;t.exports=function(e){return new n(e)},n.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array(),n=i(t,e);return~n||t.push(e),this.el.className=t.join(" "),this},n.prototype.remove=function(e){if("[object RegExp]"==r.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=i(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},n.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},n.prototype.toggle=function(e,t){return this.list?("undefined"!=typeof t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):("undefined"!=typeof t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},n.prototype.array=function(){var e=this.el.getAttribute("class")||"",t=e.replace(/^\s+|\s+$/g,""),n=t.split(a);return""===n[0]&&n.shift(),n},n.prototype.has=n.prototype.contains=function(e){return this.list?this.list.contains(e):!!~i(this.array(),e)}},{indexof:39}],42:[function(e,t){function n(e){var t={top:0,right:0,bottom:0,left:0,width:0,height:0},n=t;if(e){var a=i(e.ownerDocument),r=a.x,o=a.y,c=e.getBoundingClientRect();t={top:c.top+n.top+o,right:c.right+n.right+r,bottom:c.bottom+n.bottom+o,left:c.left+n.left+r,width:c.right-c.left,height:c.bottom-c.top}}return t}var i=e("./get-scroll-offset");t.exports=n},{"./get-scroll-offset":43}],43:[function(e,t){function n(e){if(e=e||document,9===e.nodeType){var t=e.documentElement,n=e.body;return{x:t&&t.scrollLeft||n&&n.scrollLeft||0,y:t&&t.scrollTop||n&&n.scrollTop||0}}return{x:e.scrollLeft,y:e.scrollTop}}t.exports=n},{}],44:[function(e,t){function n(e){if(r||(i("creating new stylesheet"),r=document.createElement("style"),r.type="text/css",r.id="amaze-css-module",a.appendChild(r)),r.styleSheet)r.styleSheet.cssText+=e;else{var t=document.createTextNode(e);r.appendChild(t)}return r}var i=e("visionmedia/debug")("amaze:css"),a=document.head||document.getElementsByTagName("head")[0],r=null;t.exports=n},{"visionmedia/debug":4}],10:[function(e,t){function n(e){e.documentLanguage=function(){i.apply(null,arguments)}}var i=e("./");t.exports=n},{"./":45}],45:[function(e,t){function n(e,t){e=e||"en",t=void 0===t?!0:t;var n=document.documentElement,i=n.getAttribute("lang");(!i||t)&&n.setAttribute("lang",e)}t.exports=n},{}],11:[function(e,t){function n(e){e.fn.fixDatePicker=i}function i(){var e=this;return a(function(){for(var t,n=0;t=e[n++];)new r(t)}),this}var a=(e("component/clone"),e("timoxley/next-tick")),r=e("./");t.exports=n},{"component/clone":46,"timoxley/next-tick":47,"./":48}],46:[function(e,t){function n(e){switch(i(e)){case"object":var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=n(e[a]));return t;case"array":for(var t=new Array(e.length),r=0,o=e.length;o>r;r++)t[r]=n(e[r]);return t;case"regexp":var c="";return c+=e.multiline?"m":"",c+=e.global?"g":"",c+=e.ignoreCase?"i":"",new RegExp(e.source,c);case"date":return new Date(e.getTime());default:return e}}var i;try{i=e("component-type")}catch(a){i=e("type")}t.exports=n},{"component-type":49,type:49}],49:[function(e,t){var n=Object.prototype.toString;t.exports=function(e){switch(n.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":void 0===e?"undefined":e!==e?"nan":e&&1===e.nodeType?"element":(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e),typeof e)}},{}],47:[function(e,t){"use strict";if("function"==typeof setImmediate)t.exports=function(e){setImmediate(e)};else if("undefined"!=typeof process&&"function"==typeof process.nextTick)t.exports=process.nextTick;else if("undefined"==typeof window||window.ActiveXObject||!window.postMessage)t.exports=function(e){setTimeout(e)};else{var n=[];window.addEventListener("message",function(){for(var e=0;e<n.length;)try{n[e++]()}catch(t){throw n=n.slice(e),window.postMessage("tic!","*"),t}n.length=0},!0),t.exports=function(e){n.length||window.postMessage("tic!","*"),n.push(e)}}},{}],48:[function(e,t,n){function i(e,t){this.el=e,this.selectors=s({},p,t||{}),this.$el=f(e),this.$$=window.jQuery?window.jQuery(e):null,this.$button=this.$el.next(this.selectors.trigger),this.$container=f(this.selectors.container),this.$active=null,this.$$&&(a('removing "native" jquery keyboard events'),this.$$.off("keydown").off("keypress").off("keyup")),this.$button.on("click",r(this,"onbuttonclick")),this._onkeydown=r(this,"onkeydown"),this._onclick=r(this,"onclick")}var a=e("visionmedia/debug")("amaze:date-picker"),r=e("component/bind"),o=e("component/keyname"),c=e("yields/fmt"),s=e("matthewmueller/extend.js"),l=e("yields/set-active"),d=e("./select"),u=e("./is"),f=e("../jquery");n=t.exports=i;var p=n.selectors={trigger:".ui-datepicker-trigger",container:"#ui-datepicker-div",next:".ui-datepicker-next",prev:".ui-datepicker-prev",day:".ui-state-default",disabled:".ui-state-disabled",highlight:".ui-state-highlight",active:".ui-state-active",today:".ui-datepicker-today",month:".ui-datepicker-month",year:".ui-datepicker-year"};i.prototype.bind=function(){this.$container.on("keydown",this._onkeydown),this.$container.on("click",this._onclick)},i.prototype.unbind=function(){this.$container.off("keydown",this._onkeydown),this.$container.off("click",this._onclick)},i.prototype.onclick=function(e){function t(e){setTimeout(function(){a("focusing %s",e);var t=i.$container.find(e).get(0);l(t)},200)}function n(e){return s.is(e)||d.is(e)}var i=this,r=e.target,o=r.parentNode,c=this.selectors,s=f(r),d=f(o);n(c.next)?(this.updateHeader(),a('caught "next month" click'),t(f(c.next).is(c.disabled)?f(c.prev).is(c.disabled)?c.day:c.prev:c.next),setTimeout(function(){i.label()},0)):n(c.prev)&&(a('caught "prev month" click'),t(f(c.prev).is(c.disabled)?f(c.next).is(c.disabled)?selcetors.day:c.next:c.prev),setTimeout(function(){i.label()},0))},i.prototype.destroy=function(){a("unbinding all events"),this.$button.off("click"),this.unbind()},i.prototype.onkeydown=function(e){function t(e){a("setting active day to: %s",e.get(0)),n.updateHeader(),n.swapActive(e)}var n=this,i=o(e.which),r=e.target,c=this.selectors,s=f(r),l=s.is(c.day);switch(this.$active=s,a('caught "%s" (%d) keydown',i,e.which),i){case"tab":this.ontab(e);break;case"enter":if(!l)return this.updateHeader();window.jQuery&&window.jQuery(r).click(),this.onenter();break;case"esc":e.preventDefault(),this.hide();break;case"left":e.preventDefault(),u.firstOfMonth(this,this.$active)?(a("selecting last day of previous month"),d.lastDayOfPreviousMonth(this,t)):u.firstOfWeek(this,this.$active)?(a("selecting last day of previous week"),d.lastDayOfPreviousWeek(this,t)):(a("selecting previous day"),d.previousDayOfCurrentWeek(this,t));break;case"right":e.preventDefault(),u.lastOfMonth(this,this.$active)?(a("selecting first day of next month"),d.firstDayOfNextMonth(this,t)):u.lastOfWeek(this,this.$active)?(a("selecting first day of next week"),d.firstDayOfNextWeek(this,t)):(a("selecting next day"),d.nextDayOfCurrentWeek(this,t));break;case"up":e.preventDefault(),d.changeWeek(this,"previous",t);break;case"down":e.preventDefault(),d.changeWeek(this,"next",t);
break;case"end":d.lastDayOfCurrentMonth(this,t);break;case"home":d.firstDayOfCurrentMonth(this,t);break;case"pageup":d.firstDayOfNextMonth(this,t);break;case"pagedown":d.firstDayOfPreviousMonth(this,t)}},i.prototype.ontab=function(e){var t=e.target,n=f(t),i=n.is(this.selectors.day),r=n.is(this.selectors.next),o=n.is(this.selectors.prev),c=!!e.shiftKey,s=this.$container.find(this.selectors.next).not(this.selectors.disabled),l=this.$container.find(this.selectors.prev).not(this.selectors.disabled),d=this.$container.find(this.selectors.highlight)[0]||this.$container.find(this.selectors.active)[0]||this.$container.find("a"+this.selectors.day)[0];a("shift modified: %s",c),e.preventDefault(),c?i?l.length?(a('focusing "prev" button'),l.focus()):s.length&&(a('focusing "next" button because "prev" is disabled'),s.focus()):o?s.length?(a('focusing "next" button'),s.focus()):d&&(a('focusing "active" date link because "next" is disabled'),d.focus()):r&&(d?(a('focusing "active" day: %s',d),d.focus()):l.length&&(a('focusing "prev" because no "active" found'),l.focus())):i?s.length?(a('focusing "next" button'),s.focus()):l.length&&(a('focusing "prev" button because "next" button is disabled'),l.focus()):r?l.length?(a('focusing "prev" button'),l.focus()):d&&(a('focusing "active" because prev is disabled'),d.focus()):o&&(d?(a('focusing "active" day: %s',d),d.focus()):s.length&&(a('focusing "next" because no active date link found'),s.focus()))},i.prototype.onenter=function(){var e=this,t=f(document.activeElement);a("waiting for focus to leave"),t.one("blur",function(){a('focusing "launch" button'),e.$button.focus()})},i.prototype.swapActive=function(e){function t(e){return e.replace(/\./g," ")}this.$active.removeClass(t(this.selectors.highlight)),e.addClass(t(this.selectors.highlight)),e.focus(),this.$active=e,this.updateHeader()},i.prototype.hide=function(){this.unbind(),a("hiding datepicker container"),this.$$?(a("datepicker: `hide()`"),this.$$.datepicker("hide")):(a("datepicker `display: none`"),this.$container.css("display","none")),a('focus "launch" button'),this.$button.focus(),this.$el.trigger("amaze:datepicker:close")},i.prototype.onbuttonclick=function(){function e(){this.label();var e=this.$container.find(this.selectors.active).get(0)||this.$container.find(this.selectors.highlight).get(0)||this.$container.find(this.selectors.day).get(0);a("focusing %s",e),e.focus(),this.$el.trigger("amaze:datepicker:open")}a('caught "launch" button click'),setTimeout(r(this,e),10),this.bind()},i.prototype.label=function(){var e=this.$container.find(this.selectors.day),t=this.$container.find(this.selectors.month).text(),n=this.$container.find(this.selectors.year).text(),i="%s, %s %d, %d";a('adding aria-label="..." to %d days',e.length);for(var r=0,o=e.length;o>r;r++){var s=e[r],l=f(s),d=l.closest("tr"),u=d.find("td"),p=l.closest("td"),m=u.index(p),g=this.$container.find("thead tr th").eq(m),h=g.find("span"),b=c(i,h.attr("title"),t,l.text(),n);l.attr("aria-label",b)}this.updateHeader()},i.prototype.updateHeader=function(){a("adding `href=#` to nav links"),this.$container.find(this.selectors.prev).not(this.selectors.disabled).attr("href","#"),this.$container.find(this.selectors.next).not(this.selectors.disabled).attr("href","#")}},{"visionmedia/debug":4,"component/bind":50,"component/keyname":51,"yields/fmt":52,"matthewmueller/extend.js":53,"yields/set-active":54,"./select":55,"./is":56,"../jquery":2}],50:[function(e,t){var n=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}},{}],51:[function(e,t){var n={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"};t.exports=function(e){return n[e]||String.fromCharCode(e).toLowerCase()}},{}],52:[function(e,t){function n(e){var t=[].slice.call(arguments,1),i=0;return e.replace(/%([a-z])/gi,function(e,a){return n[a]?n[a](t[i++]):e+a})}var i=window.JSON?JSON.stringify:function(e){return String(e)};t.exports=n,n.o=i,n.s=String,n.d=parseInt},{}],53:[function(e,t){t.exports=function(e){for(var t,n=[].slice.call(arguments,1),i=0,a=n.length;a>i;i++){t=n[i];for(var r in t)e[r]=t[r]}return e}},{}],54:[function(e,t){var n=e("is-focusable");t.exports=function(e){return n(e)||e.setAttribute("tabindex",-1),e.focus(),e}},{"is-focusable":57}],57:[function(e,t){function n(e){if(e.hasAttribute("tabindex")){var t=e.getAttribute("tabindex");if(!isNaN(t))return!0}var n=e.nodeName;return i.test(n)?"hidden"!==e.type.toLowerCase()&&!e.disabled:"A"===n?!!e.href:!1}var i=/input|select|textarea|button/i;t.exports=n},{}],55:[function(e,t,n){var i=e("visionmedia/debug")("amaze:date-picker:select"),a=e("yields/fmt");n.lastDayOfCurrentMonth=function(e,t){i("quering for last day in current month");var n=e.$container.find(e.selectors.day).not(e.selectors.disabled),a=n.last();t(a)},n.firstDayOfCurrentMonth=function(e,t){i("querying for first day of current month");var n=e.$container.find(e.selectors.day).not(e.selectors.disabled),a=n.first();t(a)},n.firstDayOfNextMonth=function(e,t){i("querying for first day of next month"),n.changeMonth(e,"next",function(){var n=e.$container.find(e.selectors.day).not(e.selectors.disabled);i("found %d days",n.length);var a=n.first();t(a)})},n.firstDayOfNextWeek=function(e,t){var n=e.$active.closest("td"),i=n.closest("tr"),a=i.next("tr"),r=a.find("td").first(),o=r.find(e.selectors.day);t(o)},n.firstDayOfPreviousWeek=function(e,t){var n=e.$active.closest("td"),i=n.closest("tr"),a=i.prev("tr"),r=a.find("td").eq(0),o=r.find(e.selectors.day);t(o)},n.nextDayOfCurrentWeek=function(e,t){var n=e.$active.closest("td"),i=n.next("td").not(e.selectors.disabled),a=i.find(e.selectors.day);t(a)},n.changeWeek=function(e,t,a){function r(t){return t.is(e.selectors.disabled)}var o=e.$active.closest("td"),c=o.closest("tr"),s=c.find("td"),l=s.index(o),d="previous"==t?c.prev("tr"):c.next("tr"),u=d.find("td"),f=u.eq(l);if(f.length&&!r(f)){var p=f.find(e.selectors.day);return a(p)}n.changeMonth(e,t,function(){var n=e.$container.find("table"),o=n.find("tbody"),c=o.find("tr"),s="previous"==t?c.last():c.first(),d=s.find("td").eq(l),u=0;for(e.$container.find("previous"===t?e.selectors.prev:e.selectors.next),i("checking %s week","previous"==t?"last":"first");r(d)&&d.length;)u++,s="previous"==t?s.prev("tr"):s.next("tr"),i("trying week #%d",u),d=s.find("td").eq(l);a(d.find(e.selectors.day))})},n.lastDayOfPreviousMonth=function(e,t){n.changeMonth(e,"previous",function(){var n=e.$container.find(e.selectors.day),i=n.last();t(i)})},n.firstDayOfPreviousMonth=function(e,t){n.changeMonth(e,"previous",function(){var n=e.$container.find(e.selectors.day),i=n.first();t(i)})},n.lastDayOfPreviousWeek=function(e,t){var n=e.$active.closest("td"),i=n.closest("tr"),a=i.index(n),r=i.prev("tr"),o=r.find("td").eq(a),c=o.find(e.selectors.day);t(c)},n.previousDayOfCurrentWeek=function(e,t){var n=e.$active.closest("td"),i=n.prev("td").not(e.selectors.disabled),a=i.find(e.selectors.day);t(a)},n.changeMonth=function(e,t,n){var r="previous"==t?e.$container.find(e.selectors.prev).not(e.selectors.disabled).get(0):e.$container.find(e.selectors.next).not(e.selectors.disabled).get(0);if(!r||!window.jQuery){var o=new Error(a('Unable to click "%s" button',t));return i(o)}i('mocking "click" event on %s',r),window.jQuery(r).one("click",function(){i("caught mocked click on %s",r),n()}).trigger("click")}},{"visionmedia/debug":4,"yields/fmt":52}],56:[function(e,t,n){n.firstOfWeek=function(e,t){var n=t.closest("td"),i=n.prev("td").not(e.selectors.disabled);return!i.length},n.firstOfMonth=function(e,t){var n=t.closest("td"),i=n.closest("tbody"),a=i.find("td "+e.selectors.day).not(e.selectors.disabled);return 0===a.index(t)},n.lastOfWeek=function(e,t){var n=t.closest("td"),i=n.next("td").not(e.selectors.disabled);return!i.length},n.lastOfMonth=function(e,t){var n=t.closest("td"),i=n.closest("tbody"),a=i.find("td").not(e.selectors.disabled),r=a.index(n);return r==a.length-1}},{}],12:[function(e,t){function n(e){e.fn.fixMenu=i}function i(e){for(var t,n=0;t=this[n++];)a(t,e);return this}var a=e("./");t.exports=n},{"./":58}],58:[function(e,t){function n(e,t,n){m(e).on(t,n)}function i(e,t,n){m(e).fire(t,n)}var a=e("component/each"),r=e("component/clone"),o=e("../selector"),c=o.queryAll,s=o.query,l=e("../dom/classes"),d=l.addClass,u=l.removeClass,f=e("../dom/get-element-coordinates"),p=e("../dom/is-visible"),m=e("../jquery");t.exports=function(){function e(e,t){t.selector&&(e=s(t.selector,e)),t.event&&l(e,{type:t.event}),t.removeClass&&u(e,t.removeClass),t.addClass&&d(e,t.addClass)}function t(t,n,i){var a,r,o;i&&i.length>0&&(n.expand?(n.expand.target&&"child"===n.expand.target&&(t=i[0]),e(t,n.expand)):(a=f(t),r=a.left+a.width/2,o=a.top+a.height/2,l(t,{type:"mouseover"},{pageX:r,pageY:o,clientX:r,clientY:o}),l(t,{type:"mousemove"},{pageX:r,pageY:o,clientX:r,clientY:o})),p(i[0])||!n.timeout?i[0].focus():n.timeout&&setTimeout(function(){p(i[0])?i[0].focus():t.focus()},n.timeout))}function o(t,n,i){n.collapse?(n.collapse.target&&"parent"===n.collapse.target&&(t=i),e(t,n.collapse)):l(t,{type:"mouseout"}),i&&i.focus()}function l(e,t,n){i(e,t.type,n)}function m(e,i,l,d,u,f,p,g){function b(e,t){var n,i;for(n=e,i=0;t>i&&n&&(n=n.parentNode,"BODY"!==n.nodeName);i++);return n}function v(e){for(var t,n,i=0;;){if(t=b(e[0],i),n=b(e[1],i),t===n)return t;if("BODY"===t.nodeName)return null;i+=1}}function x(e){var t;t=c("a",e),a(t,function(e){e.setAttribute("tabindex","-1")}),e.setAttribute("tabindex","0"),n(e,"focus",function(){h||z[0].focus()})}function y(){var e,t,n,o,u,f=g;e=r(d),t=i,k=e.splice(0,1)[0],k.indexGetter&&(f=k.indexGetter(i)),k.preselection&&(t=s(k.preselection),k.ownsSelector&&(n=k.ownsSelector,-1!==n.indexOf("{index}")&&(n=n.replace("{index}",f)),j=s(n,t),C=j.getAttribute("id"),C||(C="amaze-"+Math.random().toString().substring(2),j.setAttribute({id:C})),j.setAttribute("role","menu"),i.setAttribute("aria-owns",C))),o=k.selector,-1!==o.indexOf("{index}")&&(o=o.replace("{index}",f)),z=c(o,t),j||(u=v(z),u&&u.setAttribute("role","menu")),z.length&&i.setAttribute("aria-haspopup","true"),i.setAttribute("role",l.role),a(z,function(t,n){var a=i;k.sanitize&&k.sanitize.call(t),"menubar"===l.role&&(a=null),m(a,t,k,e,n<z.length-1?z[n+1]:z[0],n>0?z[n-1]:z[z.length-1],p,n)})}var w,k,z,C,j;if("menubar"===l.role&&x(i),d.length>0)try{y()}catch(R){}else i.setAttribute("role",l.role);if(n(i,"keydown",function(n){var i=n.which||n.keyCode,a=!1;if(!(n.ctrlKey||9!==i&&n.shiftKey)){switch(i){case 13:z&&z.length>0?t(this,l,z):l.clickSelector?s(l.clickSelector,this).click():this.click(),a=!0;break;case 37:e?o(this,l,e):f.focus(),a=!0;break;case 27:o(this,l,e),a=!0;break;case 38:f&&f.focus(),a=!0;break;case 39:if(!e){u.focus(),a=!0;break}z&&z.length>0&&t(this,l,z),a=!0;break;case 40:e?u&&u.focus():t(this,l,z),a=!0;break;case 9:h=n.shiftKey&&n.target!==p?!0:!1,o(this,l,e)}a&&(n.preventDefault(),n.stopPropagation())}}),"menubar"!==l.role){for(w=i.parentNode;w&&w.setAttribute&&w!==j&&!w.getAttribute("role");)w.setAttribute("role","presentation"),w=w.parentNode;i.setAttribute("tabindex","-1")}}function g(e,t){var n=c(e);a(n,function(e,n){m(null,e,{role:"menubar"},t,null,null,e,n)})}var h=!1;return g}()},{"component/each":5,"component/clone":46,"../selector":32,"../dom/classes":59,"../dom/get-element-coordinates":42,"../dom/is-visible":60,"../jquery":2}],59:[function(e,t,n){var i=e("component/classes");n.addClass=function(e,t){return i(e).add(t)},n.removeClass=function(e,t){return i(e).remove(t)},n.hasClass=function(e,t){return i(e).has(t)},n.toggleClass=function(e,t){return i(e).toggle(t)}},{"component/classes":41}],60:[function(e,t){function n(e,t){var i,a;return e.ownerDocument?(e.currentStyle?(i=e.currentStyle,a="getAttribute"):(i=e.ownerDocument.defaultView.getComputedStyle(e,null),a="getPropertyValue"),"none"===i[a]("display")||"hidden"===i[a]("visibility")?!1:!t&&(parseInt(i[a]("text-indent"),10)<-200||parseInt(i[a]("top"),10)<-200||parseInt(i[a]("left"),10)<-200)?!1:t&&"true"===e.getAttribute("aria-hidden")?!1:"body"!==e.nodeName.toLowerCase()&&e.parentNode&&e.parentNode!==e?n(e.parentNode,t):!0):!0}t.exports=n},{}],13:[function(e,t){function n(e){e.fn.fixModal=i}function i(e){for(var t,n=0;t=this[n++];)a(t,e);return this}var a=e("./");t.exports=n},{"./":61}],61:[function(e,t){function n(e,t){var n,c=t.modalSelector,s=t.closer,l=t.callback,d=t.openEvent||"click",u=t.closeEvent||"click",f=t.delay,p=o(e);n=function(){function t(){if(i&&0!==i.length){for(m=0,g=i.length-1,d=i[m];g-1>=m&&(d=i[m],!r(d)||"-1"===d.getAttribute("tabindex"));)m+=1;for(f=i[g];g>=m+1&&(f=i[g],!r(f)||"-1"===f.getAttribute("tabindex"));)g-=1}else d=f=b}var n,i,d,f,p,m,g,h=["a","input","[tabindex]","select","button","textarea","area"].join(","),b=a.query(c);if(!b)throw new Error('Could not find a modal for selector "'+c+'"');n=o(b),i=a.queryAll(h,b),p="string"==typeof s?a.query(s,b):s,b.getAttribute("tabindex")||(b.tabIndex=-1,n.on("blur",function(){b.removeAttribute("tabindex")})),l(e,b,p),n.off("keydown"),o(p).one(u,function(){e.focus()}),p&&"A"!==p.nodeName&&"INPUT"!==p.nodeName&&"BUTTON"!==p.nodeName&&!p.getAttribute("tabindex")&&(p.tabIndex=0),n.on("keydown",function(n){var r=n.target,o=n.which;i.length<2&&(i=a.queryAll(h,b)),t(),9===o?!n.shiftKey||r!==d&&r!==b?n.shiftKey||r!==f&&r!==b||(d.focus(),n.preventDefault(),n.stopPropagation()):(f.focus(),n.preventDefault(),n.stopPropagation()):27===o&&(p.click(),e.focus(),n.preventDefault(),n.stopPropagation())}),t(),b.focus()},l=l||i,p.on(d,function(e){var t;if(-1!==d.indexOf("key")){if(t=e.which||e.keyCode,e.ctrlKey||e.shiftKey||e.altKey)return;if(13!==t&&32!==t)return}f?setTimeout(n,f):n()})}function i(){}var a=e("../selector"),r=e("../dom/is-focusable"),o=e("../jquery");t.exports=n},{"../selector":32,"../dom/is-focusable":62,"../jquery":2}],62:[function(e,t){function n(e){if("string"==typeof e&&(e=i.query(e)),!e||!a(e,!0)&&"AREA"!==e.nodeName)return!1;if(e.disabled)return!1;switch(e.nodeName){case"A":case"AREA":if(e.href)return!0;break;case"INPUT":return"hidden"===e.type?!1:!0;case"TEXTAREA":case"SELECT":case"BUTTON":return!0}var t=e.getAttribute("tabindex");return t&&!isNaN(parseInt(t,10))?!0:!1}var i=e("../selector"),a=e("./is-visible");t.exports=n},{"../selector":32,"./is-visible":60}],14:[function(e,t){function n(e){e.fn.fixTable=i}function i(e){for(var t,n=0;t=this[n++];)r(t,a(e));return this}var a=e("component/clone"),r=e("./");t.exports=n},{"component/clone":46,"./":63}],63:[function(e,t,n){function i(e,t){return~C(e,t)}function a(e,t,n){var a,r,o,c,s,l,d=[],u=n.rows,f=n.columns,p=e.rows.length;for(a=0;p>a;a++)if(s=e.rows[a],l=0,!u||!i(u,a))for(o=0,c=s.cells.length;c>o;o++)r=s.cells[o],f&&i(f,l)||!i(t,l)||d.push(r),l+=r.colSpan;return d}function r(e,t){var n=e.createCaption();return"string"==typeof t?void(n.innerHTML=t):"number"==typeof t&&e.rows[t]?(n.innerHTML=e.rows[t].cells[0].innerHTML,void e.deleteRow(t)):void 0}function o(e,t){var n=e.id;return(null===n||""===n)&&(n=t.unique+"-"+e.cellIndex+"-"+e.parentNode.rowIndex,e.id=n),n}function c(e,t){var n,a,r,c,s,l,d,u,f=t.ignore.columns,p=t.header.columnHeaders;for(n=0,a=p.length;a>n;n++)for(u=0,r=p[n],s=e.rows[r].cells,c=0,l=s.length;l>c;c++)i(f,u)||(d=o(s[c],t),D(s[c],"th",{scope:"col"})),u+=s[c].colSpan}function s(e,t){var n,r,c,s,l=t.header,d=t.ignore,u=a(e,l.rowHeaders,d);for(n=0,r=u.length;r>n;n++)c=u[n],i(d.rows,c.parentNode.rowIndex)||(s=o(c,t),D(c,"th",{scope:"row"}))}function l(e,t){var n=t.header;n.rowHeaders&&n.rowHeaders.length&&s(e,t),n.columnHeaders&&n.columnHeaders.length&&c(e,t)}function d(e){var t,n,i;for(i=e.getElementsByTagName("th"),n=i.length;n--;)t=i[n],D(t,"td")}function u(e,t,n){var i=n.aria?"aria-labelledby":"headers",a=e.getAttribute(i)||"";-1===a.indexOf(t)&&(a+=" "+t,e.setAttribute(i,a))}function f(e,t,n,i,a,r,o){var c,s;for(c=t;c--;)for(s=n;s--;)e[a+s]=e[a+s]||[],e[a+s][r+c]={rowHeaders:i,columnHeaders:a,th:"TH"===o.nodeName,scope:o.scope||!1}}function p(e){var t,n,i,a,r,o,c,s=[];for(t=0;t<e.rows.length;t++)for(r=e.rows[t],s[t]=s[t]||[],i=0,n=0;n<r.cells.length;n++){for(a=r.cells[n],o=a.colSpan||1,c=a.rowSpan||1;void 0!==s[t][i];)i++;f(s,o,c,n,t,i,a),i+=a.colSpan}return s}function m(e,t,n,i,a,r){var o,c,s,l=[0,t.length-1];for(l[1]<1&&(l[1]=t.length-1+l[1]),o=e.rows[n.columnHeaders].cells[n.rowHeaders].id,c=l[0];c<=l[1];c++)c!==a&&(s=t[c][i],u(e.rows[s.columnHeaders].cells[s.rowHeaders],o,r))}function g(e,t,n,i,a,r){var o,c,s,l=t[a],d=[0,l.length-1];for(d[1]<1&&(d[1]=l.length-1+d[1]),o=e.rows[n.columnHeaders].cells[n.rowHeaders].id,c=d[0];c<=d[1];c++)c!==i&&(s=t[a][c],u(e.rows[s.columnHeaders].cells[s.rowHeaders],o,r))}function h(e,t){var n,i,a,r,o,c,s=p(e);for(i=0,o=s.length;o>i;i++)for(a=s[i],n=0,c=a.length;c>n;n++)r=a[n],r.th&&("col"===r.scope?m(e,s,r,n,i,t):g(e,s,r,n,i,t))}function b(e,t){var n,i,a=O("th,td",e);for(n=a.length;n--;)""===a[n].innerHTML&&(i=document.createElement("span"),i.className="amaze-offscreen",i.innerHTML=t,a[n].appendChild(i))}function v(e){var t,n=O("tr",e),i=O("td",e),a=O("th",e),r=O("tbody",e),o=O("thead",e),c=O("tfoot",e);for(e.setAttribute("role","grid"),t=n.length;t--;)n[t].setAttribute("role","row");for(t=a.length;t--;)a[t].setAttribute("role","gridcell");for(t=i.length;t--;)i[t].setAttribute("role","gridcell");r&&r.length>0&&r[0].setAttribute("role","presentation"),o&&o.length>0&&o[0].setAttribute("role","presentation"),c&&c.length>0&&c[0].setAttribute("role","presentation")}function x(e,t){var n,i=t.aria?"aria-labelledby":"headers";t.regions&&0!==t.regions.length&&(n=O("tr",e),j(t.regions,function(e){var a,r=n[e.headerCell.row].cells[e.headerCell.column];a=r.getAttribute("id"),a||o(r,t),"TD"===r.nodeName&&D(r,"th"),j(e.targetCells,function(e){var t,r,o,c,s,l=n[e.row];for(r=e.columns[1],c=e.columns[0],0===r?-1===c?(c=0,r=1):r=l.cells.length:0>r?r=l.cells.length+r:r+=1,t=c;r>t;t++)o=l.cells[t],s=o.getAttribute(i),s?s+=" "+a:s=a,o.setAttribute(i,s)})}))}function y(e,t){var n=t.aria?"aria-labelledby":"headers",i=O("["+n+"]",e);j(i,function(e){var t,i=e.getAttribute(n),a=T(i).split(" "),r="";""!==A(e)&&(j(a,function(e){var t=document.getElementById(e);r+=" "+A(t),t.removeAttribute("scope"),D(t,"td")}),""!==T(r)&&(t=document.createElement("span"),t.className="amaze-offscreen",t.innerHTML=r,e.insertBefore(t,e.firstChild)),e.removeAttribute(n))})}function w(e){e&&(e.header&&(e.header.hasOwnProperty("x")&&(e.header.rowHeaders=e.header.x),e.header.hasOwnProperty("y")&&(e.header.columnHeaders=e.header.y)),e.ignore&&(e.ignore.hasOwnProperty("x")&&(e.ignore.columns=e.ignore.x),e.ignore.hasOwnProperty("y")&&(e.ignore.rows=e.ignore.y)))}function k(e,t){function n(e){return e&&0!==e.length&&(e.length>1||0!==e[0])?!0:!1}return t&&(t.aria||t.iOS)?!1:e.regions||n(e.header.columnHeaders)||n(e.header.rowHeaders)?!1:!0}function z(e,t){var i,a=E(n.defaults);w(t),a=R(a,t),a.unique="amaze-table-"+N++,i=k(a,t),d(e),l(e,a),i||(h(e,a),x(e,a)),void 0!==a.caption&&null!==a.caption&&r(e,a.caption),a.header.iOS?y(e,a):a.aria===!0&&(v(e),b(e,a.emptyText))}var C=e("component/indexof"),j=e("component/each"),R=e("matthewmueller/extend.js"),E=e("component/clone"),T=e("component/trim"),D=e("../dom/replace-tag"),A=e("../dom/get-visible-text"),I=e("../selector"),O=I.queryAll,N=0;n=t.exports=function(e,t){var n,i=O(e),a=i.length;for(n=0;a>n;n++)z(i[n],t)},n.defaults={header:{rowHeaders:[],columnHeaders:[],iOS:null!==navigator.userAgent.match(/iP(hone|od|ad)/i)},ignore:{columns:[],rows:[]},caption:null,aria:null!==navigator.userAgent.match(/Mac OS/i)},n.defaults.emptyText="empty"},{"component/indexof":39,"component/each":5,"matthewmueller/extend.js":53,"component/clone":46,"component/trim":64,"../dom/replace-tag":65,"../dom/get-visible-text":66,"../selector":32}],64:[function(e,t,n){function i(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}n=t.exports=i,n.left=function(e){return e.trimLeft?e.trimLeft():e.replace(/^\s*/,"")},n.right=function(e){return e.trimRight?e.trimRight():e.replace(/\s*$/,"")}},{}],65:[function(e,t){function n(e,t,n){"string"==typeof e&&(e=i.query(e));var c=e.parentNode,s=document.createElement(t),l=r(e),d=a(s);return d.attr(l||{}),d.attr(n||{}),o(e,s),c.insertBefore(s,e),c.removeChild(e),s}var i=e("../selector"),a=e("../jquery"),r=e("./get-attributes"),o=e("./move-child-nodes");t.exports=n},{"../selector":32,"../jquery":2,"./get-attributes":67,"./move-child-nodes":68}],67:[function(e,t){function n(e){var t={};if(e.attributes)for(var n=0,i=e.attributes.length;i>n;n++){var a=e.attributes[n],r=a.nodeValue;a.specified&&null!==r&&(t[a.nodeName.toLowerCase()]=r)}return e.style&&e.style.cssText&&(t.style=e.style.cssText),t}t.exports=n},{}],68:[function(e,t){var n=e("../selector");t.exports=function(e,t){var i;for("string"==typeof e&&(e=n.query(e)),"string"==typeof t&&(t=n.query(t)),i=e.firstChild;i;)t.appendChild(i),i=e.firstChild}},{"../selector":32}],66:[function(e,t){function n(e){var t=e.nodeName.toLowerCase(),c="";if("style"==t||"script"==t)return c;if(!o(e))return c;if("input"==t&&"radio"==e.type)return a(e);for(var s=e.childNodes,l=0;l<s.length;l++){var u=s[l];c+="#text"==u.nodeName?i(u):" "+n(u)}return c=c.replace(d," "),r(c)}function i(e){return(e.nodeValue||"").replace(c,"\n").replace(s," ").replace(l," ").replace(d," ")}function a(e){return e.getAttribute("value")||""}var r=e("component/trim"),o=e("./is-visible"),c=/\r\n/gi,s=/&nbsp;/gi,l=/\u00A0/gi,d=/[\s]+/gi;t.exports=n},{"component/trim":64,"./is-visible":60}],15:[function(e,t){var n=e("./");t.exports=function(e){e.fn.fixTabs=n}},{"./":69}],69:[function(e,t){function n(e){var t={tabSelector:"li",activeClass:"active",inactiveClass:null,panelGetter:function(e){return"#"+e.getAttribute("href")},panelShow:function(e){e.style.display="block"},panelHide:function(e){e.style.display="none"}},n=s.extend(t,e),l=this;return s(l).each(function(){var e=this,t=s(n.tabSelector,e);t.each(function(e,i){var o,l=s(i);i.setAttribute("role","tab"),n.activeClass&&l.hasClass(n.activeClass)?(o=i,i.tabIndex=0,i.setAttribute("aria-selected","true")):(i.tabIndex=-1,i.setAttribute("aria-selected","false"));var d=n.panelGetter&&s(n.panelGetter(i,e))[0];d&&(d.tabIndex=-1,d.setAttribute("role","tabpanel"),s(d).rndid(),i.setAttribute("aria-owns",d.id),d.setAttribute("aria-hidden",!!o),c(d,i,"aria-labelledby"),s(d).on("keydown",function(e){33===e.which&&(e.preventDefault(),i.focus())})),l.on("click",function(){t.each(function(e,t){r(t,n)}),a(this,n)})}),s(e).on("keydown",function(e){var c=e.target,s=e.which;switch(s){case 37:e.preventDefault(),i("prev",c,t,n);break;case 38:e.preventDefault(),i("prev",c,t,n);break;case 39:e.preventDefault(),i("next",c,t,n);break;case 40:e.preventDefault(),i("next",c,t,n);break;case 13:t.each(function(e,t){r(t,n)}),a(c,n);break;case 32:e.preventDefault(),t.each(function(e,t){r(t,n)}),a(c,n);break;case 34:e.preventDefault(),o(c)}})}),this}function i(e,t,n){var i=s.inArray(t,n);if(!(0>i)){0===i&&"prev"===e?i=n.length:i===n.length-1&&"next"===e&&(i=-1);var a="prev"===e?i-1:i+1,r=n[a];r&&r.focus()}}function a(e,t){var n=s(e);e.tabIndex=0,t.activeClass&&n.addClass(t.activeClass),t.inactiveClass&&n.removeClass(t.inactiveClass),e.setAttribute("aria-selected","true");var i=s("#"+e.getAttribute("aria-owns"))[0];i&&(t.panelShow&&t.panelShow(i),i.setAttribute("aria-hidden","false"))}function r(e,t){var n=s(e);e.tabIndex=-1,t.activeClass&&n.removeClass(t.activeClass),t.inactiveClass&&n.addClass(t.inactiveClass),e.setAttribute("aria-selected","false");var i=s("#"+e.getAttribute("aria-owns"))[0];i&&(t.panelHide&&t.panelHide(i),i.setAttribute("aria-hidden","true"))}function o(e){var t=e.getAttribute("aria-owns"),n=t&&document.getElementById(t);n&&n.focus()}function c(e,t,n){s(t).rndid();var i=e.getAttribute(n);i=i&&i.length?i+" "+t.id:t.id,e.setAttribute(n,i)}var s=e("../jquery");t.exports=n},{"../jquery":2}],16:[function(e,t){function n(e){e.fn.fixTooltip=i}function i(e,t){e.jquery&&e.length&&(e=e.get(0));for(var n,i=0;n=this[i++];)a(n,e,t);return this}var a=e("./");t.exports=n},{"./":70}],70:[function(e,t,n){var i=e("stephenmathieson/rndid"),a=e("matthewmueller/extend.js"),r=e("../jquery"),o=e("../selector");n=t.exports=function(e,t,n){n=a({show:function(e){e.style.display="block"},hide:function(e){e.style.display="none"}},n||{}),"string"==typeof e&&(e=o.query(e)),"string"==typeof t&&(t=o.query(t));var c,s=t.id||i();t.id=s,c=e.getAttribute("aria-describedby"),c?-1===c.indexOf(s)&&e.setAttribute("aria-describedby",c+" "+s):e.setAttribute("aria-describedby",s),r(e).on("focus",function(i){n.show(t,e,i)}).on("blur",function(i){n.hide(t,e,i)})}},{"stephenmathieson/rndid":71,"matthewmueller/extend.js":53,"../jquery":2,"../selector":32}],71:[function(e,t,n){function i(e,t){"number"==typeof e&&(t=e,e=""),t=t||n.defaultLength;var a=(e||"")+r(t);return document.getElementById(a)?i(e,t):a}function a(){return String.fromCharCode(Math.floor(25*Math.random())+97)}function r(e){for(var t=0,n="";e>t;t++)n+=a();return n}n=t.exports=i,n.defaultLength=7},{}],17:[function(e,t){function n(e){e.politeAnnouncement=function(e){i.polite(e)},e.assertiveAnnouncement=function(e){i.assertive(e)}}var i=e("./");t.exports=n},{"./":72}],72:[function(e,t){function n(e,t){var n=document.createElement("p");n.innerHTML=e,t.appendChild(n),u.push({element:n,expires:(new Date).getTime()+s}),r||(r=window.setInterval(i,l))}function i(){var e,t,n,i,o=(new Date).getTime(),c=-1!==navigator.userAgent.indexOf("Windows");for(e=u.length-1;e>=0;e--)if(t=u[e],t.expires<o){if(c)return i=a("polite"),i.parentNode.removeChild(i),a("polite"),i=a("assertive"),i.parentNode.removeChild(i),a("assertive"),void(u=[]);n=t.element,n&&n.parentNode&&n.parentNode.removeChild(n),u.splice(e,1)}u.length||(r=window.clearInterval(r))}function a(e,t){t=t||document.body;var n="amaze_liveregions_"+e,i=document.getElementById(n);return i||(i=document.createElement("div"),i.id=n,i.className="amaze-offscreen",i.setAttribute("role","log"),i.setAttribute("aria-live",e),i.setAttribute("aria-atomic","false"),i.setAttribute("aria-relevant","additions"),t.appendChild(i),d||(d=!0,c(".amaze-offscreen {  position: absolute !important;  clip: rect(1px 1px 1px 1px); /* IE6, IE7 */  clip: rect(1px, 1px, 1px, 1px);  overflow: hidden;  width: 1px;  height: 1px;}"))),i}var r,o=e("dequelabs/domready@0.2.12"),c=e("../css"),s=3e4,l=1e3,d=!1,u=[],f=t.exports={};f.polite=function(e){var t=a("polite");n(e,t)},f.assertive=function(e){var t=a("assertive");n(e,t)},o(function(){a("polite"),a("assertive")})},{"dequelabs/domready@0.2.12":73,"../css":44}],73:[function(t,n){!function(t,i){"undefined"!=typeof n?n.exports=i():"function"==typeof e&&"object"==typeof e.amd?e(i):this[t]=i()}("domready",function(e){function t(e){for(p=1;e=i.shift();)e()}var n,i=[],a=!1,r=document,o=r.documentElement,c=o.doScroll,s="DOMContentLoaded",l="addEventListener",d="onreadystatechange",u="readyState",f=c?/^loaded|^c/:/^loaded|c/,p=f.test(r[u]);return r[l]&&r[l](s,n=function(){r.removeEventListener(s,n,a),t()},a),c&&r.attachEvent(d,n=function(){/^c/.test(r[u])&&(r.detachEvent(d,n),t())}),e=c?function(t){self!=top?p?t():i.push(t):function(){try{o.doScroll("left")}catch(n){return setTimeout(function(){e(t)},50)}t()}()}:function(e){p?e():i.push(e)}})},{}],18:[function(e,t){function n(e){e.localeText=i}var i=e("./");t.exports=n},{"./":74}],74:[function(e,t,n){function i(e,t){if(t=t||(n.htmlLanguage=n.htmlLanguage||a()),"undefined"==typeof amaze)throw new Error("This method may only be used in unison with Amaze");return window.amaze.__text[e]&&window.amaze.__text[e][t]||null}function a(){var e=r(o.getAttribute("lang")||"en");return e.length>2&&(e=e.substring(0,2)),e.toLowerCase()}var r=e("component/trim"),o=document.documentElement;n=t.exports=i,n.htmlLanguage=null},{"component/trim":64}],19:[function(e,t){function n(e){e.offscreen=function(t){var n=a(t);return e(n)},e.fn.offscreen=function(){return this.each(function(e,t){i(t)}),this}}var i=e("./"),a=i.create;t.exports=n},{"./":75}],75:[function(e,t,n){function i(e){var t=e.jquery?e:r(e);return t.addClass("amaze-offscreen"),e}function a(e){var t=document.createElement(e||"div");return i(t),t}var r=e("../jquery");n=t.exports=i,n.create=a},{"../jquery":2}],20:[function(e,t){function n(e){e.pageTitle=function(){i.apply(null,arguments)}}var i=e("./");t.exports=n},{"./":76}],76:[function(e,t){function n(e,t){return e=t?document.title+" "+e:e,document.title=e,e}t.exports=n},{}],21:[function(e,t){function n(e){e.fn.presentation=i}function i(){for(var e,t=0;e=this[t++];)a(e);return this}var a=e("./");t.exports=n},{"./":77}],77:[function(e,t){function n(e){e=a.queryAll(e),i(e,function(e){e.setAttribute("role","presentation"),"IMG"===e.nodeName&&e.setAttribute("alt","")})}var i=e("component/each"),a=e("../selector");t.exports=n},{"component/each":5,"../selector":32}],22:[function(e,t){function n(e){e.rndid=a,e.fn.rndid=i}function i(e){for(var t,n=0;t=this[n++];)(!t.id||e)&&(t.id=a());return this}var a=e("stephenmathieson/rndid");t.exports=n},{"stephenmathieson/rndid":71}],23:[function(e,t){function n(e){e.fn.fixSkipLink=i}function i(e){for(var t,n=0;t=this[n++];)a(t,e);return this}var a=e("./fix");t.exports=n},{"./fix":78}],78:[function(e,t){function n(e,t){if("string"==typeof e&&(e=r.query(e)),!(t=i(e,t)))throw new Error("Cannot find skiplink target.  You must specifiy `target` if the skip link does not have a valid internal reference.");o(e).on("click",a(t))}function i(e,t){return t=t||e.hash&&e.hash.substr(1),"string"==typeof t?t=document.getElementById(t)||document.getElementsByName(t)[0]:t.jquery&&(t=t.get(0)),t}var a=e("./").listener,r=e("../selector"),o=e("../jquery");t.exports=n},{"./":79,"../selector":32,"../jquery":2}],79:[function(e,t,n){function i(e,t,n){n=n||{},e=o(e),t=o(t),f||(s(u),f=!0);var i=document.createElement("a");return i.href="#",t.id&&(i.href+=t.id),i.className="amaze-skip-link",n["class"]&&(i.className+=" "+n["class"]),i.appendChild(document.createTextNode(n.text||"Skip to main content")),e.parentNode.insertBefore(i,e),d(i).on("focus",function(){r(this,e,n.align)}).on("blur",function(){this.style.left="",this.style.top=""}).on("click",a(t)),i}function a(e){return function(t){t.preventDefault(),c(e)}}function r(e,t,n){n=n||"";var i,a,r;if("object"!=typeof n)n=n.toLowerCase(),i=-1!==n.indexOf("s")?t.offsetTop+t.offsetHeight-e.offsetHeight+"px":t.offsetTop+"px",a=-1!==n.indexOf("e")?t.offsetLeft+t.offsetWidth-e.offsetWidth+"px":t.offsetLeft+"px",e.style.top=i,e.style.left=a;else for(r in n)n.hasOwnProperty(r)&&(e.style[r]=n[r])}function o(e){return"string"==typeof e&&(e=l.query(e)),e}var c=e("yields/set-active"),s=e("../css"),l=e("../selector"),d=e("../jquery"),u=".amaze-skip-link {  position: absolute;  top: -9999px;  left: -9999px;  background: #fff;  color: #00f;}",f=!1;n=t.exports=i,n.listener=a},{"yields/set-active":54,"../css":44,"../selector":32,"../jquery":2}],24:[function(e,t){function n(e){e.fn.skipLink=i}function i(e,t){e.jquery&&(e=e.get(0));for(var n,i=[],r=0;n=this[r++];)i.push(a(n,e,t));return this.constructor(i)}var a=e("./");t.exports=n},{"./":79}],25:[function(e,t){function n(e){e.fn.fire=i}function i(e,t){for(var n,i=0;n=this[i++];)a(n,e,t);return this}var a=e("./");t.exports=n},{"./":80}],80:[function(e,t){function n(e,t,n){a(n=n||{});var i=document.createEvent("click"==t?"MouseEvents":"HTMLEvents");r(i,n),i.initEvent(t,!0,!0),e.dispatchEvent(i)}function i(e,t,n){a(n=n||{});var i=document.createEventObject();n.which&&!n.keyCode&&(n.keyCode=n.which),r(i,n),e.fireEvent("on"+t,i)}function a(e){for(var t in e)if("target"==t||"type"==t)throw new Error(o('Cannot set event "%s"',t))}var r=e("matthewmueller/extend.js"),o=e("yields/fmt");t.exports=document.createEvent?n:i},{"matthewmueller/extend.js":53,"yields/fmt":52}],3:[function(e,n){var i=e("visionmedia/debug")("amaze:core"),a=e("component/bus"),r=e("timoxley/next-tick"),o=e("yields/fmt"),c=e("../css"),s=e("../injections"),l=e("../utilities"),d=e("../jquery"),u=e("../statuses/index.json"),f=window.console,p=[],m=n.exports=a;
m._status=u.running.bootstrap,m.css=c,m.version="1.0.4",m.injection=s.register,m.utility=l.register,m.init=e("../initialize"),m.status=function(e){return e?(i('set status: "%s"',e),this._status=e,a.emit("status",e),this):this._status},m.flush=function(){i("flushing %d injections",p.length),p.length=0},m.on("status",function(e){i("caught status update: %s",e),u.ready==e&&(i("running %d injections",p.length),s.run(p),r(function(){m.flush(),m.status(u.done)}))}),m.on("error",function(e){if("object"==typeof t&&t.debug)throw e;"object"==typeof f&&(f.error?f.error(e):f.log(e))}),m.once("url",function(e){m.SERVER_URL=e}),m.on("injection",function(e){u.done==m.status()?(i('running injection "%s"',e.name),s.run(e)):(i('adding injection "%s" to the stack',e.name),p.push(e))}),m.on("utility",function(e){var t={};try{e.fn(window,document,t,d)}catch(n){return i('caught error in utility "%s": %s',e.name,n.message),a.emit("error",n)}t.exports&&"function"==typeof t.exports?(i('adding injection "%s" as a jQuery plugin',e.name),d.fn[e.name]=t.exports):a.emit("error",new Error(o('no exported function in utility "%s"',e.name)))})},{"visionmedia/debug":4,"component/bus":81,"timoxley/next-tick":47,"yields/fmt":52,"../css":44,"../injections":82,"../utilities":83,"../jquery":2,"../statuses/index.json":84,"../initialize":85}],81:[function(e,t){var n=e("emitter");t.exports=new n},{emitter:86}],86:[function(e,t){function n(e){return e?i(e):void 0}function i(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i,a=0;a<n.length;a++)if(i=n[a],i===t||i.fn===t){n.splice(a,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var i=0,a=n.length;a>i;++i)n[i].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],82:[function(e,n,i){function a(e,n){if("function"!=typeof e)return u.emit("error",new TypeError(f("invalid injection: %s",p(e))));n=n||{};var i=n.regex;if(!i||"undefined"==typeof t||!t.singleFile||d(b,i)){var a=n.name||"Anonymous injection",r=n.priority||"default",o=n.css||null;l('register injection "%s" (%s priority)',a,r),u.emit("injection",{fn:e,priority:r,name:a,css:o})}}function r(e){m(e)||(e=[e]);var t=e.sort(o);l("run %d injections",t.length);for(var n=0,i=t.length;i>n;n++)c(t[n])}function o(e,t){return v[e.priority]-v[t.priority]}function c(e){var t=e.fn,n=e.name;try{e.css&&(l('adding injection "%s"\'s css',n),h(e.css)),l('running injection "%s"',n),t(window,document,s,g)}catch(i){i.injection=e,u.emit("error",i)}}function s(){}var l=e("visionmedia/debug")("amaze:injections"),d=e("../regex").path,u=e("component/bus"),f=e("yields/fmt"),p=e("component/type"),m=e("juliangruber/isarray"),g=e("../jquery"),h=e("../css"),b=window.location.pathname+window.location.search,v={high:-1,"default":0,low:1};i.register=a,i.run=r},{"visionmedia/debug":4,"../regex":87,"component/bus":81,"yields/fmt":52,"component/type":49,"juliangruber/isarray":37,"../jquery":2,"../css":44}],87:[function(e,t,n){function i(e,t,n){var i=a(e,n);return i&&n.path&&(i=a(t,n.path)),i}function a(e,t){return t.include&&!t.include.test(e)?!1:t.exclude&&t.exclude.test(e)?!1:!0}n.site=i,n.path=a},{}],83:[function(e,t,n){function i(e,t){return"function"!=typeof t?r.emit("error",new TypeError(c("invalid utility: %s",o(t)))):"string"!=typeof e?r.emit("error",new TypeError("invalid utility name")):(a('register utility "%s"',e),void r.emit("utility",{fn:t,name:e}))}var a=e("visionmedia/debug")("amaze:utilities"),r=e("component/bus"),o=e("component/type"),c=e("yields/fmt");n.register=i},{"visionmedia/debug":4,"component/bus":81,"component/type":49,"yields/fmt":52}],84:[function(e,t){t.exports={running:{bootstrap:"RUNNING BOOTSTRAPPER",overlays:"RUNNING OVERLAYS"},notrun:"NOT-RUN",ready:"READY",waiting:"WAITING",done:"DONE",skipped:"SKIPPED"}},{}],85:[function(e,n){function i(e,t){function n(t){var n=p("%s/%s.js%s",e,t,y);return function(e){s("loading %s (%s)",t,n),d(n,c(function(n){return n?e(n):(s("%s loaded",t),l.emit(p("%s loaded",t)),void e())}))}}var i=r();if(i.singleFile){if(s("single file mode"),o())return s("inhibited via cookie"),l.emit("status",b.notrun);if(!t)return s("missing regex"),l.emit("error",new Error("Single-file mode requires a regex object"));if(!h(v,x,t))return s("regex does not match (%s, %s)",v,x),l.emit("status",b.skipped)}l.emit("url",e),l.emit("status",b.waiting),i.extension?u(a):i.singleFile||(s("loading bcl and overlays"),g([n("bcl"),n("overlays")],function(e){return e?l.emit("error",e):void u(a)}))}function a(){l.emit("status",b.ready)}function r(){return"object"==typeof t?t:{}}function o(){return/inhibitamaze *= *true/i.test(document.cookie)}function c(e){return function(){var t=[].slice.call(arguments);m(function(){e.apply(null,t)})}}var s=e("visionmedia/debug")("amaze:initialize"),l=e("component/bus"),d=e("segmentio/load-script"),u=e("dequelabs/domready"),f=e("component/querystring"),p=e("yields/fmt"),m=e("timoxley/next-tick"),g=e("component/array-parallel"),h=e("../regex").site,b=e("../statuses/index.json"),v=location.hostname,x=location.pathname+location.search,y="?"+f.stringify({hostname:v,path:x});n.exports=i},{"visionmedia/debug":4,"component/bus":81,"segmentio/load-script":88,"dequelabs/domready":73,"component/querystring":89,"yields/fmt":52,"timoxley/next-tick":47,"component/array-parallel":90,"../regex":87,"../statuses/index.json":84}],88:[function(e,t){var n=e("script-onload"),i=e("next-tick"),a=e("type");t.exports=function(e,t){if(!e)throw new Error("Cant load nothing...");"string"==a(e)&&(e={src:e});var r="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;e.src&&0===e.src.indexOf("//")&&(e.src=r?"https:"+e.src:"http:"+e.src),r&&e.https?e.src=e.https:!r&&e.http&&(e.src=e.http);var o=document.createElement("script");return o.type="text/javascript",o.async=!0,o.src=e.src,"function"==a(t)&&n(o,t),i(function(){var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(o,e)}),o}},{"script-onload":91,"next-tick":47,type:49}],91:[function(e,t){function n(e,t){e.addEventListener("load",function(e,n){t(null,n)},!1),e.addEventListener("error",function(n){var i=new Error('script error "'+e.src+'"');i.event=n,t(i)},!1)}function i(e,t){e.attachEvent("onreadystatechange",function(n){/complete|loaded/.test(e.readyState)&&t(null,n)}),e.attachEvent("onerror",function(n){var i=new Error('failed to load the script "'+e.src+'"');i.event=n||window.event,t(i)})}t.exports=function(e,t){return e.addEventListener?n(e,t):i(e,t)}},{}],89:[function(e,t,n){var i=encodeURIComponent,a=decodeURIComponent,r=e("trim"),o=e("type"),c=/(\w+)\[(\d+)\]/;n.parse=function(e){if("string"!=typeof e)return{};if(e=r(e),""==e)return{};"?"==e.charAt(0)&&(e=e.slice(1));for(var t={},n=e.split("&"),i=0;i<n.length;i++){var o,s=n[i].split("="),l=a(s[0]);(o=c.exec(l))?(t[o[1]]=t[o[1]]||[],t[o[1]][o[2]]=a(s[1])):t[s[0]]=null==s[1]?"":a(s[1])}return t},n.stringify=function(e){if(!e)return"";var t=[];for(var n in e){var a=e[n];if("array"!=o(a))t.push(i(n)+"="+i(e[n]));else for(var r=0;r<a.length;++r)t.push(i(n+"["+r+"]")+"="+i(a[r]))}return t.join("&")}},{trim:64,type:49}],90:[function(e,t){function n(){}t.exports=function(e,t,i){function a(e){return function(t,n){if(!o){if(t)return i(t,c),void(o=!0);c[e]=n,--r||i(null,c)}}}i||("function"==typeof t?(i=t,t=null):i=n);var r=e&&e.length;if(!r)return i(null,[]);for(var o=!1,c=new Array(r),s=0,l=e.length;l>s;s++){var d=e[s];d.call(t,a(s))}}},{}]},{},{1:""}),amaze.init("undefined",{include:new RegExp("victoriassecret.com|(sp10048b28|stage.victoriassecret-gs3).guided.ss-omtrdc.net|(test-005|dev-005|vsdpint).lbidts.com|ebm.cheetahmail.com|vssecretrewards.com|victoriassecretconnect.com|c.comenity.net|victoriassecrettst.custhelp.com|cmh-pinkdev-002.limited.com","i")}),function(){amaze.$.localeTextWithArguments=function(e,t){var n=amaze.$.localeText(e);return t&&t.length&&n&&t.forEach(function(e,t){n=n.replace("{"+t+"}",e)}),n}}(),amaze.css(":focus{outline:0!important}body.amaze-focus-enabled .BVRRStyledSelectList li.hovering,body.amaze-focus-enabled .amaze-focused,body.amaze-focus-enabled :focus,body.amaze-focus-enabled a.ss3:focus{box-shadow:0 0 0 2px #D91560!important;outline:0!important}body.amaze-focus-enabled .amaze-inset:focus{box-shadow:inset 0 0 0 2px #D91560!important}body.amaze-focus-enabled .amaze-border-focus:focus{border:2px solid #D91560!important}body.amaze-focus-enabled .amaze-pink-focused,body.amaze-focus-enabled a.dsfw:focus span,html.pink body.amaze-focus-enabled :focus{box-shadow:0 0 0 2px #E60073!important;outline:0!important}html.pink body.amaze-focus-enabled .amaze-inset:focus{box-shadow:inset 0 0 0 2px #E60073!important}html.pink body.amaze-focus-enabled .amaze-border-focus:focus{border:2px solid #E60073!important}#modal-outer-wrapper,.overlay.shippingRates #outer-wrapper{overflow-y:scroll!important}.amaze-save-reorder{float:left!important;margin-left:15px!important}.amaze-cancel-reorder{float:left!important;margin-left:85px!important}#logo{overflow:visible!important}ul.products>li a:focus{display:block}a.ssf3{display:block;height:auto;width:auto}body>header nav a .black-bar-icon-label.amaze-offscreen{display:inline!important}"),amaze.__text={"new-slide":{en:"New Slide"},"checkout-empty-bag":{en:"YOUR BAG IS EMPTY.  Fill it with something sexy! SHOP NOW >"},account:{en:"Account"},"shopping-bag":{en:"Shopping Bag"},current:{en:"current"},"risk-free-swim":{en:"RISK-FREE SWIM. Free shipping and returns when you buy a swim look! Details"},wardrobe:{en:"Wardrobe"},"write-a-review":{en:"Write a Review"},"select-category":{en:"select a category"},"view-all-videos":{en:"view all videos"},volume:{en:"volume"},slide:{en:"slide"},search:{en:"Search"},add:{en:"Add"},popup:{en:"Open Popup"},remove:{en:"Remove"},warning:{en:"Warning"},twitter:{en:"Twitter"},facebook:{en:"Facebook"},instagram:{en:"Instagram"},pinterest:{en:"Pinterest"},"for":{en:"for"},"shop-now":{en:"Shop Now"},"victorias-secret-fashion-show-london-2014":{en:"victoria's secret fashion show london 2014"},"explore-our-styles":{en:"EXPLORE OUR STYLES. CLASSIC - SEAMLESS - LAYERING"},"dont-see-the-bra-you-want":{en:"Don't see the bra you want? Keep checking! We're always adding new styles and colors online."},"casting-watch-now":{en:"casting the 2014 victoria's secret fashion show. it's a long road to the victoria's secret runway.  get a peek at this year's castings. watch now."},"go-behind-the-scenes":{en:"go behind the scenes"},"watch-the-2014-fashion-show":{en:"watch the 2014 fashion show"},"angel-lineup":{en:"angel lineup"},"musical-guests":{en:"musical guests"},password:{en:"password"},match:{en:"match"},"the-angel-bra-guide":{en:"The Angel Bra Guide"},captcha:{en:"Captcha image"},pause:{en:"pause"},play:{en:"play"},mute:{en:"mute"},unmute:{en:"unmute"},active:{en:"active"},email:{en:"email"},"angelcard-promo":{en:"Not an angel? Apply now.  Angel Cardholders enjoy exclusive offers, reward points, early access to sales and more."},"vspassbook-promo":{en:"Add rewards to Passbook.  Keep all your Secret Rewards Cards in one place.  Use the VS iPhone app to add your Secret Reward Card to Passbook."},"store-locator-suggestions":{en:"Search suggestions available; use the up and down arrow keys to access them."},"zoom-in":{en:"Zoom In"},"zoom-out":{en:"Zoom Out"},zoom:{en:"Zoom"},"compass-navigation":{en:"Navigate North, South, East or West using arrow keys"},"victorias-secret":{en:"Victoria's Secret"},"gift-card-egift-card-help":{en:"GIFT CARD, EGIFT CARD AND SECRET REWARD HELP"},"back-of-gift-card-shows...":{en:"back of gift card shows your 19 digit card number and your 4 digit scratch off pin number."},"egift-card-shows...":{en:"eGift card shows your 19-digit Card Number, 4-digit PIN and your eGift Card barcode."},paypal:{en:"Check Out with PayPal"},dismiss:{en:"dismiss"},design:{en:"design"},amount:{en:"Amount"},"explore-styles-wew-copy":{en:"2 for $42.50, Wear Everywhere collection. Super soft pad and smooth, no-show cups. Fully adjustable straps - wear it classic or crossback. Push-up and lightly lined also come in T-back (online only!). Strapless converts 7 ways. Online sizes: 30A to 36DD. Shop the collection"},"explore-styles-datebra-copy":{en:"The Date Bra collection. Soft, scalloped lace. Adjustable double straps - wear it classic or racerback. Online sizes 32AA to 36DD. Shop the collection"},"explore-styles-campusbra-copy":{en:"Pink Campus Collection. Super soft fabric for ultimate comfort. Smooth and seamless under tops. Fully adjustable straps. Strapless converts three ways. Online sizes 32AA to 36DD. Shop the collection"},"explore-styles-logo-copy":{en:"Logo Racerback. Logo elastic band detail. Front closure. In super soft cotton. Racerback. Adjustable straps. Soft push-up pad. Online sizes: 32AA to 36DD. Shop the collection"},"explore-styles-seamless-copy":{en:"Seamless Collection. Soft, stretchy fabric that moves with you. Double layered fabric for no show through. Easy pull-on fit. Online sizes: XS to L. Shop the collection"},"explore-styles-cageback":{en:"Cage Back Push Up Bralette. Caged back detail. Easy pull-on fit. Side underwire for shape. Adjustable straps. Soft push-up pad. Online sizes: XS to L. Shop the collection"},"explore-styles-strappyfront":{en:"Strappy Front Push-Up Bralette. Allover geo lace. Strappy front detail. Easy pull-on fit. Side underwire for shape. Adjustable straps. Soft push-up pad. Online sizes: XS to L. Shop the collection"},"explore-styles-pinkbratop":{en:"Pink Bra Top. In cotton and nylon options. Logo elastic trim. Easy pull-on fit. Racerback. No push. Online sizes: XS to L. Shop the collection"},page:{en:"page"},"x-of-y":{en:"{{X}} of {{Y}}"},"credit-card-expiration-month":{en:"credit card expiration month"},"credit-card-expiration-year":{en:"credit card expiration year"},"edit-billing-address":{en:"edit billing address"},"add-shipping-address":{en:"add shipping address"},"add-credit-card":{en:"add credit card"},to:{en:"To"},from:{en:"From"},"back-to-top":{en:"Back to top"},"subtract-one":{en:"subtract one"},"add-one":{en:"add one"},"recip-email":{en:"Recipient's Email Address"},"confirm-recip-email":{en:"Confirm Recipient's Email"},"design-error":{en:"Please select a design"},"amount-error":{en:"Please select an amount"},"to-from-error":{en:"Please enter a to & from"},"email-error":{en:"Please enter a recipient's email address & confirm"},"find-perfect-bra":{en:"Find your perfect bra"},"compare-collections":{en:"Compare our collections"},"bra-essentials":{en:"the bra essentials"},"bra-101":{en:"BRA 101"},help:{en:"help"},details:{en:"Details"},"last-name":{en:"last name"},"first-name":{en:"first name"},country:{en:"country"},"quick-view-title":{en:"Product Quick View"},"angel-bra-guide":{en:"the ANGEL BRA GUIDE - From size to style, it all adds up to sexy"},"membership-benefits":{en:"Membership Benefits"},"perk-included":{en:"benefit included"},"perk-not-included":{en:"benefit not included"},"ongoing-offers":{en:"Ongoing Offers & freebies"},"sneak-peak":{en:"A sneak peak at the latest PINK goods"},"a-list-access":{en:"A-list access to PINK events"},"pics-and-flicks":{en:"Never before seen pics & flicks"},"college-and-pro-apparel":{en:"college and pro apparel"},"swim-stylist":{en:"Swim Stylist - Victoria's Secret"},month:{en:"Month"},year:{en:"Year"},day:{en:"Day"},number:{en:"Number"},"worlds-sexiest-brands":{en:"WORK WITH THE WORLDS'S SEXIEST BRANDS - Victoria's Secret, Pink"},of:{en:"of"},"satisfied-requirement":{en:"Satisfied Requirement"},"unmet-requirement":{en:"Unmet Requirement"},"password-strength":{en:"Password Strength"},"sign-up":{en:"Sign Up"},"sign-in":{en:"sign in"},"create-account":{en:"create an account"},"create-your-boutique":{en:"create your boutique"},"email-address":{en:"Email Address"},"facebook-register":{en:"Register on facebook"},"skip-to-main-content":{en:"Skip to main content"},at:{en:"at"},"site-map":{en:"Site Map"},"create-your-look-title":{en:"Create Your Look - Victoria's Secret"},"sign-up-store-events":{en:"Sign Up for Store Events, Emails & Offers - Victoria's Secret"},"update-your-email-prefs":{en:"Update Your Email Preference - Victoria's Secret"},"search-multiple-result":{en:" results are available, use up and down arrow keys to navigate"},"search-siingle-result":{en:" result is available, use up and down arrow keys to navigate"},"customer-service":{en:"Customer Service"},"here-for-you":{en:"We're here for you!"},"find-your-perfect-fit":{en:"FIND your PERFECT FIT"},"your-perfect-fit":{en:"Your perfect fit"},"you-have-a-perfect-fit":{en:"Good news! You're wearing the perfect size."},"select-a-length":{en:"select a length"},"select-a-color":{en:"select a color"},"select-a-size":{en:"select a size"},"select-a-quantity":{en:"select a quantity"},"select-a-cup-size":{en:"select a cup size"},"select-a-band-size":{en:"select a band size"},"close-button-label":{en:"close"},"love-list":{en:"Love List"},"love-list-love":{en:"Love It!"},"5-stars":{en:"{0} of five stars"},"unlove-heart-label":{en:"Unlove"},"love-list-loved":{en:"Loved."},"angel-card":{en:"THE Angel CARD"},"pink-angel-card":{en:"THE PINK Angel CARD"},"grid-icon-desc":{en:"Grid layout"},options:{en:"options"},"list-icon-desc":{en:"List layout"},visa:{en:"visa"},"master-card":{en:"MasterCard"},amex:{en:"AMEX"},discover:{en:"DISCOVER"},"china-union":{en:"China Union Pay Credit Card Only"},jcb:{en:"JCB"},"angel-card-promo":{en:"$15 off your next angel card purchase apply now"},"egift-card":{en:"egift card"},"gift-card":{en:"gift card"},"spring-break-bottoms-guide":{en:"spring break bottoms guide"},"spring-break-bottoms-guide-title":{en:"Spring Break Bottoms Guide - PINK - Victoria's Secret"},"spring-break-tops-guide-title":{en:"Spring Break Tops Guide - PINK - Victoria's Secret"},subscriptions:{en:"subscriptions"},currency:{en:"selected currency"},error:{en:"Error:"},"edit-email-address":{en:"Edit Email Address"},"close-suggestion-section":{en:"Close, You'll Also Love Section"},"add-offer-code":{en:"click to enter offer code in checkout"},"remove-offer-code":{en:"click to remove offer code in checkout"},"next-button":{en:"Next"},"previous-button":{en:"previous"},"fit-quiz":{en:"Fit Quiz"},"fit-quiz-header":{en:"Take the fit quiz"},"fit-quiz-desc":{en:"Answer a few Qs and we'll recommend your best bra size. Take the quiz."},boutique:{en:"Boutique"},"boutique-header":{en:"Build your boutique"},"boutique-desc":{en:"Create the perfect bra wardrobe just for you! Get started."},"pink-boutique-desc":{en:"Tell us your needs and wants, and we'll create the perfect bra wardrobe just for you. Get started."},"explore-header":{en:"Explore our styles"},"explore-desc":{en:"Get the 411 on pink bras."},"fit-question-header":{en:"Do pink bras fit the same as other victoria's secret bras?"},"fit-question-desc":{en:"Yep! They have the exact same band sizes. The only difference is the coverage - expect a flirtier demi cut from Pink."},"pink-nation-instashop":{en:"PINK Nation Instashop"},"edit-details":{en:"Edit Details"},"springbreak-forever":{en:"PINK Spring Break Forever"},"black-bra":{en:"Little Black Bras. The LBB... it goes with everything."},"sport-bra":{en:"Sport Support. A bra for every run, rep and pose."},"very-sexy":{en:"Something Sexy. Your most daring tops deserve it."},"multi-way":{en:"Multi-way Bras. One strap, two straps, no straps... GO!"},"nude-bra":{en:"No-show Nudes. Your white tees will thank you."},"pink-stripe-gc":{en:"PINK Stripe Gift Card"},"love-me-gc":{en:"Love Me Gift Card"},"love-you-gc":{en:"Love You Gift Card"},"birthday-gc":{en:"Birthday Gift Card"},"birthday-sexy-gc":{en:"Birthday Sexy Gift Card"},"make-a-wish-gc":{en:"Make a Wish Gift Card"},"angel-gc":{en:"Angel Gift Card"},"pink-palm-tree-gc":{en:"Pink Palm Tree Gift Card"},"love-pink-gc":{en:"Love Pink Gift Card"},"pink-girl-gc":{en:"Pink Girl Gift Card"},"unwrap-me-gc":{en:"Unwrap Me Gift Card"},"pink-tie-dye-gc":{en:"Pink Tie Dye Gift Card"},"sexy-little-bride-gc":{en:"Sexy Little Bride Gift Card"},"bridal-gc":{en:"Bridal Gift Card"},"pink-co-2015-gc":{en:"PINK Class of 2015 Gift Card"},"summer-is-for-angels-gc":{en:"Summer is for Angels Gift Card"},"vs-sport-gc":{en:"Train Like an Angel Gift Card"},"pink-script-gc":{en:"PINK Script Gift Card"},"pink-spirit-gc":{en:"PINK Spirit Gift Card"},"bras-need-a-break":{en:"Bras Need A Break. For every day on, give them a day off. They'll last longer."},"check-your-fit":{en:"Check Your Fit. For every day on, give them a day off. They'll last longer."},"be-gentle":{en:"Be Gentle! Hand or machine wash in a lingerie bag; lay flat to dry."},"size-matters":{en:"Size Matters. New bras should feel snug (but comfy) on the loosest hook. Tighten over time."},"beauty-rest":{en:"Beauty Rest.  Lay your bras flat in a drawer. It will help keep their shape (and look pretty)."},"sports-bra-guide":{en:"The Sport Bra Guide: Discover the world's best sport bras, only at Victoria's Secret."},"sport-bra-myths":{en:"Sport Bra Myths Busted"},"about-gc-image":{en:"Your 19-digit Card Number and Your 4-digit PIN (Scratch-off silver bar) can be located at the top of the back side of your Gift Card."},"about-egc-image":{en:"Your 19-digit Card Number and 4-digit PIN can be located on the upper left portion of your eGift Card.  Your eGift Card Barcode is located to the right of your Card Number and PIN."},stars:{en:"Stars"},clearance:{en:"Clearance"},items:{en:"items"},"arrow-key-nav":{en:"Use the up and down arrows to scroll the image"},"zero-ratings":{en:"0 ratings"},"opls-terms":{en:"Terms and Conditions"},"dob-month":{en:"Month"},"dob-day":{en:"Day"},"opls-year":{en:"Year"},"current-status":{en:"Current Status: "},"copy-link-help":{en:"Copy this text to your clipboard"},rating:{en:"rating out of 5 stars"},percent:{en:"percent"},"search-results-top":{en:"Search result pages (top)"},"search-results-bottom":{en:"Search result pages (bottom)"},"search-results-none":{en:"No Search results"}},amaze.utility("buttonify",function(e,t,n){function i(){return this.prop("tabindex",0).role("button").on("keydown",function(e){var t=e.which;(13===t||32===t)&&(e.preventDefault(),e.target.click())}),this}n.exports=i}),amaze.utility("exists",function(e,t,n,i){function a(){return!!i(this).length}n.exports=a}),amaze.utility("fixCheckboxGroup",function(e,t,n,i){function a(e,t){return!!e.attr("aria-checked")||e.hasClass(t)}function r(e,t){e.is('[aria-checked="true"]')?e.addClass(t):e.removeClass(t)}n.exports=function(e){function t(e){var t=i(e.target);t.is(":not("+o.selector+")")&&(t=t.closest(o.selector)),t.attr("aria-checked",function(e,t){return"true"==t?"false":"true"}),setTimeout(function(){r(t,o.selectedClass)})}function n(e){var t=i(e.target).closest(o.selector);32==e.which&&(e.preventDefault(),t.click())}var o=i.extend({selector:"div",selectedClass:"selected",ids:[]},e);return this.each(function(e,r){var c=i(r),s=c.find(o.selector);c.on("keydown",n).role("group"),s.on("click",t).attr("aria-setsize",s.length).each(function(e,t){var n=i(t);n.parent().prev("input").is(":checked")&&n.addClass(o.selectedClass),n.attr({"aria-posinset":e+1,"aria-checked":a(n,o.selectedClass)})}).role("checkbox").prop("tabindex",0)})}}),amaze.utility("fixFabCheckbox",function(e,t,n,i){function a(e){function n(e){var t=i(e.target);t.is("[role="+o.role+"]")&&(l.click(),setTimeout(function(){c.attr("aria-checked",a()),t.trigger(o.event)}))}function a(){return t.getElementById(d).checked}var o=i.extend({},r,e),c=i(this),s=c.find("input[type="+o.type+"]"),l=s.get(0),d=l.id,u=c.find("label").rndid();c.buttonify(),c.role(o.role);try{c.noClobber("aria-labelledby",u)}catch(f){}c.attr("aria-checked",a()),c.on("click",n)}var r={role:"checkbox",type:"checkbox",event:"amaze:fab-checkbox:click"};n.exports=function(e){return this.each(function(){a.call(this,e||{})})}}),amaze.utility("fixIframeModal",function(e,t,n,i){function a(t){if(e.frameElement){var n=i.extend({closeSelector:"a.close",focusHeading:!0,updateFocusables:!1},t),a=i("body");if(n.closeSelector){var r=i(n.closeSelector).first().buttonify();r.find("em").attr("aria-label",i.localeText("close-button-label")).presentation().removeAttr("title")}var o=i('button[type="submit"].secondary'),c=o.next(".primary.close.x.cancel");o.exists()&&c.exists()&&(o.before(c),o.addClass("amaze-save-reorder"),c.addClass("amaze-cancel-reorder"));var s=a.focusable().filter(function(){return-1!==this.tabIndex}),l=s.first(),d=s.last();return a.ontab(function(e){n.updateFocusables&&(s=a.focusable().filter(function(){return-1!==this.tabIndex}),l=s.first(),d=s.last());var t=i(e.target);e.shiftKey?t.is(l)&&(e.preventDefault(),d.focus()):t.is(d)&&(e.preventDefault(),l.focus())}),this}}n.exports=a}),amaze.utility("fixRadioGroup",function(e,t,n,i){function a(e,t){return!!e.attr("aria-checked")||e.hasClass(t)}function r(e,t){return e.hasClass(t)?0:-1}function o(e,t){var n=e.eq(t+1);return n.length||(n=e.first()),n}function c(e,t){var n=e.eq(t-1);return n.length||(n=e.last()),n}n.exports=function(e){function t(e){var t=i(e.target),n=t.closest(d.parentSelector),a=n.find(d.selector);s(a),t.prop("tabindex",0).attr("aria-checked",!0).addClass(d.selectedClass)}function n(e){var t=i(e.target).closest(d.selector),n=t.closest(d.parentSelector),a=n.find(d.selector),r=a.index(t);switch(e.which){case 37:case 38:e.preventDefault(),e.stopPropagation(),s(a),l(c(a,r));break;case 39:case 40:e.preventDefault(),e.stopPropagation(),s(a),l(o(a,r));break;case 32:e.preventDefault(),e.stopPropagation(),l(t);break;default:return}}function s(e){e.prop("tabindex",-1).attr("aria-checked",!1).removeClass(d.selectedClass)}function l(e){e.prop("tabindex",0).focus().click()}var d=i.extend({selector:"div",ids:[]},e);return this.each(function(e,o){var c=i(o),s=c.find(d.selector),l=[];c.role("radiogroup").on("keydown",n),s.on("click",t).attr("aria-setsize",s.length).each(function(e,t){var n=i(t);n.attr({"aria-posinset":e+1,"aria-checked":a(n,d.selectedClass)}).prop("tabindex",r(n,d.selectedClass)),l.push(n.prop("tabindex"))}).role("radio"),-1===l.indexOf(0)&&s.first().prop("tabindex",0)})}}),amaze.utility("focusable",function(e,t,n,i){function a(e){var t=e?this.children():this.find("*");return t.filter(function(e,t){var n=i.attr(t,"tabindex"),a=r(t,!isNaN(n));return a})}function r(e,t){var n,i,a,r=e.nodeName.toLowerCase();return"area"===r?(n=e.parentNode,i=n.name,e.href&&i&&"map"===n.nodeName.toLowerCase()?(a=c("img[usemap='#"+i+"']")[0],!!a&&o(a)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!e.disabled:"a"===r?e.href||t:t)&&o(e)}function o(e){return c.expr.filters.visible(e)&&!c(e).parents().addBack().filter(function(){return"hidden"===c.css(this,"visibility")}).length}var c=i;n.exports=a}),amaze.utility("isCustomerService",function(e,t,n){function i(){return e.location.hostname.indexOf("customerservice")>-1||e.location.hostname.indexOf("custhelp")>-1}n.exports=i}),amaze.utility("isVsAllAccess",function(e,t,n){function i(){return e.location.href.indexOf("vsallaccess")>-1}n.exports=i}),amaze.utility("keyboardify",function(e,t,n){n.exports=function(){return this.on("keydown",function(e){(32==e.which||13==e.which)&&(e.preventDefault(),e.target.click())}),this}}),amaze.utility("modalAriaHide",function(e,t,n,i){function a(e){var t=i(e);return t&&t.exists()?(this.each(function(e,n){i(n).children().filter(function(){var e=i(this);if("true"===e.attr("aria-hidden")&&e.attr("data-amaze-already-hidden","true"),!e.is(".iframe-overlay-wrapper")){var n=i.contains(this,t[0]),a=e.is(t[0]),r=e.is("script");return!n&&!a&&!r}}).attr("aria-hidden","true")}),this):this}n.exports=a}),amaze.utility("modalAriaShow",function(e,t,n,i){function a(){return this.each(function(e,t){i(t).children().filter(function(){var e=i(this);return"true"!==e.attr("data-amaze-already-hidden")}).removeAttr("aria-hidden")}),this}n.exports=a}),amaze.utility("noClobber",function(e,t,n,i){function a(e,t){if(!t||"function"==typeof t.exists&&!t.exists())return this;var n;return n="string"!=typeof t&&t.length?t.map(r).get():String(t).split(o).filter(Boolean),this.each(function(t,a){var r=a.getAttribute(e);if(!r)return a.setAttribute(e,n.join(" "));for(var c=i.trim(r).split(o),s=0,l=n.length;l>s;s++){var d=n[s];~c.indexOf(d)||c.push(d)}a.setAttribute(e,c.join(" "))}),this}function r(){return i(this).rndid(),this.id}var o=/\s+/;n.exports=a}),amaze.utility("onAttributeChange",function(e,t,n){function i(e,t){"function"==typeof e&&(t=e,e=null),t=t||o,e&&(e=Array.isArray(e)?e:[e]);var n=c?a:r;return this.each(function(i,a){n(a,t,e)}),this}function a(e,t,n){function i(e){for(var n,i=0;n=e[i++];)if("attributes"==n.type){var a=n.target,r=n.attributeName,o=a.getAttribute(r);t(a,r,o)}}var a=new c(i),r={attributes:!0,subtree:!0,childList:!0,characterData:!1,attributeOldValue:!0,characterDataOldValue:!1};n&&(r.attributeFilter=n),a.observe(e,r)}function r(e,t,n){e.addEventListener("DOMAttrModified",function(e){var i=e.target,a=e.attrName,r=i.getAttribute(a);n?~n.indexOf(a)&&t(i,a,r):t(i,a,r)})}function o(){}var c=e.MutationObserver||e.WebKitMutationObserver||e.MozMutationObserver;n.exports=i}),amaze.utility("ontab",function(e,t,n){function i(e){return this.on("keydown",function(t){if(9==t.which){var n=[].slice.call(arguments);e.apply(this,n)}}),this}n.exports=i}),amaze.utility("password",function(e,t,n,i){function a(){var e=i(this),t=i(".password-meter");e.on("focus",r).on("keyup",o);var n=i.offscreen("span");n.text(i.localeText("password-strength")+": "),t.attr({role:"status","aria-live":"polite","aria-atomic":"true"}).find(".meter-text").before(n)}function r(){var e=i("#password-tooltip"),t=e.find("li.requirement");c=[];var n=e.find("h2").text(),a=t.length;t.each(function(e){var t=e+1,r=i(this),o=r.hasClass("valid"),s=i.localeText(o?"satisfied-requirement":"unmet-requirement");s+=" "+t+" "+i.localeText("of")+" "+a+": ",s+=r.find(".description").text(),n+=" "+s,c.push(o)}),i.politeAnnouncement(n)}function o(){var e=i("#password-tooltip"),t="";e.find("li.requirement").each(function(e){var n=i(this),a=n.hasClass("valid");c[e]!==a&&(t+=a?i.localeText("satisfied-requirement")+": ":i.localeText("unmet-requirement")+": ",t+=n.find(".description").text()),c[e]=a}),t&&i.politeAnnouncement(t)}var c=[];n.exports=a}),amaze.utility("productNamify",function(e,t,n,i){n.exports=function(t){return t=i.extend({parentSelector:"li.item",productNameSelector:"aside div.openProductOverlay h2",utagAvailable:!0},t),this.each(function(n,a){var r=i(a).closest(t.parentSelector),o=r.children("span.amaze-offscreen");if(!o.exists()){var c,s=r.children(t.productNameSelector);s.exists()?c=s.text():t.utagAvailable&&(c=e.utag_data.product_name[r.index()]),o=i.offscreen("span").text(c),r.append(o)}i(a).noClobber("aria-describedby",o)}),this}}),amaze.utility("replaceTag",function(e,t,n,i){function a(e){var t=i();return this.each(function(){var n=i("<"+e+" />"),a=i(this);for(i.each(this.attributes,function(e,t){n.attr(t.name,t.value)}),a.replaceWith(n);this.firstChild;)n.append(this.firstChild);t=t.add(n)}),t}n.exports=a}),amaze.utility("role",function(e,t,n){function i(e){return 0==arguments.length?this[0].getAttribute("role"):(this.attr("role",e),this)
}n.exports=i}),amaze.injection(function(e,t,n,i){function a(e,t){return i.offscreen(e).text(i.localeText(t))}function r(e,t,n){e.before(t,n).noClobber("aria-labelledby",t).noClobber("aria-describedby",n)}var o=i('a[data-cm = "nav-get-started"]'),c=a("h2","create-your-boutique"),s=a("p","pink-boutique-desc");r(o,c,s)},{name:"/pink/personal-bra-boutique/links",priority:"default",regex:{include:new RegExp("\\/pink\\/bras\\/personal-bra-boutique","i")}}),amaze.injection(function(e,t,n,i){var a=i(".mf.map");a.find("span img.ftr").presentation(),a.find('a[name="TOP NAVIGATION: MAIN FEATURE1"]').buttonify().attr("aria-label",i.localeText("details")).removeAttr("title")},{name:"[name]",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){var a={spriteAngelCard:"angel-card",spriteVisaCard:"visa",spriteMasterCard:"master-card",spriteAmexCard:"amex",spriteDiscoverCard:"discover",spriteChinaUnionCard:"china-union",spriteJCBCard:"jcb"},r=i("#cardSelection");r.find("li, em, span").presentation();var o=r.fixRadioGroup({parentSelector:"#cardSelection",selector:"li a[class]",selectedClass:"currentCard"});o.on("focusin focusout","a[class]",function(e){var t=i(e.target),n="focusin"==e.type?"over":"out";t.fire("mouse"+n)}).find("li a[class]").each(function(e,t){var n=i(t);i.each(a,function(e,t){n.hasClass(e)&&n.attr("aria-label",i.localeText(t))})})},{name:"account/modals/add-credit-card/radios",priority:"default",regex:{include:new RegExp("\\/account\\/profile\\/updateCard","i")}}),amaze.injection(function(e,t,n,i){i("#password").password()},{name:"account/modals/change-password",priority:"default",regex:{include:new RegExp("\\/account\\/profile\\/updatePassword","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=r("#billingInfo","#shippingAddressForm","#paymentForm","#registration");if(e){e.on("DOMNodeInserted","div.fab-alert-item",o),e.closest("#container").find('button[type="submit"]').on("click",i.defer(function(){e.find(":input.error:first").focus()},200));var t=r("#fn","#firstName"),n=r("#ln","#lastName"),a=e.find("input, select"),c={country2:i.localeText("country"),ccMonth:i.localeText("credit-card-expiration-month"),ccYear:i.localeText("credit-card-expiration-year")},s=i("label[for=country]");s.exists()&&i("#country2").exists()&&(s.prop("htmlFor","country2"),s.addClass("amaze-country-label"),delete c.country2),t&&(c[t.prop("id")]=i.localeText("first-name")),n&&(c[n.prop("id")]=i.localeText("last-name"));var l=a.filter("[required]");l.attr("aria-required",!0),i("label[for=fn]").removeAttr("for").addClass("amaze-fn-voided");for(var d in c){var u=c[d],f=i("#"+d);if(f.exists()){var p=i.offscreen("label");p.text(u).attr("for",d),f.before(p)}}}}function r(){for(var e=[].slice.call(arguments);e.length;){var t=e.pop(),n=i(t);if(n.exists())return n}}function o(e){var t=i(e.target),n=t.closest("#container"),a=n.find("#"+t.attr("data-inputid"));a.attr("aria-describedby",t.prop("id")),n.find(":input.error").attr("aria-invalid",!0).onAttributeChange("class",function(e){i(e).attr("aria-invalid",i(e).hasClass("error"))})}var c=i("body");c.on("change","#country2",function(){c.one("DOMNodeInserted","#billingInfo",function(){i("#country2").focus(),setTimeout(a,300),c.trigger("amaze:edit:billing-address:country:change")})}),i("body").on("amaze:shipping:country:change",a),a()},{name:"account/modals/inputs",priority:"default",css:"#billingInfo label.amaze-country-label,#billingInfo label.amaze-fn-voided{display:inline-block;width:110px}",regex:{include:new RegExp("\\/account\\/(updateBillingInfo|profile\\/[a-z]+)","i")}}),amaze.injection(function(e,t,n,i){if(!t.title){var a=i("h1");a.exists()&&(t.title=[a.text(),i.localeText("victorias-secret")].join(" | "))}},{name:"account/modals/page-titles",priority:"default",regex:{include:new RegExp("\\/account\\/(updateBillingInfo|profile\\/[a-z]+)","i")}}),amaze.injection(function(e,t,n,i){var a=i.localeText("egift-card"),r=i.localeText("subscriptions");i("h1").each(function(e,t){var n=i(t),o=n.text().toLowerCase().trim();(o==a||o==r)&&(n.attr("role","heading"),n.attr("aria-level","2"))})},{name:"account/profile/headings",priority:"default",regex:{include:new RegExp("\\/account\\/profile","i")}}),amaze.injection(function(e,t,n,i){function a(e,t,n){var a=null;return(a=e.find(t)).exists()?setTimeout(function(){n(a)}):void e.one("DOMNodeInserted",t,function(e){n(i(e.target))})}var r=i("body"),o=i("#content"),c=o.find("a[data-overlay]");c.on("click",function(e){var t=i(e.target),n=t.attr("name"),o=null;"ACCOUNT:ADD ADDRESS"==n?o=i.localeText("add-shipping-address"):"ACCOUNT:EDIT NAME AND ADDRESS"==n?o=i.localeText("edit-billing-address"):"ACCOUNT:EDIT CC"==n&&(o=i.localeText("add-credit-card")),o&&a(r,".iframe-overlay-wrapper",function(e){a(e,"iframe.overlay",function(e){e.attr("title",o)})})})},{name:"account/profile/iframe-titles",priority:"default",regex:{include:new RegExp("\\/account\\/profile","i")}}),amaze.injection(function(e,t,n,i){i("img[src$='15-off-order-angel-card-promo.png']").attr("alt",i.localeText("angel-card-promo"))},{name:"account/profile/images-alt",priority:"default",regex:{include:new RegExp("\\/account\\/profile","i")}}),amaze.injection(function(e,t,n,i){i(".openProductOverlay").buttonify()},{name:"account/profile/love-list-triggers",priority:"default",regex:{include:new RegExp("\\/account\\/profile","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i('label[for="emailOptOutFl"]'),t=i('label[for="catlgOptOutFl"]');i(".amaze-faux-box").remove(),r(e),r(t)}function r(e){var t=e.find("span"),n=i('<div class="amaze-faux-box" />');e.prepend(n),n.prop("tabIndex",0).role("checkbox").attr("aria-checked",!1).off("keydown").on("keydown",function(t){var n=t.which;32===n&&(t.preventDefault(),e.click())}),e.off("click").on("click",function(){var e="true"===n.attr("aria-checked");n.attr("aria-checked",!e)}),t.each(function(){n.noClobber("aria-labelledby",i(this))})}i("body").on("amaze:edit:billing-address:country:change",i.defer(a,300)),a()},{name:"account/profile/modals/change-address",priority:"default",css:".amaze-faux-box{position:absolute;left:0;margin:0!important;top:2px;width:8px;height:8px;padding:1px}",regex:{include:new RegExp("\\/account\\/updateBillingInfo|\\/account\\/create\\/overlay","i")}}),amaze.injection(function(e,t,n,i){i('a[name="ACCOUNT:EDIT EMAIL"]').on("click",function(){i("body").one("DOMNodeInserted",".iframe-overlay-wrapper",function(e){i(e.target).find("iframe.overlay").prop("title",i.localeText("edit-email-address"))})})},{name:"account/profile/modals/edit-email/iframe-title",priority:"default",regex:{include:new RegExp("\\/account\\/profile","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=i(e),n=t.find("a.l0, a.f471x697"),a=i.offscreen("span").text(r(n.prop("href")));n.prop("tabIndex",0).addClass("amaze-outline").append(a)}function r(e){if(e){var t=i.grep(s,function(t){return t.href===e.split(".com")[1]});if(t.length>0)return i.localeText(t[0].key)}return""}function o(e,t){var n=[i.localeText(t),i.localeText("slide")].join(" ");e.buttonify().attr("aria-label",n)}var c=i("ul.slidesContainer"),s=[{href:"/bras/shop-all-bras?Color=black",key:"black-bra"},{href:"/bras/very-sexy",key:"very-sexy"},{href:"/bras/strapless-and-multi-way",key:"multi-way"},{href:"/bras/victorias-secret-sport-collection",key:"sport-bra"},{href:"/bras/shop-all-bras?Color=nude",key:"nude-bra"},{href:"/imagefeatures/697x471/1267316461029/040215-BraGuide-desktop-Bra101-03.jpg",key:"beauty-rest"},{href:"/imagefeatures/697x471/1267316464023/040215-BraGuide-desktop-Bra101-04.jpg",key:"size-matters"},{href:"/imagefeatures/697x471/1267316466485/040215-BraGuide-desktop-Bra101-05.jpg",key:"be-gentle"},{href:"/imagefeatures/697x471/1267316454354/040215-BraGuide-desktop-Bra101-02.jpg",key:"check-your-fit"},{href:"/imagefeatures/697x471/1267316446764/040215-BraGuide-desktop-Bra101-01.jpg",key:"bras-need-a-break"}];c.on("DOMNodeInserted","li",function(e){i(e.target).is("li")&&a(e.target)}),a(c.find("li")[0]);var l=i('a[href="#main-feature-left-arrow"]'),d=i('a[href="#main-feature-right-arrow"]');o(l,"previous-button"),o(d,"next-button")},{name:"angel-bra-guide/carousel",priority:"default",css:"body.amaze-focus-enabled .amaze-outline:focus{box-shadow:0 0 0 2px #D91560!important;outline:0!important}",regex:{include:new RegExp("\\/bras\\/explore-the-guide|angel-bra-guide","i")}}),amaze.injection(function(e,t,n,i){var a=["/bra-experience/landing-desktop/fit-boutique.jpg","/bra-experience/landing-desktop/bra101-1.png","/bra-experience/landing-desktop/bra101-2.png","/bra-experience/landing-desktop/bra101-3.png","/bra-experience/landing-desktop/bra101-4.png","/bra-experience/landing-desktop/bra101-5.png","/bra-experience/landing-desktop/bra101-6.png","/bra-experience/landing-desktop/collection.jpg"];i.each(a,function(e,t){i('img[src$="'+t+'"]').presentation()});var r={"/bra-experience/landing-desktop/hdr_find_perf_bra.png":"find-perfect-bra","/bra-experience/landing-desktop/hdr_collections.png":"compare-collections","/bra-experience/landing-desktop/hdr_essentials.png":"bra-essentials","/bra-experience/landing-desktop/hdr_bra_101.png":"bra-101","/bra-experience/landing-desktop/Angel-Bra-Guide-Bra-101-Hdr-Desktop.png":"bra-101","/bra-experience/landing-desktop/lp_top_hero_530_withoffer.jpg":"angel-bra-guide"};i.each(r,function(e,t){i('img[src$="'+e+'"]').attr("alt",i.localeText(t))})},{name:"angel-bra-guide/images",priority:"default",css:".headerImgIncentiveOffer.overlay{opacity:1!important;background:0 0!important}",regex:{include:new RegExp("\\/bras\\/(angel-bra-guide|explore-the-guide)","i")}}),amaze.injection(function(e,t,n,i){var a=i(".offers .controls a[data-modal]");a.attr("aria-labelledby",function(){var e=i(this).rndid(),t=e.closest("li").find("a").first();return t.rndid().removeAttr("title").find("em[data-modal]").removeAttr("title"),t.prop("id")+" "+e.prop("id")})},{name:"angel-bra-guide/offers/details",priority:"default",regex:{include:new RegExp("\\/bras\\/(angel-bra-guide|explore-the-guide)","i")}}),amaze.injection(function(e,t,n,i){var a=[i.localeText("the-angel-bra-guide"),"-",i.localeText("victorias-secret")].join(" ");t.title=a},{name:"angel-bra-guide/page-title",priority:"default",regex:{include:new RegExp("\\/bras\\/explore-the-guide","i")}}),amaze.injection(function(e,t,n,i){function a(e){setTimeout(function(){r.find("input.error").first().focus();var t=i(e.target).rndid();i(o).each(function(e,n){var a=i(n),r=a.hasClass("error");a.attr("aria-invalid",r),r&&a.noClobber("aria-describedby",t.prop("id"))})},100)}var r=i("#signup-email"),o=[i("#firstName"),i("#lastName"),i("#email").attr("aria-required","true"),i("#confemail").attr("aria-required","true")];r.on("DOMNodeInserted",".form-error-msg",a)},{name:"angel-card-benefits/errors",priority:"default",regex:{include:new RegExp("\\/angel-card-benefits","i")}}),amaze.injection(function(e,t,n,i){var a="//dm.victoriassecret.com/imagefeatures/0x0/1266470914895/images/",r=["ac-bene-small-ac-card.png","ac-bene-small-ac-vip-card.png","ac-bene-small-ac-forever-card.png"];i.each(r,function(e,t){i('img[src="'+a+t+'"]').presentation()}),a="//dm.victoriassecret.com/imagefeatures/0x0/1266470829380/images/",i('img[src="'+a+'angel-card-header-logo.png"]').attr("alt",i.localeText("angel-card"))},{name:"angel-card-benefits/images",priority:"default",regex:{include:new RegExp("\\/angel-card-benefits","i")}}),amaze.injection(function(e,t,n,i){function a(e,t){var n=i.offscreen("span").text(t),a=i("<caption />");a.append(n),e.children().first().before(a)}function r(e){i.each(d,function(t,n){var a=i('<th scope="col">'),r=i.offscreen("span").text(n);a.append(r),e.append(a)})}function o(e){e.find("tr").each(function(e,t){i(t).find("td").first().replaceWith(function(){return'<th scope="row" class="amaze-row-th">'+this.innerHTML+"</th>"})})}var c=i("section.benefits"),s=c.find("table");if(3===s.length){var l=s.eq(0),d=[];l.presentation().find("td").each(function(){var e=i(this).text().trim();e&&d.push(e)}),s.splice(0,1),s.each(function(){var e=i(this),t=e.find("tbody"),n=e.find("thead tr"),c=n.find("th").first(),s=c.text();c.wrapInner('<span aria-hidden="true"></span>'),a(e,s),r(n),o(t),e.find("td em").append(i.offscreen().text(i.localeText("perk-included"))),e.find("tbody td").each(function(e,t){var n=i(t);n.children().exists()||n.text().trim()||n.append(i.offscreen().text(i.localeText("perk-not-included")))})})}},{name:"angel-card-benefits/tables",priority:"default",css:"#content .benefits th.amaze-row-th{width:350px;text-align:left;vertical-align:bottom;font-size:12px;line-height:17px;font-weight:400;color:#fff;text-transform:none}",regex:{include:new RegExp("\\/angel-card-benefits","i")}}),amaze.injection(function(e,t,n,i){i("#content ul.group-row a[title]").filter(function(e,t){return!i(t).text().trim()}).each(function(e,t){var n=t.title;i(t).html(i.offscreen("span").text(n))}),i("#content ul.group-row li:first a[title]").addClass("amaze-focus-adjustment"),i("#content ul.group-row li:not(:first) a[title].l1").on("focus blur",function(e){i(e.target).closest("div").toggleClass("amaze-focused")})},{name:"angel-card/banner-image-alt",priority:"default",css:".amaze-focus-adjustment{outline-offset:-5px}a.l1.amaze-focus-adjustment{top:36.21968%!important;right:23.54889%!important;left:auto!important}",regex:{include:new RegExp("\\/angel-card","i")}}),amaze.injection(function(e,t,n,i){i('a.l0[href="/home"]').addLabel(i.localeText("shop-now"))},{name:"angel-card/button-text",priority:"default",regex:{include:new RegExp("\\/angel-card-just-for-angels","i")}}),amaze.injection(function(e,t,n,i){i('.angelNav > a[href="/angel-card"]').on("focus blur",function(){i(this).toggleClass("amaze-unfocused").find("img").toggleClass("amaze-focused")})},{name:"angel-card/focus",priority:"default",css:"body #content .angelNav ul.activeBar li{overflow:visible}body #content .amaze-unfocused{outline:0!important}",regex:{include:new RegExp("angel-card","i")}}),amaze.injection(function(e,t,n,i){i("#main > .angelNav > a > img").wrapAll("<h1></h1>").attr("alt",i.localeText("angel-card"))},{name:"angel-card/logo",priority:"default",regex:{include:new RegExp("\\/angel-card","i")}}),amaze.injection(function(e,t,n,i){function a(e){function t(e){var t=i.keyname(e),n=i(e.target),a=u.index(n),r=u.eq(a+1),o=u.eq(a-1);r.exists()||(r=u.first()),o.exists()||(o=u.last()),"up"==t||"right"==t?(r.focus(),e.preventDefault()):("down"==t||"left"==t)&&(o.focus(),e.preventDefault())}function n(e){var t=i(e.target);d.attr("aria-activedescendant",t.prop("id")),p.text(i.localeText("volume")+": "+i(e.target).text()),d.removeClass("amaze-open"),d.focus()}function a(e,e,t){var n=parseInt(t.split(":").pop(),10);l.attr("aria-valuenow",n)}function r(){var e=s.hasClass("stopped"),t=i.localeText(e?"play":"pause");s.empty().append(i.offscreen("span").text(t))}var o=i(e),c=o.find(".vsControls"),s=c.find(".vsPlayPause"),l=c.find(".vsProgress"),d=c.find(".vsVolume"),u=d.find("ul li a[class]");r(),s.onAttributeChange("class",i.throttle(r)),l.role("progressbar"),l.attr("aria-valuemax",100),l.attr("aria-valuemin",0),l.attr("aria-valuenow",0),l.attr("tabindex",0),l.onAttributeChange("style",i.throttle(a)),d.attr("role","listbox"),d.prop("tabIndex",0),d.prop("id","amaze-volume-control"),u.addClass("amaze-volume-level").rndid().role("option");var f=d.find(d.hasClass("high")?".vsHigh":d.hasClass("med")?".vsMed":d.hasClass("low")?".vsLow":".vsMute");d.attr("aria-activedescendant",f.prop("id"));var p=i.offscreen("span");p.text(i.localeText("volume")+": "+f.text()),d.prepend(p),d.on("focus",function(){d.addClass("amaze-open")}),u.on("click",n),d.on("keydown",t)}var r=i("body");r.on("DOMNodeInserted",".modal-wrapper",i.defer(function(){var e=i(".modal-wrapper .vsVideo");"37"!=e.attr("data-amaze-controls")&&e.find("video").exists()&&(e.attr("data-amaze-controls",37),a(e.get(0)))},10))},{name:"angel-card/video-modal/keyboard",priority:"default",css:"#amaze-volume-control.amaze-open ul{display:block}",regex:{include:new RegExp("\\/angel-card","i")}}),amaze.injection(function(e,t,n,i){i(".status.numans").on("DOMNodeInserted",function(e){e.target===this&&i.politeAnnouncement(i(this).text())})},{name:"beauty/find-your-fragrance-filter/carousel",priority:"default",regex:{include:new RegExp("\\/beauty\\/find-your-fragrance-filter","i")}}),amaze.injection(function(e,t,n,i){function a(e){i(e).find(".result-item a").each(function(e,t){var n=i(t),a=n.next();a.rndid(),n.attr("aria-labelledby",a.prop("id"))})}i(".results").on("DOMNodeInserted",function(e){a(e.target)}),a(".results")},{name:"beauty/find-your-fragrance-filter/result-items",priority:"default",css:"#content .results li .result-image{width:auto}#content .results li,.results,.results-container{overflow:visible!important}#content .results li a{display:block}",regex:{include:new RegExp("\\/beauty\\/find-your-fragrance-filter","i")}}),amaze.injection(function(e,t,n,i){function a(e){setTimeout(function(){var t=e.find("li"),n=[];e.role("radiogroup").on("keydown",c),t.attr("aria-setsize",t.length).each(function(e,t){var a=i(t);a.attr({"aria-posinset":e+1,"aria-checked":s(a,"selected")}).prop("tabIndex",l(a,"selected")),n.push(a.prop("tabindex"))}).role("radio"),-1===n.indexOf(0)&&t.first().prop("tabindex",0)},200)}function r(){i(f).each(function(e,t){var n=i(t);a(n)}),i(p).on("click",o)}function o(){i("body").one("DOMNodeInserted",m,function(e){setTimeout(function(){var t=i(e.target);a(t)},100)})}function c(e){var t=i(e.target),n=t.siblings();switch(e.which){case 37:case 38:e.preventDefault();var a=t.prev("li").exists()?t.prev("li"):n.last();u(a);break;case 39:case 40:e.preventDefault();var r=t.next("li").exists()?t.next("li"):n.first();u(r);break;case 32:e.preventDefault(),u(t);break;default:return}}function s(e,t){return!!e.attr("aria-checked")||e.hasClass(t)}function l(e,t){return e.hasClass(t)?0:-1}function d(e){e.prop("tabIndex",-1).attr("aria-checked",!1).removeClass("selected")}function u(e){var t=e.siblings();d(t),e.prop("tabIndex",0).focus().find("span").fire("click")}var f=["#top-style-sel","#bottom-style-sel","#top-swatch-sel","#bottom-swatch-sel"].join(","),p=["#top-style-sel","#bottom-style-sel"].join(","),m=["#top-swatch-sel","#bottom-swatch-sel"].join(",");i(".bm-ui").attr("aria-live","assertive"),i(".bm-share-path").on("click",i.defer(r)),r()},{name:"bikini-mixer/buttons",priority:"default",regex:{include:new RegExp("\\/swimwear\\/bikini-mixer","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=i(e.target?e.target:e),n=t.find("h5"),a=t.find(".bm-details a.info-details");if(a.exists()&&n.exists()){var o=i("#"+r);o.exists()||(o=i.offscreen("span").prop("id",r)),o.text(i.localeText("for")+" "+n.text()),a.append(o)}}var r="amaze-details-info";a(i(".product-info-pane")),i("body").on("DOMNodeInserted",".prod-info-terse",i.defer(a))},{name:"bikini-mixer/details-link",priority:"default",regex:{include:new RegExp("\\/swimwear\\/bikini-mixer","i")}}),amaze.injection(function(e,t,n,i){i(".product-el").each(function(){i(this).find("em").first().buttonify().attr("aria-label",i.localeText("remove")).on("click",i.defer(function(){var e=i(this);e.attr("aria-label",i.localeText(e.closest(".product-el").hasClass("inactive")?"add":"remove"))}))}),i(".add-to-bag-flyout").on("click",i.defer(function(){i("#size-sel .top, #size-sel .bottom").fixRadioGroup({selector:"li",parentSelector:"ul[data-garment-type]",selectedClass:"selected"}),i("[aria-invalid]").removeAttr("aria-invalid"),i(".bm-atp-info").rndid(),i(".alert li").attr("aria-invalid","true").attr("aria-describedby",function(){return i(this).closest("ul").next(".bm-atp-info").attr("id")})}))},{name:"bikini-mixer/form",priority:"default",regex:{include:new RegExp("\\/swimwear\\/bikini-mixer","i")}}),amaze.injection(function(e,t,n,i){var a=["#product-info-pane","#size-sel"].join(",");i(a).find("h5").attr("aria-level",2)},{name:"bikini-mixer/headings",priority:"default",regex:{include:new RegExp("\\/swimwear\\/bikini-mixer","i")}}),amaze.injection(function(e,t,n,i){function a(){i("html").hasClass("bm-size-picker-view")?(i("#product-sel").attr("aria-hidden",!0).find("li").attr("tabindex","-1"),i("#product-info-pane").attr("aria-hidden",!0).find("a").attr("tabindex","-1"),i("#size-sel").attr("aria-hidden",!1),i(".bm-share a.bm-share-path").attr("aria-hidden",!0).attr("tabindex","-1")):(i("#size-sel").attr("aria-hidden",!0).find("li").attr("tabindex","-1"),i("#size-sel").find("a").attr("tabindex","-1"),i(".bm-share a.bm-share-path").attr("aria-hidden",!0).attr("tabindex","-1"),i("#product-sel").attr("aria-hidden",!1),i("#product-info-pane").attr("aria-hidden",!1).find("a").attr("tabindex",0))}i(".add-to-bag-flyout").on("click",i.defer(a)),i(".bm-share-path").on("click",i.defer(a)),a()},{name:"bikini-mixer/hidden",priority:"low",regex:{include:new RegExp("\\/swimwear\\/bikini-mixer","i")}}),amaze.injection(function(e,t,n,i){function a(e,t){return e.indexOf(t)>-1}function r(e,t){t.preventDefault();var n=e.index(t.target),i=e.eq(n+1),a=e.eq(n-1);i.length||(i=e.first()),a.length||(a=e.last()),(t.shiftKey?a:i).focus()}var o,c=i("#bm-info-overlay"),s=i("a.bm-overlay-trigger");s.on("click",function(e){o=i(e.target)}),c.ontab(function(e){var t=c.focusable();r(t,e)}),c.onAttributeChange("class",function(e,t,n){if(a(n,"bm-overlay bm-info-overlay")){var r=n.indexOf("selected")>-1,s=c.find("div.details > h3").prop("tabIndex",-1),l=c.find('a.close:not(".scrim-close")').buttonify();c.find("a.scrim-close").removeAttr("href"),c.on("keydown",function(e){var t=i.keyname(e);"esc"==t&&(e.preventDefault(),l.fire("click"))}),r?s.focus():o.focus()}})},{name:"bikini-mixer/modal",priority:"default",regex:{include:new RegExp("\\/swimwear\\/bikini-mixer","i")}}),amaze.injection(function(e,t,n,i){i("h1.large").attr("aria-level",2)},{name:"california-privacy-policy",priority:"default",regex:{include:new RegExp("california-privacy-policy","i")}}),amaze.injection(function(){},{name:"careers/home/focus",priority:"default",css:"#nav-secondary ul>li,.fluid #nav-secondary ul>li{overflow:visible}",regex:{include:new RegExp("(\\/CustomerService\\/|\\/commerce2\\/giftcards\\/egcactivateview|\\/catalogue-request|\\/site-map|\\/account\\/orderstatus)","i")}}),amaze.injection(function(e,t,n,i){i("ul.menu.home h3").attr("aria-level","2")},{name:"careers/home/headings",priority:"default",regex:{include:new RegExp("\\/CustomerService\\/Company\\/Careers","i")}}),amaze.injection(function(e,t,n,i){i("img.career").first().attr("alt",i.localeText("worlds-sexiest-brands"))},{name:"careers/home/images",priority:"default",regex:{include:new RegExp("\\/CustomerService\\/Company\\/Careers","i")}}),amaze.injection(function(e,t,n,i){i("a.submit.next").each(function(){var e=i(this);e.append(i.offscreen().text(e.parent().prevAll("h2").first().text()))})},{name:"careers/home/labels",priority:"default",regex:{include:new RegExp("\\/CustomerService\\/Company\\/Careers","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i(".form-error-msg");e.rndid(),o.find("[aria-invalid]").removeAttr("aria-invalid").removeAttr("aria-describedby"),o.find(".error").attr("aria-invalid","true").attr("aria-describedby",e[0].id).first().focus()}var r=i("button.secondary"),o=r.closest("form");r.on("click",i.defer(function(){i(".form-error-msg").length&&a()}))},{name:"catalogue-request/form-errors",priority:"default",regex:{include:new RegExp("\\/catalogue-request|CustomerService\\/QuickHelp\\/ContactUs\\/ChangeOrReduceCatalogueMailings|CustomerService\\/SignUp\\/SignUpForEmail","i")}}),amaze.injection(function(e,t,n,i){i("h3[role!=presentation]").attr("aria-level",2).role("heading")},{name:"catalogue-request/headings",priority:"low",regex:{include:new RegExp("\\/catalogue-request|\\/angel-card-just-for-angels|\\/CustomerService\\/SignUp\\/SignUpForEmail|\\/CustomerService\\/QuickHelp\\/ContactUs\\/ChangeOrReduceCatalogueMailings","i")}}),amaze.injection(function(e,t,n,i){i("label[for=lastname]").attr("for","ln")},{name:"catalogue-request/label",priority:"default",regex:{include:new RegExp("\\/catalogue-request","i")}}),amaze.injection(function(e,t,n,i){i("section.module:nth-child(2)").find("img").presentation()},{name:"catalogue/alt-text",priority:"default",regex:{include:new RegExp("\\/catalogue","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i(".form-error-msg:first");s.removeAttr("aria-describedby"),s.addClass("error").attr("aria-invalid","true").noClobber("aria-describedby",c).noClobber("aria-describedby",e).focus()}var r=i("#catalogue-quick-order"),o=r.find("label:first"),c=o.find("small"),s=r.find('input[name="CQOItemNbr"]'),l=r.find("button.secondary");s.noClobber("aria-labelledby",o).noClobber("aria-describedby",c),o.after(c),l.on("click",i.defer(function(){i(".form-error-msg").exists()&&a()}))},{name:"catalogue/labels",priority:"default",regex:{include:new RegExp("\\/catalogue","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i(this);e.role("checkbox").attr("aria-checked",e.find("input:first").is(":checked")).prop("tabIndex",0).off("keydown").on("keydown",function(e){32===e.which&&(e.preventDefault(),i(e.target).find("label").click())}).off("click").find("label").on("click",r)}function r(e){var t=i(e.target).prev("input:checkbox");t.parent().attr("aria-checked",t.is(":checked"))}i("#addressPanel").find(".fab-input-checkbox").each(a),i("#addressPanel").on("DOMNodeInserted","form#billingAddressForm",function(e){var t=i(e.target);t.is("form#billingAddressForm")||t.find(".fab-input-checkbox").each(a)})},{name:"checkout/addresses/billing-address/international-country-opts",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){var a=i("#createAccountOptIn");a.next("em").prop("tabindex",0).role("checkbox").noClobber("aria-labelledby",a.siblings("span").rndid().attr("id")).noClobber("aria-labelledby","checkout-saveInfoHeader").on("keydown",function(e){var t=i.keyname(e);"space"==t&&(e.preventDefault(),e.target.click())})},{name:"checkout/addresses/contact-information",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i('label[for="createAccountOptIn"]').closest(".fab-input-checkbox");e.prop("tabIndex",0).role("checkbox").attr("aria-checked",!1).off("keydown").on("keydown",function(e){32===e.which&&(e.preventDefault(),i(e.target).find("input").fire("click"))}).off("click").find("input").on("click",function(e){var t=i(e.target),n=t.closest('[role="checkbox"]');setTimeout(function(){n.attr("aria-checked",function(){return i(this).find("input").is(":checked")})})})}a(),i("body").on("amaze:checkout:insertion",i.defer(a))},{name:"checkout/addresses/create-account-checkbox",priority:"default",css:".amaze-no-float{float:none!important}",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i("#shippingChoices"),t=e.find(".fab-input-radio");return e.find("span.fab-input-checkbox").length?void e.find("span.fab-input-checkbox").fixFabCheckbox():(e.role("radiogroup"),t.role("radio"),void t.each(function(e,n){var a=i(n),r=a.find("input").is(":checked");a.addClass("amaze-block-rad").noClobber("aria-labelledby",a).noClobber("aria-labelledby","shippingChoicesHeader").attr({"aria-checked":r,"aria-posinset":1+e,"aria-setsize":t.length}).prop("tabIndex",r?0:-1)}).off("keydown").on("keydown",function(e){var n=e.which,i=e.target;if(n>=37&&40>=n){var a=r(e.target,t);e.preventDefault(),o(t[0===a?1:0],i)}else 32===n&&(e.preventDefault(),i.click())}).off("click").on("click",function(){var e=r(this,t);o(this,t[0===e?1:0])}).find("input").off("click").on("click",function(e){e.stopPropagation()}))}function r(e,t){return i.inArray(e,t)}function o(e,t){var n=i(e),a=i(t);a.prop("tabIndex",-1).attr("aria-checked",!1),n.prop("tabIndex",0).attr("aria-checked",!0).focus().find("input").click()}a(),i("body").on("amaze:checkout:insertion",i.defer(a)).on("amaze:country:change",i.defer(a))},{name:"checkout/addresses/fake-radios",priority:"default",css:".amaze-inline-block-span{display:block!important}",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){i("#firstName, #lastName, #streetAddr2").each(function(){var e=i(this);e.attr("aria-label",e.attr("data-label"))})},{name:"checkout/addresses/labels",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){i("#createAccountPassword").password()},{name:"checkout/addresses/password",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i("#paypalSigninLink a");e.find(".amaze-offscreen").exists()||e.prop("tabindex",0).addClass("amaze-paypal-focus").role("link").find("i").append(i.offscreen().text(i.localeText("paypal")))}a(),i("body").on("amaze:checkout:insertion",function(){setTimeout(a,0)})},{name:"checkout/addresses/paypal",priority:"default",css:".amaze-paypal-focus:focus{display:inline-block}",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){var a=i("#signInPanelCommitted a.overlay").first();a.prop("tabIndex",0)},{name:"checkout/addresses/sign-in-link",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=i(e),n=t.find(".fab-input-checkbox");n.role("checkbox").attr("aria-checked",!1).prop("tabIndex",0).off("keydown").on("keydown",function(e){32===e.which&&(e.preventDefault(),i(e.target).find("label").click())}).off("click").find("label").on("click",function(e){r(e.target.parentNode)}),n.closest("#giftOptions").exists()&&n.noClobber("aria-labelledby",n).noClobber("aria-labelledby","giftOptions")}function r(e){var t=i(e),n="true"===t.attr("aria-checked");t.attr("aria-checked",!n)}var o=i(t.body),c=t.getElementById("saveDeliverySection");c&&a(c);var s=t.getElementById("giftOptionWrapper");s&&a(s),o.on("DOMNodeInserted","#saveDeliverySection",function(e){a(e.target)})},{name:"checkout/delivery/custom-checkboxes",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){i("select.field-giftkits-quantity").each(function(){var e=i(this),t=e.closest(".gift-wrap-product"),n=t.find("h3").first().rndid(),a=t.find("div span").first().rndid();e.noClobber("aria-labelledby",n.prop("id")).noClobber("aria-describedby",a.prop("id"))})},{name:"checkout/delivery/gift-kit-modal/quantity-select",priority:"default",regex:{include:new RegExp("\\/commerce2\\/selectgiftkits","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=e.closest("section");e.noClobber("aria-labelledby",e).noClobber("aria-labelledby",t.find("h4")).on("click",function(){t.find("a.overlay").focus()})}var r=["#youWrap","#weWrap"].join(","),o=["#giftWrapRemoveWrapper","#giftKitRemoveWrapper"].join(",");i(r).each(function(){var e=i(this),t=e.find("h4"),n=e.find("p"),a=e.find("a:has(span):not(.giftRemove)");a.noClobber("aria-labelledby",a).noClobber("aria-labelledby",t).noClobber("aria-labelledby",n)});var c=i("#deliveryPanelForm").find("a.giftRemove").buttonify();c.each(i.defer(function(){var e=i(this);a(e)})),i("body").on("DOMNodeInserted",o,function(e){var t=i(e.target).find("a.giftRemove").buttonify();a(t)})},{name:"checkout/delivery/gift-options",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){i("#wrapper").prop("tabindex",-1).focus(),i("select.field-giftwrap-box").each(function(){var e=i(this),t=e.closest(".gift-wrap-product"),n=t.find(".product-details h3").first().rndid();e.noClobber("aria-labelledby",n.prop("id"))})},{name:"checkout/delivery/gift-options-modal/box-select",priority:"default",regex:{include:new RegExp("\\/commerce2\\/selectgiftwrap","i")}}),amaze.injection(function(e,t,n,i){i('.giftWrapNext input[type="text"]').each(function(){var e=i(this),t=e.closest("div").rndid();
e.noClobber("aria-labelledby",t.prop("id"))})},{name:"checkout/delivery/gift-options-modal/enter-message",priority:"default",regex:{include:new RegExp("\\/commerce2\\/giftwrapmessages","i")}}),amaze.injection(function(e,t,n,i){function a(){setTimeout(function(){i("a.giftRemove").prop("tabindex",0)},0)}a(),i(t.body).on("DOMNodeInserted","#giftWrapRemoveWrapper",a).on("keydown",".giftRemove",function(e){13===e.which&&(e.preventDefault(),e.target.click())})},{name:"checkout/delivery/remove-gift-option",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=i("#deliveryOptions ul"),n=t.find("li > .fab-input-radio"),o=t.closest("section").find("h4");t.role("radiogroup"),n.each(function(e,t){var a=i(t),c=a.parent().presentation().hasClass("clicked");a.attr({"aria-checked":c,role:"radio"}).prop("tabIndex",c?0:-1).noClobber("aria-labelledby",a).noClobber("aria-labelledby",o).off("keydown").on("keydown",function(e){var t=e.which,a=i(e.target);37===t||38===t?(e.preventDefault(),r(a,n,"prev")):(39===t||40===t)&&(e.preventDefault(),r(a,n,"next"))})}),e||setTimeout(function(){i("body").one("amaze:checkout:insertion",i.defer(a,200))})}function r(e,t,n){var a=i.inArray(e[0],t),r="next"===n?a+1:a-1;0===a&&"prev"===n?r=t.length-1:a===t.length-1&&"next"===n&&(r=0),o(e,t[r])}function o(e,t){var n=i(t);e.attr("aria-checked",!1).prop("tabIndex",-1),n.attr("aria-checked",!0).prop("tabIndex",0).find("label").fire("click").end().focus()}a(!0),i("#deliveryOptions").on("DOMNodeInserted",i.defer(a,250)),i("body").one("amaze:checkout:insertion",i.defer(a,250))},{name:"checkout/delivery/shipping-method-radios",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){var a=i("h1");a.exists()&&(t.title=a.text()+" | "+i.localeText("victorias-secret")),i("h3").attr("aria-level",2).attr("role","heading")},{name:"checkout/egiftcard-help-modal",priority:"default",regex:{include:new RegExp("\\/commerce2\\/egchelp","i")}}),amaze.injection(function(e,t,n,i){i(".emptyBagImage").attr("alt",i.localeText("checkout-empty-bag"))},{name:"checkout/empty-bag-img",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){var a=i("h1");a.exists()&&(t.title=a.text()+" | "+i.localeText("victorias-secret")),i("img").each(function(){var e=i.localeText(~this.src.indexOf("-gc.jpg")?"back-of-gift-card-shows...":"egift-card-shows...");this.alt=e}),i(".markup-feature strong").role("heading").attr("aria-level","2")},{name:"checkout/giftcard-help-modal",priority:"default",regex:{include:new RegExp("\\/[\\d]+\\?overlayType=","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i(".fab-ico--arrow-right-after").not('[role="button"]');e.buttonify()}function r(e){var t=i(e.target),n=t.closest("div[id]"),a=n.prev("div[id]"),r=a.find("h2").first().prop("tabIndex",-1);setTimeout(function(){r.focus()})}a(),i("body").on("amaze:checkout:insertion",i.defer(a)).on("click","section header a.fab-ico--arrow-right-after:not(.overlay, .secondary)",r)},{name:"checkout/global/checkout-links",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){function a(){r.off("focus").on("focus",function(e){i(e.target).closest(".currSelect").addClass("amaze-focused")}).off("blur").on("blur",function(e){i(e.target).closest(".currSelect").removeClass("amaze-focused")}).off("change").on("change",function(){i("body").one("DOMNodeInserted",".currSelect",function(){setTimeout(function(){r=i("#currency"),a(),r.focus()})})})}var r=i("#currency");a()},{name:"checkout/global/currency-select-focus-indication",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){function a(e){i(e.target).find("a.edit-item, a.remove-item").each(r)}function r(e,t){o(t)}function o(e){var t=i(e),n=t.hasClass("edit-item")||t.hasClass("remove-item")?t.closest("div.item").find("hgroup.returnToProductPage > h1"):t.prev("h1");t.buttonify().noClobber("aria-labelledby",t).noClobber("aria-labelledby",n)}i("#checkout header a.primary").each(r),i("#bagContent").on("DOMNodeInserted","div.item",a).find("a.edit-item, a.remove-item").each(r)},{name:"checkout/global/edit-link",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){function a(e){function t(){n.is(":visible")?setTimeout(t,200):(r(),n.siblings('div:visible:not(.closedPanel,.sampleSelectionState,div[id*="Committed"]):first').prop("tabindex",-1).focus())}var n=i(e.target).closest("div[id]");setTimeout(t,200)}function r(){i("#checkout").find('>div.panel[tabindex="-1"]').removeAttr("tabindex")}var o=i("body"),c=i("#checkout"),s=c.find("form");s.on("submit",a),c.find("button[type=submit]").on("mouseup",function(){o.trigger("amaze:remove:focus")})},{name:"checkout/global/focus-management",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){i("#checkout h1").attr({role:"heading","aria-level":"2"})},{name:"checkout/global/headings",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){i("#bagContent").find("div.item").each(function(){var e=i(this),t=e.find("span:first > em > img"),n=e.find("tr:first > td:nth-child(2)").text();t.prop("alt",n)})},{name:"checkout/global/image-alt",priority:"default",regex:{include:new RegExp("commerce2\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){var a=i.offscreen("label");a.attr("for","currency").text(i.localeText("currency")),i("#currency").before(a)},{name:"checkout/global/labels",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){var a=i("body"),r="#billingAddressForm";a.on("DOMNodeInserted","#checkout",function(e){e.target.id&&"checkout"===e.target.id&&a.trigger("amaze:checkout:insertion")}).on("change","#country",function(){a.one("DOMNodeInserted",r,function(){setTimeout(function(){a.trigger("amaze:country:change"),i("#country").focus()},0)})})},{name:"checkout/global/listen-for-clobber",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){i("#shoppingBag div.item a.primary").buttonify()},{name:"checkout/global/shopping-bag/edit-remove-links",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){var a=i("body");i("#shoppingBag div.item a.primary").on("click",function(e){function t(e){var t=i(e.target).find("iframe");t.focus()}function n(){r.focus()}var r=i(e.target);a.one("DOMNodeInserted",".iframe-overlay-wrapper",i.defer(t)).one("DOMNodeRemoved",".iframe-overlay-wrapper",i.defer(n))})},{name:"checkout/global/shopping-bag/modals",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){i("#signInForm input").prop("tabindex",0);var a=i("#emailaddress");i("#signInPanelCommitted").find("a.secondary:first").prop("tabindex",0).role("link"),a.prop("tabindex",0),i("#paypalCheckout span i").append(i.offscreen("span").text(i.localeText("paypal")))},{name:"checkout/global/sign-in",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){function a(e){if(e){var t=i(e.target?e.target:e);t.find(".fab-btn--secondary-small.overlay").addClass("amaze-offscreen").addClass("amaze-display-quick-view").on("focus",r).on("blur",o),t.find("li").on("mouseover",c).on("mouseout",s)}}function r(e){i(e.target).removeClass("amaze-offscreen")}function o(e){i(e.target).addClass("amaze-offscreen")}function c(){i(this).find(".fab-btn--secondary-small").removeClass("amaze-offscreen")}function s(){i(this).find(".fab-btn--secondary-small").addClass("amaze-offscreen")}var l=i("#impulseBanner"),d=l.prop("tabIndex",-1),u="#productContainer > ul[data-product-source]";l.find("a.close").first().buttonify().append(i.offscreen().text(i.localeText("close-button-label"))).on("click",function(){d.focus()}),i.defer(a(u)),i(t.body).on("DOMNodeInserted",u,a)},{name:"checkout/global/youll-also-love",priority:"default",css:".amaze-display-quick-view{z-index:9!important;display:inline-block!important}",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){function a(){function e(e){var t=e.prev("label");t.exists()&&t.prop("htmlFor",e.prop("id"))}for(var t=0,n=i("#offerCode"+t);n.exists();)e(n),t++,n=i("#offerCode"+t)}a(),i("body").on("amaze:checkout:insertion",i.defer(a,350)).on("amaze:offers:reinsertion",i.defer(a,350))},{name:"checkout/offer-codes/labels",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){function a(){r(),i(t.body).one("DOMNodeInserted","#offersOpen",i.defer(function(e){var n=i(e.target);i(t.body).trigger("amaze:offers:reinsertion");var a=n.find(".fab-alert");return a.exists()?(a.removeAttr("tabindex"),a.find(".amaze-offscreen").exists()||a.prepend(i.offscreen().text(i.localeText("error"))),void n.find('input[type="text"]').attr("aria-invalid",!0).noClobber("aria-describedby",a).first().focus()):setTimeout(o)},250))}function r(){c.find("input").removeAttr("aria-invalid")}function o(){var e=i("#apply").filter(":visible");e.exists()?e.off("click").on("click",a):e=i("#offersPanelCommitted").prop("tabIndex",-1),e.focus()}var c=i("#offers"),s=c.find(".panel-submit button, #apply");s.off("click").on("click",a)},{name:"checkout/offer-codes/validation",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){function a(){i("#giftCardForms a.primary[data-ajax-btn]").buttonify().addClass("amaze-inset")}a(),i("body").on("amaze:checkout:insertion",function(){setTimeout(a,0)})},{name:"checkout/payment/check-balance-button",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=i.keyname(e);if(t){var n=i(e.target),a="left up",r="right down";~a.indexOf(t)?(e.preventDefault(),c(n,"prev")):~r.indexOf(t)?(e.preventDefault(),c(n,"next")):"space"===t&&(e.preventDefault(),e.target.click())}}function r(e){var t=e.target;d.one("DOMNodeInserted",".info-tooltip-display",function(e){var n=i(e.target).rndid();i(t).noClobber("aria-describedby",n.prop("id"))}),l(t).trigger("mouseover")}function o(e){l(e.target).trigger("mouseout")}function c(e,t){var n=i.inArray(e[0],m),a="next"===t?n+1:n-1,r=m[a];r||(r="next"===t?m.first()[0]:m.last()[0]),r&&(m.prop("tabindex",-1),r.tabIndex=0,r.focus())}function s(){m.attr("aria-checked","false").prop("tabindex",-1),i(this).attr("aria-checked","true").prop("tabindex",0)}var l=e.jQuery,d=i(t.body),u={spriteAngelCard:"angel-card",spriteVisaCard:"visa",spriteMasterCard:"master-card",spriteAmexCard:"amex",spriteDiscoverCard:"discover",spriteChinaUnionCard:"china-union",spriteJCBCard:"jcb"},f=[];i.each(u,function(e,t){var n=i("li a."+e);n.exists()&&(f.push(n[0]),n.prop("title",i.localeText(t)))}),i("#cardSelection").role("radiogroup");var p,m=i(f);m.each(function(){p=i(this),p.role("radio").prop("tabindex",-1).attr("aria-checked","false").on("keydown",a).on("focus",r).on("blur",o).on("click",s).first().prop("tabindex",0),p.parent().presentation()})},{name:"checkout/payment/credit-card-images",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){function a(){i("#paymentPanel h2 a.overlay.primary").buttonify()}a(),i("body").on("amaze:checkout:insertion",function(){setTimeout(a,0)})},{name:"checkout/payment/details-buttons",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){var a=i("#paymentForm"),r=a.find('label[for="month"]'),o=a.find('label[for="year"]');i("#ccNumber").addClass("amaze-inset"),i("#ccYear, #ccMonth").addClass("amaze-inset"),r.attr("for","ccMonth"),o.attr("for","ccYear")},{name:"checkout/payment/form",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=o.find('[type="text"], [type="password"]').filter(":visible");e.removeAttr("aria-invalid"),o.one("DOMNodeInserted",r,function(t){var n=i(t.target).rndid(),a=i.offscreen("span").text(i.localeText("error")+" ");n.prepend(a),setTimeout(function(){e.attr("aria-invalid",!0).attr("aria-describedby",n.prop("id")).first().focus()},100)})}var r=".form-error-msg, .gcMsgs, .fab-alert-lowlevel";i("#giftCardNumber, #giftCardPin").each(function(){var e=i(this);e.addClass("amaze-inset");var t=e.attr("placeholder"),n=i.offscreen("label").text(t);n.attr("for",e.prop("id")),n.insertBefore(e)});var o=i("#giftCardForms");o.find(".checkBalance").on("click",a),o.on("submit",a)},{name:"checkout/payment/gift-card-form",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){i("#paymentPanel h2 a.overlay.primary").on("click",function(){i(t.body).one("DOMNodeInserted",".iframe-overlay-wrapper",function(e){i(e.target).find("iframe").first().prop("title",i.localeText("gift-card-egift-card-help"))})})},{name:"checkout/payment/iframe-title",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){i("body").on("DOMNodeInserted","#getStarted",function(e){var t=i(e.target);t.find("#editAddress").buttonify().on("click",function(){i("#personalInformation").prop("tabindex",-1).focus()}),t.find(".fab-input-checkbox").prop("tabindex",0).role("checkbox").on("keydown",function(e){var t=i.keyname(e);("enter"===t||"space"===t)&&(e.preventDefault(),i(e.target).find("input:checkbox").fire("click"))}),t.find("iframe").attr("name",i.localeText("olps-terms"))})},{name:"checkout/payment/olps/checkboxes",priority:"default",css:"span.fab-input-checkbox{height:auto;display:inline-block}",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){i("div.legal-section-heading").role("heading").attr("aria-level",1),i("div.legal-section-sub-heading").role("heading").attr("aria-level",2),i("table.rate-table td:nth-child(odd)").role("row-heading"),i("table.facts-table td:nth-child(odd)").role("row-heading")},{name:"checkout/payment/olps/disclosure",priority:"default",regex:{include:new RegExp("\\/victoriassecret\\/public\\/apply","i")}}),amaze.injection(function(e,t,n,i){var a=i("body");a.on("DOMNodeRemoved","#preApproved",function(){var e=i("#modal-content");e.parent().hasClass("olps")&&e.role("dialog").prop("tabindex",-1).focus()})},{name:"checkout/payment/olps/focus",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){function a(e){i(e.target).find(":input[required]").attr("aria-required",!0),i("#getStarted").find("form:first").on("submit",i.defer(function(e){i(e.target).find(":input.error:not(.fab-alert):visible").first().focus()},200))}function r(e){var t=i("#getStarted"),n=i(e.target),a=t.find("#"+n.attr("data-inputid"));a.attr("aria-describedby",n.prop("id")),t.find(":input.error").attr("aria-invalid",!0).onAttributeChange("class",function(e){!i(e).attr("aria-invalid",i(e).hasClass("error"))})}i("body").on("DOMNodeInserted","#getStarted",a).on("DOMNodeInserted","div.fab-alert-item",r)},{name:"checkout/payment/olps/form/validation",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){i("body").on("DOMNodeInserted","#getStarted",function(e){var t=i(e.target),n=t.find("#dob").role("group"),a=n.find("label:first");n.noClobber("aria-labelledby",a),i("#dobMonth").attr("aria-label",i.localeText("dob-month")),i("#dobDay").attr("aria-label",i.localeText("dob-day")),i("#dobYear").attr("aria-label",i.localeText("dob-year"))})},{name:"checkout/payment/olps/labels",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){var a=i("body");i("html").hasClass("showOlps")&&i.defer(function(){a.trigger("amaze:olps:open")},200),a.on("DOMNodeInserted","div.modal-wrapper",i.defer(function(){a.trigger("amaze:olps:open")},200))},{name:"checkout/payment/olps/modal",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){function a(e){e.onAttributeChange("style",function(t,n,a){"display: block;"===a&&(e.find("> a.card").role("radio").onAttributeChange("class",c).on("keydown",s).wrapAll('<span role="radiogroup" />').prop("tabindex",0),e.find('a.card[data-card-type="vs"]').attr("aria-label",i.localeText("angel-card")),e.find('a.card[data-card-type="pink"]').attr("aria-label",i.localeText("pink-angel-card")))})}function r(){var e=i("#modal-content");if(e.parent().hasClass("olps")){var t=e.role("dialog").prop("tabindex",-1).focus();a(i("#cardPicker")),o(t)}}function o(e){var t=e.focusable();e.ontab(function(n){n.preventDefault(),t=e.focusable().filter(":not([tabindex=-1])");var i=t.index(n.target),a=t.eq(i+1),r=t.eq(i-1);a.exists()||(a=t.first()),r.exists()||(r=t.last()),(n.shiftKey?r:a).focus()})}function c(e){var t=i(e);t.attr("aria-checked",t.hasClass("selected"))}function s(e){var t=i(e.target),n=t.closest("span"),a=n.find("a.card"),r=a.index(t);switch(i.keyname(e)){case"up":case"left":e.preventDefault(),e.stopPropagation(),l(u(a,r));break;case"right":case"down":e.preventDefault(),e.stopPropagation(),l(d(a,r));break;case"space":e.preventDefault(),e.stopPropagation(),l(t);break;default:return}}function l(e){e.prop("tabindex",0).focus().fire("click").siblings().prop("tabindex",-1).attr("aria-checked",!1).removeClass("selected")}function d(e,t){var n=e.eq(t+1);return n.length||(n=e.first()),n}function u(e,t){var n=e.eq(t-1);return n.length||(n=e.last()),n}i("body").on("amaze:olps:open",r)},{name:"checkout/payment/olps/radios",priority:"high",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){i("body").on("DOMNodeInserted","#olpsApproved",function(e){var t=i("#modal-content");t.parent().hasClass("olps")&&t.role("dialog").prop("tabindex",-1).focus(),i(e.target).find("#cardImg > img").attr("alt",i.localeText("angel-card"))})},{name:"checkout/payment/olps/success",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){i("body").on("DOMNodeInserted","#getStarted",function(e){i(e.target).find("iframe:first").attr("title",i.localeText("olps-terms"))})},{name:"checkout/payment/olps/title",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i("#paymentForm").role("radiogroup"),t=e.find("h4").first(),n=e.find(".fab-input-radio").role("radio");e.find("fieldset, div").presentation(),n.each(function(e,a){var r=i(a),o=r.find("input").is(":checked");r.addClass("amaze-block-rad").noClobber("aria-labelledby",r).noClobber("aria-labelledby",t).attr({"aria-checked":o,"aria-posinset":1+e,"aria-setsize":n.length}).prop("tabIndex",o?0:-1),r.parent().is("#paypalInputs")&&r.noClobber("aria-describedby","paypalAlertMsg")}).off("keydown").on("keydown",function(e){var t=e.which,i=e.target;if(t>=37&&40>=t){var a=r(e.target,n);e.preventDefault(),o(n[0===a?1:0],i)}else 32===t&&(e.preventDefault(),i.click())}).off("click").on("click",function(){var e=r(this,n);o(this,n[0===e?1:0])}).find("input").off("click").on("click",function(e){e.stopPropagation()})}function r(e,t){return i.inArray(e,t)}function o(e,t){var n=i(e),a=i(t);a.prop("tabIndex",-1).attr("aria-checked",!1),n.prop("tabIndex",0).attr("aria-checked",!0).focus().find("input").click()}a(),i("body").on("amaze:checkout:insertion",i.defer(a,350))},{name:"checkout/payment/pay-type-radio-group",priority:"default",css:".amaze-block-rad{display:block!important}",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i("#addressPanel .alert p");e.find(".amaze-warning-text").exists()||e.prepend(i.offscreen("span").text(i.localeText("warning")+": ").addClass("amaze-warning-text"))}a(),i("body").on("amaze:checkout:insertion amaze:country:change",function(){setTimeout(a,0)})},{name:"checkout/payment/warning",priority:"default",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=e.keyCode||e.which;9===t&&(c.addClass(o),c.off("keydown",a))}function r(){c.removeClass(o).on("keydown",a)}var o="amaze-focus-enabled",c=i(t.body);c.on("keydown",a).on("amaze:remove:focus",r),c.find("#wrapper").on("mouseup",function(){c.trigger("amaze:remove:focus")})},{name:"checkout/thank-you/add-focus",priority:"default",regex:{include:new RegExp("\\/commerce2\\/account\\/solicit","i")}}),amaze.injection(function(e,t,n,i){function a(){return i(e.frameElement.offsetParent.closest("body")).hasClass("amaze-focus-enabled")}function r(){function e(e){var t=e.which,n=i(e.target);9===t&&e.shiftKey&&n.is(c)?(e.preventDefault(),s.focus()):9===t&&!e.shiftKey&&n.is(s)&&(e.preventDefault(),c.focus())}var t=i("#container");i("body").toggleClass("amaze-focus-enabled",a()),t.addClass("amaze-border-focus").prop("tabindex",-1).focus();var n=i("#wrapper"),r=n.find("button, a.close.fab-ico--overlay-close"),c=r.first(),s=r.last();i("#password").password(),r.filter("a.close.fab-ico--overlay-close").buttonify(),n.role("dialog").prop("tabIndex",-1).focus(),o.on("keydown","#wrapper",e)}var o=i("body");r()},{name:"checkout/thank-you/modal",priority:"default",regex:{include:new RegExp("\\/commerce2\\/account\\/solicit","i")}}),amaze.injection(function(e,t,n,i){function a(e){e.role("button").prop("tabindex",0).on("focus",function(e){r(),c(e.target).trigger("mouseover")}).on("blur",function(e){c(e.target).trigger("mouseout")}),e.find(".amaze-offscreen").exists()||e.append(i.offscreen().text(i.localeText("details")))}function r(){i(t.body).one("DOMNodeInserted",".info-tooltip-display",function(e){i.politeAnnouncement(i(e.target).text())})}function o(e){var t=e.parent().rndid(),n=e.prev("input").first().is(":checked");e.prop("tabindex",0).role("checkbox").noClobber("aria-labelledby",t.prop("id")).attr("aria-checked",n).on("keydown",function(e){32===e.which&&(e.preventDefault(),e.target.click())}).on("click",function(e){var t=i(e.target),n="true"===t.attr("aria-checked");t.attr("aria-checked",!n)})}var c=e.jQuery,s=i("#paymentPanel");a(s.find('label[for="ccNumber"] a'));var l=s.find("#saveCreditCardSection");a(l.find(".info-tooltip.info-tooltip-anchor"));var d=l.find("label em");d.exists()&&o(d);var u=(i("#paymentForm"),i("#gcAdd"),i("#paymentCommit")),f=u.clone(!1),p=i("#paymentPanel .panel-submit");u.hide(),p.append(f),f.on("click",function(){u.click()}),i("body").on("amaze:checkout:insertion",function(){setTimeout(function(){s=i("#paymentPanel"),l=s.find("#saveCreditCardSection");var e=l.find(".info-tooltip.info-tooltip-anchor");d=l.find("label em"),a(e),o(d)},0)})},{name:"checout/payment/tab-order",priority:"default",css:"h2.amaze-less-margin{margin-bottom:1px!important}.amaze-no-min-width{min-width:0!important}",regex:{include:new RegExp("\\/commerce2\\/checkout","i")}}),amaze.injection(function(e,t,n,i){if(!t.title){var a=i("h1");a.exists()&&(t.title=a.text())}},{name:"contact-info/title",priority:"default",regex:{include:new RegExp("\\/contact-info","i")}}),amaze.injection(function(e,t,n,i){function a(){return i(e.frameElement.offsetParent.closest("body")).hasClass("amaze-focus-enabled")}function r(e){var t=i(this);e.preventDefault();for(var n=t.focusable(),a=n.index(e.target),r=n.eq(a+1),o=a+1;o<n.length&&"-1"===r.attr("tabindex");o++)r=n.eq(o);var c=n.eq(a-1);for(o=a-1;o>=0&&"-1"===c.attr("tabindex");o--)c=n.eq(o);r.length||(r=n.first()),c.length||(c=n.last()),(e.shiftKey?c:r).focus()}var o=i("#container");i("body").toggleClass("amaze-focus-enabled",a()),o.ontab(r).prop("tabindex",-1).focus(),o.find("button.close, a.close").buttonify()},{name:"create-an-account/init-create-modal-focus",priority:"low",regex:{include:new RegExp("\\/account\\/create\\/overlay","i")}}),amaze.injection(function(e,t,n,i){function a(){return i(e.frameElement.offsetParent.closest("body")).hasClass("amaze-focus-enabled")}function r(e){var t=i(this);e.preventDefault();for(var n=t.focusable(),a=n.index(e.target),r=n.eq(a+1),o=a+1;o<n.length&&"-1"===r.attr("tabindex");o++)r=n.eq(o);var c=n.eq(a-1);for(o=a-1;o>=0&&"-1"===c.attr("tabindex");o--)c=n.eq(o);r.length||(r=n.first()),c.length||(c=n.last()),(e.shiftKey?c:r).focus()}var o=i("#container");i("body").toggleClass("amaze-focus-enabled",a()),o.ontab(r).addClass("amaze-border-focus").prop("tabindex",-1).focus(),o.find("button.close, a.close").buttonify()},{name:"create-an-account/init-signin-modal-focus",priority:"low",regex:{include:new RegExp("\\/account\\/signin\\/overlay","i")}}),amaze.injection(function(e,t,n,i){i("#password").password()},{name:"create-an-account/password-field",priority:"default",regex:{include:new RegExp("\\/account\\/create","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=i(e.target),n=t.closest("#container"),a=n.find("#"+t.attr("data-inputid"));a.attr("aria-describedby",t.prop("id")),n.find(":input.error").attr("aria-invalid",!0).onAttributeChange("class",function(e){i(e).attr("aria-invalid",!i(e).hasClass("error"))})}var r=e.frameElement;if(r&&"/account/signin/overlay"===r.getAttribute("src")){var o=i(r).contents().find("#container");o.on("DOMNodeInserted","div.fab-alert-item",a),o.on("DOMNodeInserted","div.form-error-msg",i.defer(function(){o.find("#createAccount").find(":input.error:not(.fab-alert):visible").first().focus()},200)).find(":input[required]").attr("aria-required",!0)}},{name:"create-an-account/validation",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){var a=i("#addItems");if(a.exists()&&a.is(":visible")){var r=a.find("h2"),o=a.find(".lookModal-bd"),c=a.find(".js-tutorialModalClose.modalBtn"),s=e.jQuery("#addItems .js-tutorialModalClose");if(!c.exists())return;a.role("alertdialog"),c.buttonify().noClobber("aria-labelledby",r).noClobber("aria-labelledby",o).noClobber("aria-labelledby",c).on("keydown",function(e){var t=e.which;9===t?e.preventDefault():27===t&&s.trigger("click")}),setTimeout(function(){c.focus()})}},{name:"create-your-look/add-items-modal",priority:"default",regex:{include:new RegExp("\\/swimwear\\/create-your-look","i")}}),amaze.injection(function(e,t,n,i){var a=i(".js-workingTutorialModal.isDisplayed");if(a.exists()&&a.is(":visible")){var r=a.find(".js-tutorialModalClose"),o=a.find("h2"),c=a.find(".lookModal-bd p");r.role("alertdialog").noClobber("aria-labelledby",o).noClobber("aria-labelledby",c).noClobber("aria-labelledby",r).on("keydown",function(e){var t=e.which;9===t?e.preventDefault():27===t&&r.fire("click")}),r.focus()}},{name:"create-your-look/get-started-modal",priority:"default",regex:{include:new RegExp("\\/swimwear\\/create-your-look","i")}}),amaze.injection(function(e,t,n,i){i("#lookOffer img").attr("alt",i.localeText("risk-free-swim")),i("h2.styleFile-header img").attr("alt",i.localeText("wardrobe"))},{name:"create-your-look/img-alts",priority:"default",regex:{include:new RegExp("\\/swimwear\\/create-your-look","i")}}),amaze.injection(function(e,t,n,i){t.title=i.localeText("create-your-look-title")},{name:"create-your-look/page-title",priority:"default",regex:{include:new RegExp("\\/swimwear\\/create-your-look","i")}}),amaze.injection(function(e,t,n,i){var a=i(".save.js-saveLook");a.buttonify()},{name:"create-your-look/save-this-look-button",priority:"default",regex:{include:new RegExp("\\/swimwear\\/create-your-look","i")}}),amaze.injection(function(){},{name:"customer-service/email-customer-service/email-subject",priority:"default",regex:{include:new RegExp("\\/app\\/ask","i")}}),amaze.injection(function(){},{name:"customer-service/email-customer-service/headings",priority:"default",regex:{include:new RegExp("\\/app\\/ask","i")}}),amaze.injection(function(e,t,n,i){i("input[placeholder]").each(function(e,t){var n=t.getAttribute("placeholder").trim();if(n.length){var a=i.offscreen("label").text(n).get(0);a.htmlFor=t.id=t.id||i.rndid(),t.parentNode.appendChild(a)}})},{name:"customer-service/email-customer-service/labels",priority:"default",regex:{include:new RegExp("\\/app\\/ask","i")}}),amaze.injection(function(e,t,n,i){i("[tabindex]").filter(function(e,t){0<parseInt(t.tabIndex)&&(t.tabIndex=0)})},{name:"customer-service/email-customer-service/tabindex",priority:"default",regex:{include:new RegExp("\\/app\\/ask","i")}}),amaze.injection(function(e,t,n,i){var a=i("#bmonth"),r=i("#bday"),o=a.closest("fieldset"),c=i('<legend class="amaze-legend"></legend>'),s=o.find('label[for="bmonth"]').offscreen();c.text(s.text()),s.text(i.localeText("month")),o.prepend(c),s=i.offscreen("label").text(i.localeText("day")),s.prop("htmlFor","bday"),r.closest("div").prepend(s)},{name:"customer-service/events-signup/birthday-fieldset",priority:"default",regex:{include:new RegExp("\\/r\\/regf2\\?a=0\\&aid=477251442\\&n=20","i")}}),amaze.injection(function(e,t,n,i){i("#customer_service_form, #customer-service-form").on("DOMNodeInserted",".error-msg",function(e){var t=i(e.target),n=t.text();t.role("alert"),i.assertiveAnnouncement(n)})},{name:"customer-service/events-signup/errors",priority:"default",regex:{include:new RegExp("\\/r\\/regf2\\?a=0\\&aid=477251442","i")}}),amaze.injection(function(e,t,n,i){i("#nav-secondary a").each(function(e,t){var n=i(t),a=i("<h2>").append(n.contents());n.replaceWith(a)})},{name:"customer-service/events-signup/headings",priority:"default",regex:{include:new RegExp("\\/r\\/regf2\\?a=0\\&aid=477251442\\&n=20","i")}}),amaze.injection(function(e,t,n,i){t.title=i.localeText(t.getElementById("fn")?"sign-up-store-events":"update-your-email-prefs")},{name:"customer-service/events-signup/page-title",priority:"default",regex:{include:new RegExp("\\/r\\/regf2\\?a=0\\&aid=477251442","i")}}),amaze.injection(function(e,t,n,i){i(e).isCustomerService()&&(i("#nav-primary").insertBefore(i("#rn_content")),i("[tabindex]").attr("tabindex",function(e,t){return t>0?0:t}))},{name:"customer-service/events-signup/reading-order",priority:"high",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=e.find(".radio-wrapper").wrapAll('<div role="radiogroup" />');t.each(function(e,n){var a=i(n);a.attr({"aria-checked":r(a),role:"radio"}).prop("tabIndex",r(a)?0:-1).noClobber("aria-labelledby",a).off("keydown").on("keydown",function(e){var n=e.which,a=i(e.target);37===n||38===n?(e.preventDefault(),o(a,t,"prev")):(39===n||40===n)&&(e.preventDefault(),o(a,t,"next"))})})}function r(e){return e.parent().hasClass("clicked")||e.is(":first-child")}function o(e,t,n){var a=i.inArray(e[0],t),r="next"===n?a+1:a-1;0===a&&"prev"===n?r=t.length-1:a===t.length-1&&"next"===n&&(r=0),c(e,t[r])}function c(e,t){var n=i(t);e.attr("aria-checked",!1).prop("tabIndex",-1),n.attr("aria-checked",!0).prop("tabIndex",0).find("label").fire("click").end().focus()}var s=["#caForm","#usForm"].join(","),l=i("#forms");a(l.find(s).first()),l.on("DOMNodeInserted",s,function(e){var t=i(e.target);t.is("#caForm, #usForm")&&a(t)})},{name:"customer-service/events-signup/store-offers/radios",priority:"default",regex:{include:new RegExp("\\/CustomerService\\/SignUp\\/StoreOfferAndEvents","i")}}),amaze.injection(function(e,t,n,i){var a=i("#rn_Banner");a.closest("a").wrap("<h1 />"),a.append(i.offscreen("span").text(i.localeText("customer-service"))).append(i.offscreen("span").text(i.localeText("here-for-you"))),i("h1.rn_ScreenReaderOnly").remove()},{name:"customer-service/headings",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){var a=i(".rn_AnswerFeedbackControl .rn_Title"),r="up right down left",o=i("#rn_AnswerFeedback_6_AnswerFeedbackControl");o.find("#rn_AnswerFeedback_6_RatingButtons").role("radiogroup").find('button[class^="rn_Rating"]').each(function(){i(this).role("radio").noClobber("aria-labelledby",i(this)).noClobber("aria-labelledby",a).on("keydown",function(e){var t=i.keyname(e);
~r.indexOf(t)&&(e.preventDefault(),i(e.target).siblings().first().focus())})}),o.one("DOMNodeInserted","div",function(e){var t=i(e.target).find("#rn_AnswerFeedback_6_ThanksLabel");i.politeAnnouncement(t.text())})},{name:"customer-service/helpful-buttons",priority:"default",regex:{include:new RegExp("\\/app\\/answers\\/detail\\/","i")}}),amaze.injection(function(e,t,n,i){i('a[href="javascript:getAnswer()"]').attr("aria-hidden",!0).attr("tabindex","-1")},{name:"customer-service/hidden-links",priority:"default",regex:{include:new RegExp("app\\/answers\\/list","i")}}),amaze.injection(function(e,t,n,i){i(".rn_HierList h3 a img").presentation()},{name:"customer-service/presentation-icons",priority:"default",regex:{include:new RegExp(".","i")}}),amaze.injection(function(e,t,n,i){~e.location.hostname.indexOf("customerservice")&&i("#wrapper").prepend(i("#nav-primary"))},{name:"customer-service/reading-order",priority:"default",regex:{include:new RegExp(".","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=e.find("tbody tr");t.each(function(){var e=i(this).find("td").first();e.replaceWith('<th scope="row">'+e.html()+"</th>")})}var r=i("<caption />"),o=i.offscreen("span").text(i("#size_charts").text());r.append(o);var c=i("table.super-bra");c.prepend(r),a(c),r=i("<caption />"),o=i.offscreen("span").text(i("#conversion-table").text()),r.append(o);var s=i("#conversion-table + table");s.prepend(r),a(s),i(".rn_KeywordText input").noClobber("aria-labelledby",i("#rn_SearchControls h2")),i(".rn_AnswerDetail p").each(function(e,t){"bold"==t.style.fontWeight.toLowerCase()&&i(t).role("heading").attr("aria-level",3)})},{name:"customer-service/search-result-detail",priority:"default",regex:{include:new RegExp("\\/app\\/answers","i")}}),amaze.injection(function(e,t,n,i){i("#rn_SkipNav > a[href]").remove()},{name:"customer-service/skip-navigation",priority:"default",regex:{include:new RegExp(".","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i("#FREQUENCY"),t=i("#unsub");e.removeAttr("onclick"),t.removeAttr("onclick");var n={unsub:t.prop("name"),freq:e.prop("name")};e.prop("name",o),t.prop("name",o),r.one("submit",function(){e.prop("checked")?e.prop("name",n.freq):t.prop("checked")&&t.prop("name",n.unsub),setTimeout(a,100)})}var r=i("#customer-service-form");if(r.length){var o=i.rndid();a()}},{name:"customer-service/unsubscribe/radio",priority:"default",regex:{include:new RegExp("\\/r\\/regf2\\?a=0\\&aid=477251442","i")}}),amaze.injection(function(e,t,n,i){var a=i("#egcAnon");a.find(":input").filter(function(){return i(this).prop("tabindex")>0}).prop("tabindex",0)},{name:"e-gift-card/tab-order",priority:"default",regex:{include:new RegExp("commerce2\\/giftcards\\/egcactivateview","i")}}),amaze.injection(function(e,t,n,i){i('a[name="FEATURE80"]').presentation().attr("tabindex","-1"),i('a[name="FEATURE6"]').append(i.offscreen().text(i.localeText("explore-styles-wew-copy"))),i('a[name="FEATURE41"]').append(i.offscreen().text(i.localeText("explore-styles-datebra-copy"))),i('a[name="FEATURE65"]').append(i.offscreen().text(i.localeText("explore-styles-campusbra-copy"))),i('a[name="FEATURE81"]').append(i.offscreen().text(i.localeText("explore-styles-logo-copy"))),i('a[name="FEATURE92"]').append(i.offscreen().text(i.localeText("explore-styles-seamless-copy"))),i('a[name="FEATURE99"] img').attr("alt",i.localeText("explore-styles-cageback")),i('a[name="FEATURE100"] img').attr("alt",i.localeText("explore-styles-strappyfront")),i('a[name="FEATURE101"] img').attr("alt",i.localeText("explore-styles-pinkbratop"))},{name:"explore-our-styles/images",priority:"low",css:".carousel,.carousel .map{overflow:visible!important}",regex:{include:new RegExp("\\/pink\\/bras\\/explore-our-styles","i")}}),amaze.injection(function(e,t,n,i){var a={'button[data-ccid="FASHION SHOW:LANDING PAGE"] img':"casting-watch-now",'.story .image img[src*="fashion-show-lp"':"musical-guests",'.story .image img[src*="angel-lineup"]':"angel-lineup",'.story .image img[src*="lp-videos-deskto"]':"go-behind-the-scenes",'.story .image img[src*="lp-ondemand"]':"watch-the-2014-fashion-show"};for(var r in a){var o=i.localeText(a[r]),c=i(r);c.exists()||(c=i(r.replace("src*=","data-mfc-lazyload-src*="))),c.attr("alt",o)}},{name:"fashion-show/image-alts",priority:"default",regex:{include:new RegExp("\\/fashion-show","i")}}),amaze.injection(function(e,t,n,i){var a=i("#fsw-menu"),r=a.find("a");a.role("list"),r.role("listitem");var o=i('#content .story img[data-mfc-lazyload-src*="angel-lineup"]'),c=o.closest(".primary"),s=c.find("section.hot-spot");c.role("list"),s.role("listitem")},{name:"fashion-show/list",priority:"default",regex:{include:new RegExp("\\/fashion-show","i")}}),amaze.injection(function(e,t,n,i){i("a.fs-logo").empty().text(i.localeText("victorias-secret-fashion-show-london-2014"))},{name:"fashion-show/logo-text",priority:"default",regex:{include:new RegExp("\\/fashion-show","i")}}),amaze.injection(function(e,t,n,i){i('a[data-ccid="FASHION SHOW:LANDING PAGE"]').append(i.offscreen("span").text(i.localeText("view-all-videos")))},{name:"fashion-show/view-all-link",priority:"default",regex:{include:new RegExp("\\/fashion-show","i")}}),amaze.injection(function(e,t,n,i){i(".next-slide").on("click",i.defer(function(){i(".button.shop").each(function(){var e=i(this),t=e.parent(),n=t.find("h1, h2");e.noClobber("aria-labelledby",e),e.noClobber("aria-labelledby",n),i('<div tabindex="-1">').append(e.parent().find(".victoria").first()).append(n).prependTo(e.closest(".vert-center-child")).focus()}),i(".facebook-share").attr("aria-label",i.localeText("facebook")),i(".twitter-share").attr("aria-label",i.localeText("twitter")),i(".pinterest-share").attr("aria-label",i.localeText("pinterest")),i(".email-share").attr("aria-label",i.localeText("email"))},800))},{name:"find-your-fragrance-quiz/labels",priority:"default",regex:{include:new RegExp("\\/beauty\\/find-your-fragrance-quiz","i")}}),amaze.injection(function(e,t,n,i){var a=i(".next-slide");a.add(".prev-slide").on("click",function(){i(".progress-bar").focus()});var r=a.filter(".disabled").attr("aria-disabled",!0);setTimeout(function(){r.onAttributeChange(function(e,t,n){"class"===t&&-1===(" "+n+" ").indexOf(" disabled ")&&i(e).attr("aria-disabled",!1)})},0)},{name:"find-your-fragrance-quiz/navigation",priority:"default",regex:{include:new RegExp("\\/beauty\\/find-your-fragrance-quiz","i")}}),amaze.injection(function(e,t,n,i){i(".item.single .pane.gpu").fixRadioGroup({selector:"li",parentSelector:"ul.quiz-answers",selectedClass:"selected"}),i(".item.multi .pane.gpu").fixCheckboxGroup({selector:"li",parentSelector:"ul.quiz-answers",selectedClass:"selected"})},{name:"find-your-fragrance-quiz/radio-group",priority:"default",regex:{include:new RegExp("\\/beauty\\/find-your-fragrance-quiz","i")}}),amaze.injection(function(e,t,n,i){var a=i("#ff-carousel-love-notes .left").buttonify(),r=i("#ff-carousel-love-notes .right").buttonify();r.append(i.offscreen("span").text(i.localeText("next-button"))),a.append(i.offscreen("span").text(i.localeText("previous-button")))},{name:"find-your-fragrance/carousel",priority:"default",regex:{include:new RegExp("\\/beauty\\/find-your-fragrance","i")}}),amaze.injection(function(e,t,n,i){var a=i("div.progress-bar"),r=a.find("div.ease"),o=i(".fragrance-header .title").rndid();a.role("progressbar").attr({"aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,"aria-labelledby":o.prop("id")}).prop("tabIndex",0),r.onAttributeChange(function(e,t,n){a.attr("aria-valuenow",n.substr(7,2))})},{name:"find-your-fragrance/progress-bar",priority:"default",regex:{include:new RegExp("\\/beauty\\/find-your-fragrance-quiz","i")}}),amaze.injection(function(e,t,n,i){var a=i(".cta a");i(".cta h1").rndid(),a.rndid(),a.attr("aria-labelledby",function(){return this.id+" "+i(this).closest(".cta").find("h1")[0].id})},{name:"find-your-fragrance/start-link-description",priority:"default",regex:{include:new RegExp("\\/beauty\\/find-your-fragrance","i")}}),amaze.injection(function(e,t,n,i){var a;i(".share-container a").buttonify().on("focus",function(){i(this).closest(".share-container").addClass("amaze-social-visible")}).on("blur",function(){i(this).closest(".share-container").removeClass("amaze-social-visible")}),i(".video-pane .visuallyhidden").rndid(),i("a.play").buttonify().attr("aria-labelledby",function(){return i(this).closest(".video-pane").find(".visuallyhidden")[0].id}).on("focus",function(){i(this).next(".share-container").addClass("amaze-social-visible")}).on("blur",function(){i(this).next(".share-container").removeClass("amaze-social-visible")}).on("click",i.defer(function(){a=i(this),i(".video-player-close").focus()},800)),i(".shop.button").on("keydown",function(e){var t=i.keyname(e);if("tab"===t&&e.shiftKey){e.preventDefault();var n=i(this).parent().prev().find(".share-container");n.addClass("amaze-social-visible"),n.find("a").filter(":last").focus()}}),i(".video-player-close").buttonify().addLabel(i.localeText("close-button-label")).on("click",i.defer(function(){a&&(a.focus(),a=null)}))},{name:"find-your-fragrance/video",priority:"default",css:".amaze-social-visible{opacity:1!important;visibility:visible!important;transition:none!important;-webkit-transition:none!important}",regex:{include:new RegExp("\\/beauty\\/find-your-fragrance","i")}}),amaze.injection(function(e,t,n,i){function a(){r.one("DOMNodeInserted",".form-error-msg",function(e){var t=i(e.target);setTimeout(function(){o.find('[type="text"], [type="password"]').removeAttr("aria-invalid").each(function(e,n){var a=i(n);a.is(".error")&&(a.attr("aria-invalid",!0),a.noClobber("aria-describedby",t))}).filter(".error").first().focus()},100)})}var r=i("body"),o=i("#gift-card-balance");o.on("submit",a)},{name:"gift-card/check-balance/validation",priority:"default",regex:{include:new RegExp("\\/gifts\\/gift-cards","i")}}),amaze.injection(function(e,t,n,i){i(".textarea_countdown p.right").attr({"aria-live":"polite","aria-atomic":"true"})},{name:"gift-card/form",priority:"default",regex:{include:new RegExp("\\/gifts\\/gift-cards\\/gift-card","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=e.target;o();i("section.error").each(function(){var e=i(this),t=e.find("h3, h2").first(),n=e.find("input,select,textarea"),a=l[t.text()];if(a){n.attr("aria-invalid","true");var r=i(".product-tooltip").filter(function(){var e=i(this).text().trim().toLowerCase();return e==a.toLowerCase()}).first();r.exists()&&(r.rndid(),n.noClobber("aria-describedby",r.prop("id")))}}),r(t)}function r(e){var t=i(e).closest("fieldset").prev("fieldset").first();t.exists()&&t.find("section.error").find("input,select,textarea").not('[type="hidden"]').filter(function(){return i(this).is(":visible")}).first().focus()}function o(){i("section").find("input,select,textarea").removeAttr("aria-invalid")}function c(e){var t=i.offscreen().rndid(),n=e.hasClass("dts-month")?"month":"day";t.text(i.localeText(n)),e.noClobber("aria-labelledby",d.prop("id")),e.parent().append(t),e.noClobber("aria-labelledby",t.prop("id"))}function s(e){var t=e.target.id,n=t&&i('[aria-labelledby*="'+t+'"]');n.length&&n.focus()}var l={};l[i.localeText("design")]=i.localeText("design-error"),l[i.localeText("amount")]=i.localeText("amount-error"),l[i.localeText("to")]=i.localeText("to-from-error"),l[i.localeText("from")]=i.localeText("to-from-error"),l[i.localeText("recip-email")]=i.localeText("email-error"),l[i.localeText("confirm-recip-email")]=i.localeText("email-error");var d=i(".module.month h2").first().rndid();i(".add-more-group section").find("input,select,textarea").not('[type="radio"]').each(function(){var e=i(this);if("true"!==e.attr("data-optional")&&this.setAttribute("aria-required","true"),e.hasClass("dts-month")||e.hasClass("dts-date"))return c(e);var t=e.closest("section").find("h2");t.rndid(),e.noClobber("aria-labelledby",t.prop("id")),t.on("click",s)}),i('.module.color input[type="radio"]').attr("aria-required","true"),i("button.add-to-bag").on("click",function(e){setTimeout(function(){a(e)},100)}).find("span, em").presentation()},{name:"gift-card/form",priority:"low",css:".amaze-h3-label{margin-bottom:5px;display:block}",regex:{include:new RegExp("\\/gifts\\/gift-cards\\/gift-card","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=i(e);t.prop("alt",r(t.attr("src")))}function r(e){if(void 0===e)return"";var t=i.grep(o,function(t){return t.url===e.substr(-11)});return t.length>0?i.localeText(t[0].key):void 0}var o=[{url:"V392811.jpg",key:"pink-stripe-gc"},{url:"V439924.jpg",key:"love-me-gc"},{url:"V413858.jpg",key:"love-you-gc"},{url:"V439922.jpg",key:"birthday-gc"},{url:"V391980.jpg",key:"birthday-sexy-gc"},{url:"V441006.jpg",key:"make-a-wish-gc"},{url:"V439923.jpg",key:"angel-gc"},{url:"V439926.jpg",key:"pink-palm-tree-gc"},{url:"V439925.jpg",key:"love-pink-gc"},{url:"V439927.jpg",key:"pink-girl-gc"},{url:"V413857.jpg",key:"unwrap-me-gc"},{url:"V441242.jpg",key:"pink-tie-dye-gc"},{url:"V441243.jpg",key:"sexy-little-bride-gc"},{url:"V392747.jpg",key:"bridal-gc"},{url:"V441408.jpg",key:"pink-co-2015-gc"},{url:"V392747.jpg",key:"summer-is-for-angels-gc"},{url:"V392746.jpg",key:"vs-sport-gc"},{url:"V440356.jpg",key:"pink-script-gc"},{url:"V440355.jpg",key:"pink-stripe-gc"},{url:"V426454.jpg",key:"pink-spirit-gc"}],c=i("#vsImage, section.product > div.imgGroup > img");i("section.module.color label img").each(function(){var e=i(this),t=e.next("span");t.length&&e.prop("alt",t.text())}),setTimeout(function(){c.each(function(){a(this),i(this).removeAttr("role")})},200),c.onAttributeChange("src",a)},{name:"gift-card/images",priority:"default",regex:{include:new RegExp("\\/gifts\\/gift-cards\\/gift-card","i")}}),amaze.injection(function(e,t,n,i){var a=i("section.gc a > img.card"),r=i("section.egc a > img.card");a.parent().attr("aria-label",i.localeText("gift-card")),r.parent().attr("aria-label",i.localeText("egift-card"))},{name:"gift-card/landing-page/images",priority:"default",regex:{include:new RegExp("\\/gifts\\/gift-cards","i")}}),amaze.injection(function(e,t,n,i){i("a.moreInfo").prepend(i.offscreen().text(i.localeText("popup"))),i("a.moreInfo, p.terms > a").on("click",function(){i(t.body).one("DOMNodeInserted","div#modal-outer-wrapper",function(e){i(e.target).find('img[src$="images/about-gc.jpg"]').attr("alt",i.localeText("about-gc-image")),i(e.target).find('img[src$="images/about-egc.jpg"]').attr("alt",i.localeText("about-egc-image"))})})},{name:"gift-card/popups",priority:"default",regex:{include:new RegExp("\\/gifts\\/gift-cards\\/gift-card","i")}}),amaze.injection(function(e,t,n,i){var a=i("#optins .radio-wrapper label").rndid(),r=a.find("em");r.prop("tabindex",0).attr("aria-checked",!1).role("checkbox").noClobber("aria-labelledby",a.prop("id")).on("keydown",function(e){var t=e.which;(13===t||32===t)&&(e.preventDefault(),e.target.click())}).on("click",function(){var e=i(this);e.attr("aria-checked",!("true"==e.attr("aria-checked")))})},{name:"global/account-modal/create-account/email-checkbox",priority:"default",regex:{include:new RegExp("\\/account\\/create\\/overlay","i")}}),amaze.injection(function(e,t,n,i){i("#password").password()},{name:"global/account-modal/create-account/password-field",priority:"default",regex:{include:new RegExp("\\/account\\/create\\/overlay","i")}}),amaze.injection(function(e,t,n,i){var a=e.frameElement;if(a&&"/account/signin/overlay"===a.getAttribute("src")){var r=i.localeText("sign-in")+"/"+i.localeText("create-account");a.title=r}},{name:"global/account-modal/iframe-titles",priority:"default",regex:{include:new RegExp("\\/account\\/signin\\/overlay","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=o.find(":input.error");e.attr("aria-invalid","true").first().focus()}var r=i(t.body),o=i("#accountLogonForm"),c=o.find('button[type="submit"]');c.on("click",function(){r.one("DOMNodeInserted",".form-error-msg",i.defer(a,200))})},{name:"global/account-modal/signin/errors",priority:"default",regex:{include:new RegExp("\\/account\\/signin\\/overlay","i"),exclude:new RegExp("\\/account\\/signin\\/overlay\\/show","i")}}),amaze.injection(function(e,t,n,i){var a=i("#content");a.find(":input, a").filter(function(){return i(this).prop("tabindex")>0}).prop("tabindex",0)},{name:"global/account-modal/signin/remove-positive-tabindex",priority:"default",regex:{include:new RegExp("\\/account\\/signin\\/overlay","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=e.keyCode||e.which;9===t&&c.addClass(o).trigger("amaze:focus:active").off("keydown",a)}function r(){c.removeClass(o).on("keydown",a)}var o="amaze-focus-enabled",c=i(t.body);c.on("keydown",a).on("mouseup",r).on("amaze:remove:focus",r)},{name:"global/add-focus",priority:"high",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i("#floating"),t=i("#floating a"),n=i.offscreen().text(i.localeText("back-to-top")),a=i("footer"),r=i(".amaze-main-skip-link");t.append(n),t.role("link").prop("tabIndex",0).on("keydown",function(e){13===e.which&&e.target.click()}).on("click",function(){r.focus()}),a.before(e)}setTimeout(a,0)},{name:"global/back-to-top-link",priority:"low",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){i.decimalAdjust=function(e,t,n){return"undefined"==typeof n||0===+n?Math[e](t):(t=+t,n=+n,isNaN(t)||"number"!=typeof n||n%1!==0?0/0:(t=t.toString().split("e"),t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-n:-n))),t=t.toString().split("e"),+(t[0]+"e"+(t[1]?+t[1]+n:n))))},Math.round10||(Math.round10=function(e,t){return i.decimalAdjust("round",e,t)}),Math.floor10||(Math.floor10=function(e,t){return i.decimalAdjust("floor",e,t)}),Math.ceil10||(Math.ceil10=function(e,t){return i.decimalAdjust("ceil",e,t)})},{name:"global/decimal-rounding",priority:"high",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){function a(e,t){return t=t||100,function(){var n=[].slice.call(arguments),i=this;setTimeout(function(){e.apply(i,n)},t)}}i.defer=a},{name:"global/defer",priority:"high",regex:{include:new RegExp(".","i")}}),amaze.injection(function(e,t,n,i){var a={},r=["BVFieldRatingFitContainerID"];i("[id]").each(function(e,t){if(t.id&&a[t.id]){if(~r.indexOf(this.id))return;i(t).rndid(!0)}a[t.id]=1})},{name:"global/duplicate-ids",priority:"default",regex:{include:new RegExp(".","i"),exclude:new RegExp("lovelist\\/view","i")}}),amaze.injection(function(e,t,n,i){var a=i("footer form"),r=a.find("button[type=submit]"),o=r.find("span");o.length||(o=i.offscreen("span"),r.append(o)),o.offscreen().text(i.localeText("sign-up"))},{name:"global/email-signup/button",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){var a=i("footer form"),r=a.find("input[name=email]").rndid(),o=r.attr("id"),c=i('<label for="'+o+'">'+i.localeText("email-address")+"</label>").offscreen();a.append(c)},{name:"global/email-signup/input",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){var a=i("footer form"),r=a.find("fieldset");if(r.exists()){for(var o=a.contents(),c=null,s=o.index(r),l=s;l<o.length;l++){var d=o.get(l);if(3==d.nodeType){c=d;break}}if(c){var u=i('<legend class="amaze-email-signup-legend">');u.append(c),u.insertBefore(r.children().first())}}},{name:"global/email-signup/legend",priority:"default",css:".amaze-email-signup-legend{position:absolute;top:50px;left:20px;text-align:center;padding:0;margin:0;border:0}",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){function a(e){27==e.keyCode&&e.stopPropagation()}function r(e){return function(t){a(t),e(t)}}function o(e){return function(){e&&t.addEventListener("keydown",r(e),!0),t.addEventListener("keyup",a,!0)}}function c(e){return i.defer(function(){e&&t.removeEventListener("keydown",r(e),!0),t.removeEventListener("keyup",a,!0)},100)}i.escapeBlocker=function(e){i("body").on("amaze:block:escape",o(e)),i("body").on("amaze:unblock:escape",c(e))}},{name:"global/escape-blocker",priority:"high",regex:{include:new RegExp(".","i")}}),amaze.injection(function(e,t,n,i){function a(){function e(){var e=n.find(".error"),t=n.find("div.product-tooltip, div.tool-tip");e.each(function(e,n){var a=i(n),r=i(t[e]),o=r.find("p");a.is("section")&&(a=a.find("input, select")),a.attr("aria-invalid",!0),o.find(".amaze-offscreen").exists()||o.append(i.offscreen("span").text(i.localeText("error"))),r.exists()&&a.noClobber("aria-describedby",r)})}function t(){n.find("[aria-invalid]").removeAttr("aria-invalid")}var n=i(r);n.exists()&&(i("#country").on("change",function(){i("body").one("DOMNodeInserted",r,function(){setTimeout(function(){i("#country").focus(),a()},100)})}),n.on("DOMNodeInserted",".product-tooltip, .tool-tip",e),n.on("DOMNodeRemoved",".product-tooltip, .tool-tip",function(e){var t=e.target.id,a=n.find('[aria-describedby*="'+t+'"]'),r=a.attr("aria-describedby");r&&(r=r.split(/\s+/),r.splice(i.inArray(t,r),1),a.attr("aria-describedby",r.join(" ")).removeAttr("aria-invalid"))}),n.on("submit",t),n.on("submit",i.defer(function(){e(),n.find(".error:first").focus();var t=n.find("div.product-tooltip, div.tool-tip");t.each(function(e,t){var n=i(t);i.politeAnnouncement(n.text())})})))}var r=["#paymentForm","#billingAddressForm","#billingInfo","#shippingAddressForm","#registration","#createAccount","#account-form","#customer_service_form","#customer-service-form",'[action="/commerce2/giftcards/egcactivateoverlay"]','[action="/commerce2/bag/add"]'].join(",");a(),i("body").on("amaze:validate",a)},{name:"global/form/errors",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){i('ul[data-list-id="helpOptions"] a').append(i.offscreen().text(i.localeText("help"))),i("#headerLiveChat").on("keydown",function(e){var t=e.which;(13===t||32===t)&&(e.preventDefault(),e.target.click())})},{name:"global/help-button",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=i(e.target);t.is("iframe")&&t.attr("aria-hidden",!0)}var r='iframe[src*="doubleclick.net"], iframe[src^=javascript]';i(r).attr("aria-hidden",!0),i("body").on("DOMNodeInserted",r,a)},{name:"global/iframe/title",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){function a(){i("a:has(img)").each(function(){i(this).closest("li, div").addClass("amaze-image-holder").find("a:first").addClass("amaze-image-border")})}a(),i("section.product").on("DOMNodeInserted","li",function(e){var t=i(e.target);t.is("li")&&a()})},{name:"global/img-focus",priority:"default",css:"body.amaze-focus-enabled a.amaze-image-border{position:relative;display:inline-block!important}body.amaze-focus-enabled .amaze-image-holder{z-index:0;position:relative;display:inline-block!important}body.amaze-focus-enabled .amaze-image-holder:focus{z-index:-10}body.amaze-focus-enabled a.amaze-image-border:focus{box-shadow:inset 0 0 0 2px rgba(217,21,96,1)!important}body.amaze-focus-enabled html.pink a.amaze-image-border:focus{box-shadow:inset 0 0 0 2px rgba(230,0,115,1)!important}body.amaze-focus-enabled a.amaze-image-border:focus img{display:inline-block!important;position:relative;z-index:-1}",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){var a={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"};i.keyname=function(e){return"object"==typeof e&&e.hasOwnProperty("which")?i.keyname(e.which):a[e]}},{name:"global/keyname",priority:"high",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){i("a.button").buttonify()},{name:"global/link-button",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){i("#footerLiveChat, #livechat").prop("tabindex",0).on("keydown",function(e){13===e.which&&e.target.click()}).role("link")},{name:"global/live-chat",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){i("#lovelist").attr({"aria-live":"polite","aria-atomic":"true","aria-relevant":"additions"})},{name:"global/love-list-updates",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){function a(){function e(){if(!u||!u.length)throw new Error("no submenu is open");var e=u.get(0).className.split(/\s+/).shift();f=l.find("div."+e);var t=f.focusable(),n=t.first();return n.focus(),n}function t(){if(u&&u.length){var e=i(u.find("a"));e.trigger("amaze:megamenu:close"),f&&f.exists()||(f=i("#"+e.attr("aria-controls"))),f.exists()&&f.removeClass("show"),f=u=null}}function n(e,t){var n=e.eq(t+1);return n.length||(n=e.first()),n}function a(e,t){var n=e.eq(t-1);return n.length||(n=e.last()),n}function o(n){var a=n.length?n.get(0):n,o=r(a);return t(),i(a).trigger("amaze:megamenu:open"),o.one("mouseover",i.defer(e,250)),o.trigger("mouseover"),u=o.closest("li")}var c=i("#nav-primary"),s=c.find("ul.menu.primary"),l=c.find("section.menu.secondary"),d=s.find("a:visible"),u=null,f=null;s.ontab(i.defer(t)),l.ontab(i.defer(t)),d.on("keydown",function(e){var r=i(e.target),c=d.index(r),s=n(d,c),l=a(d,c),u=i.keyname(e);"left"==u?(e.preventDefault(),t(),r.attr("tabindex",-1),l.focus().attr("tabindex",0)):"right"==u?(e.preventDefault(),t(),r.attr("tabindex",-1),s.focus().attr("tabindex",0)):"down"==u&&(e.preventDefault(),o(this))}),l.on("keydown",function(e){var n=i.keyname(e);if("esc"==n){e.preventDefault(),e.stopPropagation();var a=u&&u.length&&i(u.get(0));t(),a&&a.focusable().first().focus()}}),l.on("keydown",function(e){if(f&&f.length){var t=i(e.target),r=i.keyname(e),o=f.focusable(),c=o.index(t),s=n(o,c),l=a(o,c);"up"==r?(e.preventDefault(),l.focus()):"down"==r&&(e.preventDefault(),s.focus())}})}var r=e.jQuery;i("html").is('[data-nav="load"]')?(i.waitFor("#nav-primary",a),i("#nav-primary").insertBefore(i("#nav-secondary"))):a()},{name:"global/mega-menu/keyboard",priority:"low",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){var a=i("#nav-primary .secondary.menu .offers-panel");a.each(function(e,t){function n(e){i(e).addClass("selected")}function a(e){i(e).removeClass("selected")}function r(e,t){return l.eq(t)}var o=i(t),c=o.find(".content"),s=c.find(".offernav span[data-item]"),l=c.find(".offers");c.fixTabs({tabSelector:".offernav span[data-item]",activeClass:"selected",inactiveClass:null,panelGetter:r,panelShow:n,panelHide:a}),s.each(function(e,t){var n=i(t),a=l.eq(e),r=a.find("img");r.rndid(),n.attr("aria-labelledby",r.attr("id"))})})},{name:"global/mega-menu/offers",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i("#nav-primary"),t=e.find("ul.menu.primary"),n=e.find("section.menu.secondary"),a=n.find("h6").rndid();a.each(function(){i(this).next("ul").attr("aria-labelledby",i(this).prop("id"))});var r=n.children("div[class]");e.role("navigation"),t.role("menu"),r.role("menu"),e.find("a").role("menuitem").attr("tabindex",-1);var o=t.find("a:visible");o.first().attr("tabindex",0),o.each(function(e,t){var n=r.get(e);if(n){var a=i(t),o=i(n);a.rndid(),o.rndid(),a.attr({"aria-haspopup":!0,"aria-controls":n.id,"aria-expanded":!1}),o.attr({"aria-hidden":!0,"aria-expanded":!1,"aria-labelledby":t.id})}}),r.find(".columns > div").each(function(e,t){var n=i(t),a=n.find("h3"),r=n.find("ul");a.length&&r.length&&(a.rndid(),r.role("group").find("li a").attr("aria-describedby",a.prop("id")))}),o.on("amaze:megamenu:open",function(){var e=i(this),t=o.index(e),n=r.eq(t);e.attr("aria-expanded",!0),n.attr({"aria-hidden":!1,"aria-expanded":!0})}),o.on("amaze:megamenu:close",function(){var e=i(this),t=o.index(e),n=r.eq(t);e.attr("aria-expanded",!1).attr("tabindex",0),n.attr({"aria-hidden":!0,"aria-expanded":!1})})}i("html").is('[data-nav="load"]')?i.waitFor("#nav-primary",a):a()},{name:"global/mega-menu/roles",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){function a(e){f=i(e.target),f.is("a")&&f.is("button")||(f=f.closest("a, button")),b.one("DOMNodeInserted",m,i.defer(function(e){var t=i(e.target),n=t.find("iframe.overlay");n.exists()?u(n):o(t),b.one("DOMNodeRemoved",m,r)},400))}function r(){b.modalAriaShow(),f&&f.exists()&&f.focus()}function o(e){b.modalAriaHide(e),b.trigger("amaze:modal:insertion");var t=i(e),n=t.find("button.close, a.close").buttonify();t.prop("tabindex",-1).focus(),t.is(":visible:focus")||i("#modal-inner-wrapper").prop("tabindex",-1).focus(),t.find("strong").attr("aria-level",2).role("heading"),t.on("keydown",s),n.on("click",r),i("iframe.overlay").exists()||t.ontab(c);var a=i.localeText("close-button-label"),o=t.find("header > button.close, header > a.close");o.attr("aria-label",a)}function c(e){var t=i(this);e.preventDefault();for(var n=t.focusable().filter(function(){return!i(this).is('[tabindex="-1"]')}),a=n.index(e.target),r=n.eq(a+1),o=a+1;o<n.length&&"-1"===r.attr("tabindex");o++)r=n.eq(o);var c=n.eq(a-1);for(o=a-1;o>=0&&"-1"===c.attr("tabindex");o--)c=n.eq(o);r.length||(r=n.first()),c.length||(c=n.last()),(e.shiftKey?c:r).focus()}function s(e){var t=i.keyname(e);"esc"==t&&(e.preventDefault(),i(this).find("button.close, a.close").fire("click"),r())}function l(){i(e).fixIframeModal({updateFocusables:!0})}function d(e){e.closest("body").toggleClass("amaze-focus-enabled",b.hasClass("amaze-focus-enabled"))}function u(e){e.load(i.defer(function(){var t=e.contents().find("#wrapper");d(t),o(t)},200))}var f,p=["a[data-modal]","[data-overlay]","a.qv.overlay","a.detail",".fab-input-checkbox",".openProductOverlay","a.editSizeTrigger",".product-mixer .productDetails a.productDetails","#impulseBanner #productContainer .overlay","a.orderDetailsLink","a.overlay","a.shippingRatesModalLink","a.edit-item"].join(","),m=[".modal-wrapper",".iframe-overlay-wrapper"].join(","),g=["#billingInfo","#shippingAddressForm","#registration"].join(","),h=i(p),b=i(t.body);h.on("click",a),l(),b.on("change","#country",function(){b.one("DOMNodeInserted",g,function(){setTimeout(function(){i("#country").focus(),l(),b.trigger("amaze:shipping:country:change")},100)})}),b.on("amaze:partial:refresh",function(){h=i(p),h.off("click").on("click",a)})},{name:"global/modal",priority:"default",regex:{include:new RegExp(".*","i"),exclude:new RegExp("\\/uam\\/pages\\/dummy|\\/uso\\/keepAlive","i")}}),amaze.injection(function(e,t,n,i){i("body").on("DOMNodeInserted",".iframe-overlay-wrapper",function(e){var t=i(e.target),n=t.find("iframe.overlay");n.load(function(){var e=n.contents().find("h1:first").text();n.attr("title",e)})})},{name:"global/modal/title",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+","i"),exclude:new RegExp("account","i")}}),amaze.injection(function(e,t,n,i){var a=i("#wrapper"),r=i("#nav-secondary");a.prepend(r).find("#content").role("main")},{name:"global/reading-order",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t="";t=i.localeText(e.length>1?"search-multiple-result":"search-single-result"),i.politeAnnouncement(e.length+t)}function r(e,t){var n=e.eq(t+1);return n.length||(n=e.first()),n}function o(e,t){var n=e.eq(t-1);return n.length||(n=e.last()),n}var c,s=e.jQuery,l=i("#search"),d=i('form[name="searchForm"]');d.on("DOMNodeInserted","div.autoCompleteSuggestions",function(){c=i("div.autoCompleteSuggestions");var e=i(this);e.find("ul").role("listbox").find("a").prop("tabindex",-1).role("option").prop("href","#"),a(e.find("li"))}),d.on("keydown",function(e){if(c&&c.length){var t=i(e.target),n=i.keyname(e),a=c.focusable(),d=a.index(t);if(c.find("li").removeClass("current"),"up"==n)e.preventDefault(),o(a,d).focus().parent().addClass("current");else if("down"==n)e.preventDefault(),r(a,d).focus().parent().addClass("current");else if("space"==n){if(!t.is("a"))return;e.preventDefault(),s(e.target).click()}else"esc"==n&&(c.remove(),l.focus())}})},{name:"global/search/autocomplete",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){var a=i("header form[name=searchForm]"),r=a.find("input.primary[type=submit]");
r.attr("value",i.localeText("search")).addClass("amaze-search-button")},{name:"global/search/button",priority:"default",css:"header form input.amaze-search-button{text-indent:-9999px}",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){var a=i("#search"),r=a.closest("form"),o=i('<label for="search">'+i.localeText("search")+"</label>").offscreen();r.append(o);var c=i("#nav-secondary");c.role("search");var s=c.find('input[type="search"]');s.attr("aria-label",s.attr("placeholder"))},{name:"global/search/input",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){var a=i('form[name="searchForm"]');a.find("fieldset").presentation()},{name:"global/search/remove-fieldset",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i("#content");e.find("nav > ul").length?(e.find("nav:nth-child(1)").attr("aria-label",i.localeText("search-results-top")),e.find("nav:nth-child(2)").attr("aria-label",i.localeText("search-results-bottom"))):e.find("nav:first").attr("aria-label",i.localeText("search-results-none")),i("#features").find("li").role("region").each(function(){var e=i(this),t=e.find("hgroup").rndid().prop("id");e.closest("li").attr("aria-labelledby",t),e.find("h3").presentation()})}i("html").is(".search")&&(i("html").is('[data-nav="load"]')?i.waitFor("#nav-primary",a):a())},{name:"global/search/results/list-items",priority:"default",css:".amaze-aside{margin:12px 0 10px;text-align:center;width:176px;display:block;padding:0;border:0;vertical-align:baseline;color:#666;cursor:pointer;zoom:1;list-style:none}.amaze-aside h3{font-weight:400;margin-bottom:0;color:#000;text-transform:uppercase;font-size:14px;line-height:17px;font-style:normal;font-family:VictoriaOne,'Times New Roman',Times,serif}",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=i(e.target),n=t.find('iframe[src*="/account/signin/overlay"]');n.exists()&&n.attr("title",i.localeText("sign-in"))}i("body").on("DOMNodeInserted",".iframe-overlay-wrapper",i.defer(a))},{name:"global/sign-in/iframe-title",priority:"default",regex:{include:new RegExp(".","i")}}),amaze.injection(function(e,t,n,i){function a(){if(!e.frameElement){var n=i("#content, #rn_content").first();if(n.exists()){var a='<a href="#" class="amaze-main-skip-link">'+i.localeText("skip-to-main-content")+"</a>",r=i(a);i(t.body).children().first().before(r),i(".amaze-main-skip-link").on("click",function(e){e.preventDefault();var t=n.find(':header:visible, [role="heading"]:visible').first();t.exists()&&(n=t),n.prop("tabindex",-1).focus()})}}}i("html").is('[data-nav="load"]')?i.waitFor("#nav-primary",a):a(),i("body").on("amaze:skip-link:refresh",i.defer(function(){var e=i("#content, #rn_content").first(),t=e.find(':header:visible, [role="heading"]:visible').first();t.exists()||(t=e),t.prop("tabIndex",-1),i(".amaze-main-skip-link").off("click").on("click",function(e){e.preventDefault(),t.focus()})},300))},{name:"global/skip-link",priority:"low",css:".amaze-main-skip-link{background-color:#fff;position:absolute;text-align:center;clip:rect(1px 1px 1px 1px);font-family:VictoriaOne,'Times New Roman',Times,serif;color:#000!important;padding:5px}.amaze-main-skip-link:focus{clip:auto;z-index:9999}",regex:{include:new RegExp(".*","i"),exclude:new RegExp("\\/uam\\/pages\\/dummy|\\/uso\\/keepAlive|c\\.comenity\\.net","i")}}),amaze.injection(function(e,t,n,i){function a(e,t){t=t||75;var n;return function(){var i=this,a=[].slice.call(arguments);clearTimeout(n),n=setTimeout(function(){e.apply(i,a)},t)}}i.throttle=a},{name:"global/throttle",priority:"high",regex:{include:new RegExp(".","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i("<span />"),t=i("label.info-tooltip");e.prop("tabindex",0).role("link").addClass("amaze-tooltip-icon-border").attr("aria-label",i.localeText("help")).on("focus",r).on("blur",o).appendTo(t),t.find("em.fab-ico--info").exists()&&t.find("a").appendTo(e)}function r(e){var t=i(e.target);t.fire("mouseover"),"true"!==t.attr("data-amaze-associated")&&setTimeout(function(){var e=i(".info-tooltip-display").filter(":visible").first();e.exists()&&t.noClobber("aria-describedby",e).attr("data-amaze-associated","true")})}function o(e){i(e.target).fire("mouseout")}a(),i("body").on("amaze:edit:billing-address:country:change",i.defer(a))},{name:"global/tooltips",priority:"default",css:".amaze-tooltip-icon-border,.amaze-tooltip-icon-border em{display:inline-block!important}body.amaze-focus-enabled span.amaze-tooltip-icon-border:focus{box-shadow:none!important}body.amaze-focus-enabled span.amaze-tooltip-icon-border:focus em{box-shadow:0 0 0 2px #D91560!important}",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i("header ul ul.dropDown"),t=e.find("a"),n=i("#helpOptions, #accountOptions, #angelCardOptions");t.on("keydown",o),n.on("amaze:submenu:focus",s),n.on("keydown",r)}function r(e){var t=i.keyname(e),n=i(e.target).closest("div.dropDownList"),a=n.focusable(),r=a.index(e.target),o=a.eq(r+1),c=a.eq(r-1),s=i('[data-list-id="'+n.prop("id")+'"]'),l=s.closest("li"),d=l.prev("li").find("a:first"),u=l.next("li").find("a:first");switch(o.length||(o=a.first()),c.length||(c=a.last()),t){case"tab":e.preventDefault();var f=e.shiftKey?d:u;n.hide(),s.removeClass("toggleListOpen"),l.find("a").attr("aria-expanded",!1),f.focus();break;case"left":case"down":e.preventDefault(),o.focus();break;case"right":case"up":e.preventDefault(),c.focus();break;case"esc":e.preventDefault(),n.hide(),l.find("a:first").focus()}}function o(e){var t=i.keyname(e),n=i(e.target),a=n.closest("ul.dropDown").data("listId");("down"==t||"enter"==t||"space"==t)&&(e.preventDefault(),c(e),n.attr("aria-expanded",!0),setTimeout(function(){i("#"+a).trigger("amaze:submenu:focus")},100))}function c(e){i(e.target).fire("mouseover")}function s(e){return i(e.target).focusable().first().focus()}i("html").is('[data-nav="load"]')?i.waitFor("#nav-primary",a):a()},{name:"global/top-nav/help/keyboard",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){var a=i("header>section>nav"),r=a.find("ul.dropDown"),o=a.find(">ul");o.role("menu").find(">li").presentation().find(">a").role("menuitem"),r.find("h3").role("presentation").find("a").attr("aria-haspopup",!0);var c=i("div.dropdown.toggleList ul");c.role("menu").find("li").role("presentation").find("a, span").role("menuitem"),i('header ul ul[data-list-id="accountOptions"]').find("a").attr({"aria-expanded":!1,"aria-label":i.localeText("account"),"aria-controls":i("#accountOptions").prop("id")}),i('header ul ul[data-list-id="helpOptions"]').find("a").attr({"aria-expanded":!1,"aria-controls":i("#helpOptions").prop("id")}),i("#lovelist").removeAttr("title").append(i.offscreen().text(i.localeText("items"))).find("strong").first().addClass("amaze-offscreen"),i("#bag").removeAttr("title").prepend(i.offscreen().text(i.localeText("shopping-bag"))).append(i.offscreen().text(i.localeText("items"))),c.find("span").removeAttr("tabindex")},{name:"global/top-nav/help/roles",priority:"low",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i('html[data-nav="load"]');return e.exists()}i.waitFor=function(e,t){a()&&(i(e).exists()?"function"==typeof t&&t():setTimeout(function(){i.waitFor(e)},150))}},{name:"global/wait-for-element",priority:"high",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){var a=i("section.carousel-product-rec");a.find('li[data-type="product"]').each(function(){var e=i(this);e.find("> a").eq(1).addClass("amaze-inset").css("display","block")});var a=i("#productContainer");a.find("a.overlay").each(function(){i(this).addClass("amaze-inset amaze-image-border").css("display","block").parent().addClass("amaze-image-holder")})},{name:"global/youll-also-love",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){var a=i(".offers"),r=a.find("h4");r.each(function(e,t){var n=i(t);n.replaceWith(i("<span>").html(n.html()).addClass("amaze-was-h4"))})},{name:"homepage/headings",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=i(e.target),n=t.closest("div.controls"),a=!1;n.one("transitionend webkitTransitionEnd oTransitionEnd",function(){if(!a){var e=n.find("div.offerAlert").text();i.politeAnnouncement(e),r(t.closest("a"))}a=!0})}function r(e){e.hasClass("selected")?e.attr("aria-labelledby",s.prop("id")):e.attr("aria-labelledby",c.prop("id")),e.noClobber("aria-labelledby",e)}var o=i("ul.offers");if(o.exists()){var c=i.offscreen("span").text(i.localeText("add-offer-code")).rndid(),s=i.offscreen("span").text(i.localeText("remove-offer-code")).rndid();i("body").append(c).append(s),o.find("div.codes > a.check").each(function(){var e=i(this);e.buttonify().on("click",a);var t=e.closest(".codes").next(".button");t.attr("aria-haspopup",!0),r(e)})}},{name:"homepage/offer-codes",priority:"default",regex:{include:new RegExp(".*","i"),exclude:new RegExp("\\/contact-info|\\/account\\/updateBillingInfo","i")}}),amaze.injection(function(e,t,n,i){function a(){function e(){$(t).undelegate("body .modal-wrapper","keydown"),n||(r(o),n=!0)}var n=!1,a=i("body"),o=i(this);a.on("DOMNodeInserted","div.modal-wrapper",e),a.on("DOMNodeRemoved","div.modal-wrapper",function(){a.off("DOMNodeInserted",".modal-wrapper",e),n=!1})}function r(e){var t=i("div#modal-inner-wrapper"),n=t.find("button.primary.close"),a=t.find("h1");a.exists()&&(a.attr("tabindex","0"),a.focus()),n.on("click",function(){e.focus()}),t.on("keydown",function(e){var a=e.which;27===a&&n.click();var r=t.focusable().first(),o=t.focusable().last(),c=i(e.target);if(c.is(r)){if(9===a&&e.shiftKey)return o.focus(),e.preventDefault(),!1}else if(c.is(o)&&9===a&&!e.shiftKey)return r.focus(),e.preventDefault(),!1})}var o=i("div.controls>a.button");o.on("click",a)},{name:"homepage/pink/modals",priority:"default",regex:{include:new RegExp("pink","i")}}),amaze.injection(function(e,t,n,i){var a=i("ul.group-row>li");a.each(function(e,t){var n=i(t),a=n.find("div[id='"+n.attr("id")+"']");a.exists()&&a.attr("id",a.attr("id")+"div")})},{name:"homepage/pink/uniqueids",priority:"default",regex:{include:new RegExp("pink","i")}}),amaze.injection(function(){},{name:"homepage/pink/visiblefocus",priority:"default",css:"html.pink #offer-spotlight .wrapper>ul>li .controls>.button:focus{background:#ff7cb0}",regex:{include:new RegExp("pink","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i("#pn-header"),t=e.find("div.pn-nav").hide(),n=i("a.nav-arrow").buttonify();e.onAttributeChange("class",function(e){var a=i(e).hasClass("open");t.toggle(a),n.attr("aria-expanded",a)})}i("html").is(".pink")&&(i(t.body).on("amaze:focus:active",function(){i("div.feature-row.activated").removeClass("amaze-image-holder").css({"z-index":0,display:"flex"})}),i.waitFor("#content",a()))},{name:"join-pink-nation/dropdown",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){function a(){i("#fb_register").attr("title",i.localeText("facebook-register"))}i.waitFor("#nav-primary",a)},{name:"join-pink-nation/facebook-register",priority:"default",regex:{include:new RegExp("\\/(uam|m)\\/pages\\/","i")}}),amaze.injection(function(e,t,n,i){function a(){i("#pink_login_hidden").attr("tabindex","-1"),i("input[type=checkbox]").on("focus blur",function(e){i(this).closest(".checker").toggleClass("amaze-pink-focused","focus"===e.type)}),i(".chosen-drop input[type=text]").on("focus blur",function(e){i(this).closest(".chosen-container").toggleClass("amaze-pink-focused","focus"===e.type)})}i.waitFor("#nav-primary",a)},{name:"join-pink-nation/focus",priority:"default",regex:{include:new RegExp("\\/(uam|m)\\/pages\\/","i")}}),amaze.injection(function(e,t,n,i){function a(){i(".submit_button").buttonify(),i("#captcha_image").attr("alt",i.localeText("captcha")),i('input[type="text"][placeholder], input[type="password"]').attr("aria-label",function(){return i(this).attr("placeholder")}),i("#pwd").noClobber("aria-describedby",i(".terms.password")),i(".chosen-search input").role("listbox").on("focus keydown",i.defer(function(){var e=i(this),t=e.parent().next("ul.chosen-results");e.attr("aria-owns",function(){var e=t.find("li").role("option").rndid();return e.map(function(){return this.id}).get().join(" ")}),e.attr("aria-expanded",t.parent().hasClass("chosen-with-drop"));var n=t.find(".highlighted");n.exists()&&e.attr("aria-activedescendant",n.attr("id"))})),i("input:not([placeholder])").attr("aria-label",function(){return i(this).closest(".chosen-drop").prev("a").text()}),i(".pstrength-info").closest(".field").attr({role:"status","aria-live":"polite","aria-atomic":"true"}).children().first().before(i.offscreen().text(i.localeText("password-strength")));var e=i('label[for="smsOptInPink"]'),t=e.closest(".field").find('input[type="checkbox"]'),n=t.prop("id");n&&e.attr("for",n),i("#captchaset").find("span b").wrap('<label class="amaze-captcha-label" for="answer"></label>'),i("[required]").attr("aria-required","true")}i.waitFor("#nav-primary",a)},{name:"join-pink-nation/form",priority:"default",css:".amaze-captcha-label{padding-left:0!important}",regex:{include:new RegExp("\\/(uam|m)\\/pages\\/","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i.offscreen(),t="<h2>"+i.localeText("membership-benefits")+"</h2>",n=["ongoing-offers","sneak-peak","a-list-access","pics-and-flicks"];t+="<ul>",i.each(n,function(e,n){t+="<li>"+i.localeText(n)+"</li>"}),t+="</ul>",e.append(t),i("#member_benefits").append(e)}i.waitFor("#nav-primary",a)},{name:"join-pink-nation/member-benefits",priority:"default",regex:{include:new RegExp("\\/(uam|m)\\/pages\\/","i")}}),amaze.injection(function(e,t,n,i){function a(){i("#submit_button_create").on("click",r)}function r(){c(),i(s).each(function(e){var t=i(this).rndid(),n=t.closest(".field").find("input,select").first();n.attr("aria-invalid","true"),0===e&&n.focus()}),i('[aria-invalid="true"]').each(function(){i(this).on("focus",o)})}function o(e){var t=i(e.target),n=t.closest(".field").find(s);i.politeAnnouncement(n.text())}function c(){i("#registrationForm").find("input,select").each(function(){this.removeAttribute("aria-invalid")})}i.waitFor("#nav-primary",a);var s=".bvalidator_errmsg"},{name:"join-pink-nation/validation",priority:"default",regex:{include:new RegExp("\\/(uam|m)\\/pages\\/","i")}}),amaze.injection(function(e,t,n,i){i.pageTitle(i(":header:first").text());var a=i('div[id^="rn_ChatPostMessage_"]'),r=a.find("textarea"),o=a.find("div").eq(0);o.rndid(),r.attr("aria-labelledby",o.prop("id"))},{name:"live-chat",priority:"default",regex:{include:new RegExp("\\/liveChat_cs_footer|\\/app\\/chat\\/chat_landing\\/c\\/193","i")}}),amaze.injection(function(e,t,n,i){i("body").on("DOMNodeInserted DOMNodeRemoved","#loveListView",function(){var e=i("#loveListView");e.children(".amaze-offscreen").exists()||(e.prepend(i.offscreen("span").text(i.localeText("love-list"))),e.noClobber("aria-labelledby",e.children().first()))});var a=i("#listView div.accountAuth").find("[tabindex]");a.exists()&&(a.first().focus(),a.each(function(e,t){var n=i(t);n.prop("tabIndex")>0&&n.removeAttr("tabindex")}))},{name:"lovelist",priority:"high",regex:{include:new RegExp("\\/lovelist\\/view","i")}}),amaze.injection(function(e,t,n,i){function a(){i(".edit-item").first().hasClass("amazed")||(i(".edit-item").productNamify().keyboardify().addClass("amazed"),i(".addToBag").productNamify().keyboardify().addClass("amazed"))}i("body").on("DOMNodeInserted",a),a()},{name:"lovelist/buttons",priority:"default",regex:{include:new RegExp("lovelist\\/view","i")}}),amaze.injection(function(e,t,n,i){function a(){i("input.error").attr("aria-invalid",!0).first().focus(),i.assertiveAnnouncement(i(".error-msg p").text())}i("#listView div.accountAuth form").on("submit",i.defer(a))},{name:"lovelist/errors",priority:"default",regex:{include:new RegExp("\\/lovelist\\/view","i")}}),amaze.injection(function(e,t,n,i){function a(e){return i(e).role("link").attr("tabindex",0).keyboardify()}function r(){a(".textLinks a"),a(".navIcons a").each(function(){var e=i(this);if(!e.children().length)if("L"===e.attr("data-view-type")){var t=i.offscreen("span").text(i.localeText("list-icon-desc"));e.append(t)}else if("G"===e.attr("data-view-type")){var n=i.offscreen("span").text(i.localeText("grid-icon-desc"));e.append(n)}})}i("body").on("DOMNodeInserted",".navIcons",r),r()},{name:"lovelist/links",priority:"default",regex:{include:new RegExp("\\/lovelist\\/view","i")}}),amaze.injection(function(e,t,n,i){function a(){r()}function r(){i("a.openProductOverlay img").each(function(e,t){var n=i(t),a=n.closest("li"),r=a.find("aside").text();n.productNamify().removeAttr("title"),n.attr("alt",r),n.closest("a").buttonify().role("link").off("keydown").keyboardify();var o=n.closest(".imageWrapper");a.children().first().get(0)!==o.get(0)&&o.after(o.siblings("a").first())})}var o=e.MutationObserver||e.WebKitMutationObserver||e.MozMutationObserver,c=o&&new o(a),s=i("#content");c?c.observe(s.get(0),{attributes:!1,subtree:!0,childList:!0,attributeOldValue:!1}):s.on("DOMNodeInserted DOMNodeRemoved",a),r()},{name:"lovelist/product-links",priority:"default",css:"a.openProductOverlay:focus img{outline:inherit}",regex:{include:new RegExp("\\/lovelist\\/view","i")}}),amaze.injection(function(e,t,n,i){i(".shareListLink").on("click",i.defer(function(){i("#shareList .social a").each(function(){var e=i(this);e.attr("aria-label",e.attr("title")).role("link").prop("tabIndex",0).removeAttr("title"),"#"==e.attr("href")&&e.removeAttr("href")}),i("#shareList input#clipBoardText").attr("aria-label",i.localeText("copy-link-help")),i("#shareList .closeNavView").noClobber("aria-describedby",i("#shareList h3")).attr("aria-label",i.localeText("close-button-label")).on("click",function(){i(".shareListLink").focus()}).focus(),i("#shareList .copyLink").buttonify().on("focus",function(e){i(e.target).fire("mouseover")}),i("#shareList").on("keydown",function(e){27==e.keyCode&&(e.preventDefault(),e.stopPropagation(),i(".closeNavView").click())})}))},{name:"lovelist/sharelist",priority:"default",regex:{include:new RegExp("\\/lovelist\\/view","i")}}),amaze.injection(function(e,t,n,i){function a(){i(".share").attr("aria-describedby")||i(".share").productNamify().keyboardify()}a(),i("body").on("DOMNodeInserted DOMNodeRemoved",a)},{name:"lovelist/sharers",priority:"default",regex:{include:new RegExp("lovelist\\/view","i")}}),amaze.injection(function(e,t,n,i){i("table.order-status").find("table, hr").presentation()},{name:"oder-summary/data-table/presentation",priority:"default",regex:{include:new RegExp("\\/account\\/ordersummary","i")}}),amaze.injection(function(e,t,n,i){i("div.item").each(function(){var e=i(this),t=e.find("div.price"),n=[];n.push(t.find("span.total").rndid().prop("id")),n.push(t.find("span.each").rndid().prop("id")),e.find("h1:first").noClobber("aria-describedby",n.join(" "))})},{name:"oder-summary/data-table/reading-order",priority:"default",regex:{include:new RegExp("\\/account\\/ordersummary","i")}}),amaze.injection(function(e,t,n,i){var a=i("<caption />"),r=i("table.order-status"),o=r.siblings("h2").text();r.find("thead").before(a.append(i.offscreen().text(o)))},{name:"order-status/data-table",priority:"default",regex:{include:new RegExp("\\/account\\/profile","i")}}),amaze.injection(function(e,t,n,i){var a=i("#accountLogonForm"),r=["#useremail","a.overlay.forgotPass","#userpassword",'button[type="submit"]'].join(",");a.find(r).removeAttr("tabindex")},{name:"order-status/form",priority:"default",regex:{include:new RegExp("\\/account\\/orderstatus","i")}}),amaze.injection(function(e,t,n,i){for(var a=i("#content").find("div.orderStatus"),r=a[0].classList,o=[],c=0;c<r.length;c++)o.push(r[c]);o.splice(o.indexOf("orderStatus"),1);var s=a.find("span").filter("."+o[0]);i.offscreen("span").text(i.localeText("current-status")).insertBefore(s)},{name:"order-status/shipping-status/modal",priority:"default",regex:{include:new RegExp("\\/account\\/orderOverlay","i")}}),amaze.injection(function(e,t,n,i){function a(e){c=i(e.target).fire("mouseover")}function r(e){c=i(e.target).fire("mouseout")}function o(e){c=i(e.target)}var c,s=i("span.info-tooltip");i("body").on("DOMNodeInserted","div.info-tooltip-display",function(e){var t=i(e.target).role("tooltip").attr("aria-hidden",!0);setTimeout(function(){c.noClobber("aria-describedby",t)})});var l=i("<span />").addClass("amaze-tooltip-icon-border");s.each(function(){var e=i(this),t=l.clone();e.append(t),t.prop("tabindex",0).role("link").on("focus",a).on("blur",r).on("mouseover",o)})},{name:"order-status/tooltip",priority:"default",css:".amaze-tooltip-icon-border{height:20px;width:20px;position:absolute;right:0;top:-7px}",regex:{include:new RegExp("\\/account\\/orderhistory","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=i(e.target).rndid(),n=t.closest("form");r(n),setTimeout(function(){var e=n.find("input.error");e.attr("aria-invalid","true").noClobber("aria-describedby",t.prop("id")).first().focus()},0)}function r(e){e.find("input").removeAttr("aria-invalid")}i(t.body).on("DOMNodeInserted",".form-error-msg",a)},{name:"order-status/validation",priority:"default",regex:{include:new RegExp("\\/account\\/orderstatus","i")}}),amaze.injection(function(e,t,n,i){i("div.item > span > a").prop("tabindex",-1)},{name:"order-summary/duplicate-links",priority:"default",regex:{include:new RegExp("\\/account\\/ordersummary","i")}}),amaze.injection(function(e,t,n,i){i("#nav-secondary").find('a[name="LEFT NAVIGATION"]:first').wrap("<h2 />").append(i.offscreen("span").text(i.localeText("customer-service"))).end().find("img:first").presentation(),i("tbody.order-items").find("div.item > section h1").attr("aria-level",2)},{name:"order-summary/headings",priority:"default",regex:{include:new RegExp("\\/account\\/[a-z]+","i")}}),amaze.injection(function(e,t,n,i){i("#content img").presentation()},{name:"pagenolongeravailable/img-alt",priority:"default",regex:{include:new RegExp("\\/pagenolongeravailable","i")}}),amaze.injection(function(e,t,n,i){function a(){i('a[data-cm="nav-im-ready"]').buttonify()}function r(e){setTimeout(function(){e.hasClass("fitguide-nav-button-enabled")?e.attr("aria-disabled",!1):e.attr("aria-disabled",!0)},0)}i("a.primaryBtn").buttonify(),a(),i("body").on("DOMNodeInserted","div.fit-guide-page",function(){var e=i(this);if(e.hasClass("fit-guide-start-page")&&a(),e.attr("class").match(/bra-size|regular-question/)){var t=i("#nextButtonLink"),n=i("#prevButtonLink");r(t),t.text().length||n.text().length||(t.append(i.offscreen("span").text(i.localeText("next-button"))),n.append(i.offscreen("span").text(i.localeText("previous-button")))),n.find("img").presentation(),t.find("img").presentation(),n.buttonify(),t.buttonify(),i("div.option").on("click",function(){r(t)})}})},{name:"perfect-fit/button",priority:"default",regex:{include:new RegExp("\\/find-your-perfect-fit","i")}}),amaze.injection(function(e,t,n,i){function a(){i(o).prop("tabindex",-1).focus()}var r=i("body"),o=["img.perfect-fit-title","img.perfect-size-title","div.page-header"].join(",");a(),r.on("DOMNodeInserted","div.fit-guide-page",a)},{name:"perfect-fit/focus",priority:"default",regex:{include:new RegExp("\\/bras\\/find-your-perfect-fit","i")}}),amaze.injection(function(e,t,n,i){function a(){i("div.bra-experience-header").each(function(){i(this).find("a:first > img").prop("alt",i.localeText("the-angel-bra-guide"))})}function r(e){var t=i(e.target);t.find("h2").attr({role:"heading","aria-level":1}),t.find("h3").attr({role:"heading","aria-level":2}),t.find("h4").attr({role:"heading","aria-level":3})}function o(){var e=i(l);e.find("img.perfect-fit-title, img.perfect-size-title").attr({role:"heading","aria-level":1}),i("#livechat").prop("tabindex",0)}var c=i("body"),s=i("div.fit-guide-page"),l="div.fit-guide-page.size-recommendation";s.hasClass("size-recommendation")&&o(),a(),c.on("DOMNodeInserted","div.standard-nav, div.sticky-nav",a),c.on("DOMNodeInserted","div.fit-guide-page.regular-question",r).on("DOMNodeInserted",l,o)},{name:"perfect-fit/header",priority:"default",css:"div.bra-experience-header a:focus{box-shadow:inset 0 0 0 2px #D91560!important}",regex:{include:new RegExp("\\/bras\\/find-your-perfect-fit","i")}}),amaze.injection(function(e,t,n,i){i("img.dot").presentation(),i("body").on("DOMNodeInserted","div.fit-guide-page.regular-question",function(){i("img.option-img").presentation().removeAttr("tabindex"),i("img.dot").presentation()})},{name:"perfect-fit/images",priority:"default",regex:{include:new RegExp("\\/bras\\/find-your-perfect-fit","i")}}),amaze.injection(function(e,t,n,i){i("div.fit-guide-page > img.title").prop("alt",i.localeText("find-your-perfect-fit")).role("heading").attr("aria-level","1"),i("body").on("DOMNodeInserted","div.fit-guide-page",function(){var e=i("div.fit-guide-page.fit-guide-start-page"),t=i("div.fit-guide-page.size-recommendation");e.exists()&&e.find("img.title").prop("alt",i.localeText("find-your-perfect-fit")).role("heading").attr("aria-level","1"),t.exists()&&(t.find("img.perfect-fit-title").prop("alt",i.localeText("your-perfect-fit")),t.find("img.perfect-size-title").prop("alt",i.localeText("you-have-a-perfect-fit")))})},{name:"perfect-fit/img-alt",priority:"default",regex:{include:new RegExp("\\/bras\\/find-your-perfect-fit","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i("div.bra-experience-header.standard-nav > div > a:first > img"),t=i("div.progress-bar"),n=t.find("#progress"),a=Math.round(100*n.width()/t.width()),r=i.offscreen("span").text(a+" "+i.localeText("percent"));t.role("progressbar").prop("tabIndex",0).attr({"aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":100,"aria-readonly":!0}).noClobber("aria-labelledby",e),t.find("span.amaze-offscreen").length>0||t.append(r)}a(),i("body").on("DOMNodeInserted",".fit-guide-page",a)},{name:"perfect-fit/progress-bar",priority:"default",regex:{include:new RegExp("\\/find-your-perfect-fit","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=e.find("div.question h3:first");if(t.focus(),e.hasClass("bra-size")){var n=e.find("div.band-options"),a=n.find("h4:first"),o=e.find("div.cup-options"),c=o.find("h4:first");a.attr("aria-hidden",!0),c.attr("aria-hidden",!0),n.fixRadioGroup({selector:"div.option",parentSelector:"div.options",selectedClass:"option-selected"}),r(n,t,a),o.fixRadioGroup({selector:"div.option",parentSelector:"div.options",selectedClass:"option-selected"}),r(o,t,c)}else if(e.hasClass("regular-question")){var s=e.find("ul:first"),l=i("li.optionHeader"),d=i("div.option");s.fixRadioGroup({role:"radio",selector:"li.optionHeader",parentSelector:"ul",selectedClass:"option-selected"}),s.noClobber("aria-labelledby",t.prop("id")),i.each(l,function(e,t){var n=i(d[e]).find("span");i(t).noClobber("aria-describedby",n)})}}function r(e,t,n){e.find("div.option").each(function(){var e=i(this);e.noClobber("aria-labelledby",t).noClobber("aria-labelledby",n)})}var o=i("div.fit-guide-page");a(o),i("body").on("DOMNodeInserted","div.fit-guide-page",function(){var e=i(this);a(e)})},{name:"perfect-fit/radio-group",priority:"default",regex:{include:new RegExp("\\/pink\\/bras\\/find-your-perfect-fit","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=e.find("div.question h3").rndid().prop("id");if(e.hasClass("bra-size")){i("body").trigger("amaze:partial:refresh"),i("div.option p").rndid();var n=e.find("div.band-options"),a=e.find("div.band-options h4").rndid().prop("id"),c=e.find("div.cup-options"),s=e.find("div.cup-options h4").rndid().prop("id");n.fixRadioGroup({selector:"div.option",parentSelector:"div.options",selectedClass:"option-selected"}),r(n,t,a),c.fixRadioGroup({selector:"div.option",parentSelector:"div.options",selectedClass:"option-selected"}),r(c,t,s)}else if(e.hasClass("regular-question")){var l=e.find("div.options");l.fixRadioGroup({role:"radio",selector:"div.option",parentSelector:"div.options",selectedClass:"option-selected"}),l.find("div.option").each(function(){var e=i(this),t=e.find("div.default-text"),n=e.find("div.extra-text");e.noClobber("aria-describedby",t),e.noClobber("aria-describedby",n)}),o(l,"h4",t)}}function r(e,t,n){e.find("div.option").each(function(e,a){var r=i(a);r.noClobber("aria-labelledby",t).noClobber("aria-labelledby",n).noClobber("aria-labelledby",r.find("p").prop("id"))})}function o(e,t,n){e.find(t).each(function(e,t){var a=i(t),r=a.rndid().prop("id");a.closest("div.option").noClobber("aria-labelledby",n).noClobber("aria-labelledby",r)})}var c=i("div.fit-guide-page");a(c),i("body").on("DOMNodeInserted","div.fit-guide-page",function(){var e=i(this);a(e)})},{name:"perfect-fit/radio-group",priority:"default",regex:{include:new RegExp("\\/find-your-perfect-fit","i"),exclude:new RegExp("\\/pink\\/","i")}}),amaze.injection(function(e,t,n,i){i("div.schools div.touts").detach().appendTo(i("div.schools"))},{name:"pink/campus-rep/focus-order",priority:"default",regex:{include:new RegExp("\\/apps\\/campusRep","i")}}),amaze.injection(function(e,t,n,i){i('img[src*="laurel"], img[src*="heart"], ol.schools img').presentation()},{name:"pink/campus-rep/images",priority:"default",regex:{include:new RegExp("\\/apps\\/campusRep","i")}}),amaze.injection(function(e,t,n,i){i(".school-filters ul.filters").fixRadioGroup({selector:"li",parentSelector:"ul.filters",selectedClass:"active"})},{name:"pink/campus-rep/keyboard",priority:"default",regex:{include:new RegExp("\\/apps\\/campusRep","i")}}),amaze.injection(function(e,t,n,i){i(".new-rep a").each(function(){var e=i(this);e.noClobber("aria-describedby",e.next(".new"))})},{name:"pink/campus-rep/new",priority:"default",regex:{include:new RegExp("\\/apps\\/campusRep","i")}}),amaze.injection(function(e,t,n,i){var a=i("p.follow");i("ul.social li").each(function(){var e=i(this).find("a"),t=i.localeText(this.className);t&&(e.append(i.offscreen().text(t)),e.noClobber("aria-labelledby",a),e.noClobber("aria-labelledby",e))})},{name:"pink/campus-rep/social",priority:"default",regex:{include:new RegExp("\\/apps\\/campusRep\\/viewRep","i")}}),amaze.injection(function(){},{name:"pink/college-and-pro-apparel",priority:"default",css:"body.amaze-focus-enabled a.dsfw.f570x743:focus span{box-shadow:0 0 0 2px #D91560!important;outline:0!important}",regex:{include:new RegExp("\\/pink\\/college-and-pro-apparel","i")}}),amaze.injection(function(e,t,n,i){i("h1:empty, h2:empty, h3:empty, h4:empty, h5:empty").presentation(),i("#main").prepend(i.offscreen("h1").text(i.localeText("college-and-pro-apparel")))},{name:"pink/college-and-pro-apparel/headings",priority:"default",regex:{include:new RegExp("\\/pink\\/college-and-pro-apparel","i")}}),amaze.injection(function(e,t,n,i){var a=i.offscreen().text(i.localeText("dont-see-the-bra-you-want"));i(t.body).append(a),i("#main > div > div > span > img.ftr").first().attr({"aria-level":"2",role:"heading",alt:i.localeText("explore-our-styles")}).noClobber("aria-describedby",a)},{name:"pink/explore-our-styles/headings",priority:"default",regex:{include:new RegExp("\\/pink\\/bras\\/explore-our-styles","i")}}),amaze.injection(function(e,t,n,i){function a(e,t){return i.offscreen(e).text(i.localeText(t))}function r(e,t,n){e.before(t,n).noClobber("aria-labelledby",t).noClobber("aria-describedby",n)}var o=i("a.l3:first"),c=i("a.l4:first"),s=i('a[name="FEATURE1"].dsf'),l=i('a[name="FEATURE2"].dsf'),d=a("h2","fit-quiz-header"),u=a("p","fit-quiz-desc"),f=a("h2","boutique-header"),p=a("p","boutique-desc"),m=a("h2","explore-header"),g=a("p","explore-desc"),h=a("h2","fit-question-header"),b=a("p","fit-question-desc");r(o,d,u),r(c,f,p),r(s,m,g),r(l,h,b)},{name:"pink/explore-our-styles/links",priority:"default",regex:{include:new RegExp("\\/pink\\/bras\\/explore-the-guide","i")}}),amaze.injection(function(e,t,n,i){i("ul.row, ul.row>li, ul.group-row, ul.slidesContainer, li.show").presentation()
},{name:"pink/explore-our-styles/lists",priority:"default",regex:{include:new RegExp("\\/pink\\/[a-z-]+\\/(explore)+[a-z-]?","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i(".slidesContainer li.show .map");e.each(r)}function r(e,t){var n=i(t);n.find("a.hover-layer").buttonify().one("click",function(){var t=this,n=i(t),a=n.closest(".map").find("a.hover-layer"),c=i.inArray(t,a);o.one("DOMNodeInserted",function(t){var n=i(t.target);r(e,n.find(".map")),n.find("a.hover-layer").eq(c).focus()})}).each(function(e,t){var n=i(t),a=n.attr("title"),r=i.offscreen("span").text(a);n.removeAttr("title").append(r)})}var o=i("body");a()},{name:"pink/explore-our-styles/tabs",priority:"default",regex:{include:new RegExp("\\/pink\\/bras\\/explore-our-styles","i")}}),amaze.injection(function(e,t,n,i){var a=["fit-quiz","boutique","explore-header"],r=i("<div></div>");r.role("list"),i("a.l0:first, a.l1:first, a.l2:first").wrapAll(r).each(function(e,t){var n=i(t),r=i("<span></span>").role("listitem");n.attr("aria-label",i.localeText(a[e])).wrap(r)})},{name:"pink/explore-the-guide/lists",priority:"default",regex:{include:new RegExp("pink\\/bras\\/explore-the-guide","i")}}),amaze.injection(function(e,t,n,i){var a=i("div.carousel"),r=a.find("a.icon-arrow-left").buttonify(),o=a.find("a.icon-arrow-right").buttonify();o.append(i.offscreen("span").text(i.localeText("next-button"))),r.append(i.offscreen("span").text(i.localeText("previous-button")))},{name:"pink/explore-the-guide/slider",priority:"default",regex:{include:new RegExp("pink\\/bras\\/explore-the-guide","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=c.find(".requirement-error:first");e.focus()}function r(){var e=c.find(".requirement-error");e.attr("aria-invalid",!0)}function o(){c.find("[aria-invalid]").removeAttr("aria-invalid")}var c=i("form.how-to-measure-form");c.exists()&&(c.on("DOMNodeInserted",".ui-alert",function(e){var t=i(e.target),n=c.find(".requirement-error");n.noClobber("aria-describedby",t)}),c.on("DOMNodeRemoved",".ui-alert",function(e){var t=c.find(".requirement-error[aria-describedby]"),n=e.target.id;t.each(function(e,t){var a=i(t),r=a.attr("aria-describedby").split(/\s+/),o=r.indexOf(n);~o&&(r.slice(o,1),a.attr("aria-describedby",r.join(" ")))})}),c.on("submit",function(){o(),setTimeout(r,100),setTimeout(a,100)}))},{name:"pink/how-to-measure/errors",priority:"default",regex:{include:new RegExp("\\/how-to-measure-(bras|overlay)","i")}}),amaze.injection(function(e,t,n,i){function a(){r.find(".requirement-error").exists()||o.prop("tabindex",-1).focus()}var r=i("form.how-to-measure-form"),o=i("div.angelfit-result"),c=i("a.shop-your-size");r.exists()&&(r.append(o),o.after(c),r.on("submit",i.defer(a)),i(".clear-calculator").on("click",function(){i("input.band-size").focus()}))},{name:"pink/how-to-measure/form",priority:"default",regex:{include:new RegExp("\\/how-to-measure-(bras|overlay)","i")}}),amaze.injection(function(e,t,n,i){var a=i("#main"),r=i("#overlayVideo"),o=a.find("h1:first").text();a.find("video").attr("aria-label",o),i(".vjs-control").buttonify(),i(".vjs-control").onAttributeChange("class",function(){i(this).buttonify()}),r.on("keydown",function(e){var t=i.keyname(e),n=i(e.target);n.is(".vjs-control")||("enter"==t||"space"==t)&&(e.preventDefault(),n.fire("click"))}).on("click keydown",".vjs-control",i.defer(function(e){if("keydown"==e.type){var t=i.keyname(e);if("enter"!=t&&"space"!=t)return}var n=i(e.target);n.hasClass("vjs-control")||(n=n.closest(".vjs-control"));var a=n.find(".vjs-control-text"),r=null;if(n.hasClass("vjs-mute-control")){var o=n.hasClass("vjs-vol-0");r=i.localeText(o?"unmute":"mute")}else if(n.hasClass("vjs-play-control")){var c=n.hasClass("vjs-paused");r=i.localeText(c?"play":"pause")}r&&a.text(r)}))},{name:"pink/how-to-measure/video",priority:"default",regex:{include:new RegExp("(\\/pink\\/how-to-measure-bras)|(\\/popups\\/how-to-measure-overlay)","i")}}),amaze.injection(function(e,t,n,i){i("div.fit-guide-start-page").find("h3").attr({"aria-level":"2",role:"heading"})},{name:"pink/perfect-fit",priority:"default",regex:{include:new RegExp("pink\\/bras\\/find-your-perfect-fit","i")}}),amaze.injection(function(e,t,n,i){i(".standard-nav a.main-header").wrap('<h1 id="amaze-h1"></h1>'),i("h3").attr("aria-level",2).role("heading")},{name:"pink/personal-bra-boutique/headings",priority:"default",css:"h1#amaze-h1 a{display:block;float:left;text-transform:uppercase;font:30px/30px PinkSlab100;letter-spacing:2.5px}",regex:{include:new RegExp("pink\\/bras\\/personal-bra-boutique","i")}}),amaze.injection(function(e,t,n,i){var a=i("#main"),r=i.offscreen("h1");r.text(i.localeText("spring-break-bottoms-guide")),a.prepend(r)},{name:"pink/spring-break-bottoms-guide/headings",priority:"default",regex:{include:new RegExp("pink\\/spring-break-bottoms-guide","i")}}),amaze.injection(function(e,t,n,i){t.title=i.localeText("spring-break-bottoms-guide-title")},{name:"pink/spring-break-bottoms-guide/page-title",priority:"default",regex:{include:new RegExp("pink\\/spring-break-bottoms-guide","i")}}),amaze.injection(function(e,t,n,i){var a=i.localeText("pink-nation-instashop");i("#content > div > div > iframe").attr("title",a),i("#pink_login_hidden").attr("tabindex",-1),i("#insta-shop-header .stamp-header-image").attr("alt",i.localeText("springbreak-forever"))},{name:"pink/spring-break-instashop",priority:"default",regex:{include:new RegExp("pinknation-spring-break-instagram-instashop","i")}}),amaze.injection(function(e,t,n,i){i(".product-link:first-child").each(function(){var e=i(this).siblings(".product-link:last-child").text();i(this).children("img").attr("alt",e)})},{name:"pink/spring-break-instashop/product-links",priority:"default",regex:{include:new RegExp("\\/apps\\/pinknation-spring-break-instagram-instashop","i")}}),amaze.injection(function(e,t,n,i){t.title=i.localeText("spring-break-tops-guide-title")},{name:"pink/spring-break-tops-guide/page-title",priority:"default",regex:{include:new RegExp("pink\\/spring-break-tops-guide","i")}}),amaze.injection(function(e,t,n,i){var a=i.offscreen().text(i.localeText("close-button-label")),r=i("button.primary.close.x");r.append(a).find("em").removeAttr("title");var o=i("<caption/>");o.append(i.offscreen().text(i("h1").text())),i("table").find("thead").before(o)},{name:"popups/bra-size-chart",priority:"default",regex:{include:new RegExp("popups\\/bra-size-chart","i")}}),amaze.injection(function(e,t,n,i){function a(){l.on("click",r)}function r(){i(t.body).one("DOMNodeInserted",".modal-wrapper",function(e){setTimeout(function(){o(e.target)})})}function o(e){var t=i(e),n=t.find("h3").first().prop("tabindex",-1),a=t.find("header .primary.close.x"),r=t.find("footer .primary.close"),o=t.find(".ui-callout").last();t.on("keydown",function(e){var t=i(e.target);9===e.which&&e.shiftKey&&t.is(r)&&(e.preventDefault(),e.stopPropagation(),o.focus())}),r.on("click",c),a.on("click",c),t.find("h3[id]").prop("tabindex",-1),t.on("click",".questions li a",function(e){var t=i(e.target).attr("href"),n=i(t);n.focus()}),t.on("click",".ui-callout",function(){n.focus()})}function c(){l.focus()}var s="https://www.victoriassecret.com/privacy-and-security/",l=i('a[href="'+s+'"]');i("html").is('[data-nav="load"]')?(i.waitFor("#nav-primary",a),i("#nav-primary").insertBefore(i("#nav-secondary"))):a()},{name:"privacy-security-modal",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){function a(){var n=i("#bagFlyout",e.frameElement?e.parent.document:t);if(n.addClass("amazed"),n.exists()){var a=n.find("button.primary.close");n.find("a.go-to-checkout").buttonify(),c(),a.off("click",r),a.on("click",r),n.off("keydown",s),n.on("keydown",s);var l=n.find("h1:first");n.role("dialog").attr("tabindex",-1).noClobber("aria-labelledby",l),n.focus();var d=n.find(".product");d.each(function(){var e=i(this),t=e.find(".imageWrapper img").last(),n=e.find(".itemTextWrapper tr").first().find("td").last().text();t.attr("alt",n)}),o(),i("body").trigger("amaze:block:escape"),i(t).on("click",function(e){var t=i(e.target);t.closest("#bagFlyout").exists()||a.click()})}}function r(n){n.preventDefault(),c();var a=i("#bagFlyout",e.frameElement?e.parent.document:t);a.removeClass("amazed"),a.hide(),i("[amaze-trigger=true]").removeAttr("amaze-trigger").focus(),i("body").trigger("amaze:unblock:escape")}function o(n){var a=i("#bagFlyout",e.frameElement?e.parent.document:t);n&&n.target&&i(n.target).closest("button").attr("amaze-trigger",!0),h?h.observe(a.get(0),{attributes:!0,subtree:!1,childList:!1,attributeOldValue:!0,attributeFilter:["style"]}):a.on("DOMAttrModified",d)}function c(){var n=i("#bagFlyout",e.frameElement?e.parent.document:t);h?h.disconnect():n.off("DOMAttrModified",d)}function s(n){var a=i.keyname(n),r=i("#bagFlyout",e.frameElement?e.parent.document:t);if("tab"==a){var o,c=r.focusable(),s=i(n.target),l=c.index(s);n.shiftKey?(o=c.eq(l-1),o.exists()||(o=c.last())):(o=c.eq(l+1),o.exists()||(o=c.first())),n.preventDefault(),o.focus()}else if(27===n.which){n.preventDefault();var d=r.find("button.close");d.fire("click")}}function l(e){for(var t,n=0;t=e[n++];)if("attributes"==t.type){var i=p(t.oldValue);if(1>i)return u()}}function d(e){if("style"==e.attrName.toLowerCase()){var t=e.target.getAttribute("style"),n=p(t);1>n&&u()}}function u(){var n=i("#bagFlyout",e.frameElement?e.parent.document:t);n.hasClass("amazed")||a(),n.css({opacity:1,display:"block"}).addClass("amazed"),n.find(t.activeElement)||n.get(0)===t.activeElement||a()}function f(){return 0==y.find("input.error").length}function p(e){for(var t,n=e&&e.toLowerCase().split(";")||[],i=0;t=n[i++];){var a=t.split(":");if(~a[0].indexOf("opacity"))return parseFloat(a[1])}return 0}function m(){i(x).each(function(e,t){var n=i(t);n.off("click",o),(n.hasClass("active")&&n.hasClass("bm-purchase-path")||!n.hasClass("openProductOverlay"))&&n.one("click",o)})}var g=e.MutationObserver||e.WebKitMutationObserver||e.MozMutationObserver,h=g&&new g(l),b=g&&new g(m);i.escapeBlocker(s);var v=".primary button.add-to-bag",x=[".add-to-bag-flyout",".addToBag",".atb-lovelist"].join(", "),y=i('#productForm, form[data-type="product"]'),w=y.find(v);w.exists()?y.on("submit",i.defer(function(e){return f()?void o({target:w[0]}):(e.preventDefault(),void e.stopPropagation())},0)):(w=i(x),w.exists()&&(w.onAttributeChange("class",m),b?b.observe(i("body").get(0),{attributes:!1,subtree:!0,childList:!0,attributeOldValue:!1}):i("body").on("DOMNodeInserted DOMNodeRemoved",m),m())),w.attr("aria-haspopup",!0)},{name:"product-detail/add-to-bag-notificataion",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i(".mixer-image-group .style-selector"),t=e.find(".arrow"),n=e.find("ul li[data-id]");t.each(r),n.each(o)}function r(e,t){var n=i(t),a=n.hasClass("disabled");n.buttonify().attr({"aria-disabled":a,tabindex:a?-1:0,"aria-label":function(){return i.localeText(i(this).hasClass("next")?"next-button":"previous-button")}}).off("click").on("click",i.defer(c,250))}function o(e,t){var n=i(t),a=n.find("img"),r=a.wrap('<span tabindex="0" />').parent();r.buttonify()}function c(e){var t=i(e.target);t.hasClass("disabled")?(t.attr("aria-disabled",!0),t.closest(".style-selector").find('.style-carousel li.selected [role="button"]').focus()):t.attr("aria-disabled",!1),t.closest(".style-selector").find(".arrow").each(r)}a()},{name:"product-detail/bikini-mixer-hybrid/bottom-chooser-images",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){var a=i('.mix-and-match-button[href="#productMixer"]'),r=i(".product-mixer h2").first().prop("tabIndex",-1);a.buttonify().on("click",function(){r.focus()})},{name:"product-detail/bikini-mixer-hybrid/create-your-bikini",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){i(".product-mixer a.productDetails img").presentation()},{name:"product-detail/bikini-mixer-hybrid/details-link",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i("#modal-outer-wrapper"),t=e.find(".product-image-group .view img"),n=e.find(".details h1");n.attr({role:"heading","aria-level":"2"}),t.attr("alt",n.text())}var r=i(t.body);i(".product-mixer .productDetails a.productDetails").on("click",function(){r.one("amaze:modal:insertion",a)})},{name:"product-detail/bikini-mixer-hybrid/details-modal/img-alt",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){var a=i('section[data-common-name="size"] select'),r=i('section[data-common-name="quantity"] select'),o=a.add(r);o.attr("aria-label",function(){var e=i(this),t=e.find("option").first().text();return t})},{name:"product-detail/bikini-mixer-hybrid/size-qty-select-labels",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){var a=i("section.product em.click-note");a.attr({role:"button",tabindex:"0"}).on("keydown",function(e){(32===e.which||13===e.which)&&(this.click(),e.preventDefault())})},{name:"product-detail/click2enlarge",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){var a=i('section.color[data-common-name="color"]'),r=a.find("div label img");r.each(function(e,t){var n=i(t),a=n.next("span"),r=a.text();n.attr("alt",r)})},{name:"product-detail/color-alts",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){function a(){s(),setTimeout(o,100)}function r(e){var t=e.target;i(t).is(".amaze-offscreen")||l.push(t)}function o(){l.length&&i.each(l,c)}function c(e,t){var n=i(t),a=n.text().toLowerCase(),r=null;if(~a.indexOf(d)?r=b:~a.indexOf(u)?r=v:~a.indexOf(f)?r=y:~a.indexOf(p)?r=w:~a.indexOf(m)?r=k:~a.indexOf(g)&&(r=z),r){n.rndid();var o=n.attr("id"),c=r.find("input, select");c.attr("aria-invalid",!0),c.attr("aria-describedby",o),0==e&&c.first().focus()}}function s(){l.length=0,i.each(C,function(e,t){i(t).find("input").removeAttr("aria-invalid aria-describedby")})}var l=[],d=i.localeText("select-a-length"),u=i.localeText("select-a-color"),f=i.localeText("select-a-size"),p=i.localeText("select-a-quantity"),m=i.localeText("select-a-cup-size"),g=i.localeText("select-a-band-size"),h=i('#productForm, form.overlay[action="/commerce2/bag/add"]'),b=h.find('section.module[data-common-name="extend"]'),v=h.find('section.module[data-common-name="color"]'),x=['section.module[data-common-name="dot"]','section.module[data-common-name="size"]'].join(", "),y=h.find(x),w=h.find('section.module[data-common-name="quantity"]'),k=h.find('section.module[data-common-name="cup"]'),z=h.find('section.module[data-common-name="band"]'),C=[b,v,y,w,k,z];h.on("submit",a),h.on("DOMNodeInserted",".product-tooltip",r)},{name:"product-detail/error-identification",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){i('img[itemprop="image"]:not(".ftr")').presentation(),i("body").on("transitionend webkitTransitionEnd oTransitionEnd",".show",function(){i('img[itemprop="image"]:not(".ftr")').presentation()})},{name:"product-detail/img-alt",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){function a(e){return e==s||s-f>=e}function r(e){return 0==e||e>=f}function o(e,t){t.preventDefault();var n=e.index(t.target),i=e.eq(n+1),a=e.eq(n-1);i.length||(i=e.first()),a.length||(a=e.last()),(t.shiftKey?a:i).focus()}var c,s,l,d=i("#vsImage"),u=i("section.product"),f=-100,p=i("html");i("a.click-note, #zoom-lens").on("click",function(e){c=i(e.target)}),i("html").onAttributeChange("class",i.defer(function(){var t;p.hasClass("product-enlarge-image")?(t=i.offscreen("span").text(i.localeText("arrow-key-nav")).rndid().appendTo("body"),d.css({transform:"translate3d(0px, 0px, 0px)"}),l=d.position().top,s=-1*(d.height()-i(e).height()),i("div.zoom-close").buttonify().focus().on("click",i.defer(function(){d.css({transform:"translate3d(0px, 0px, 0px)"}),c.focus()})),d.prop("tabindex",0).on("keydown",function(e){var t=i.keyname(e);"down"===t?l=a(l)?s:l+=f:"up"===t&&(l=r(l)?0:l-=f),d.css({transform:"translate3d(0px, "+l+"px, 0px)"})}).attr("aria-describedby",function(){return Math.abs(s)>0?t.prop("id"):void 0}),u.ontab(function(e){var t=u.focusable();o(t,e)})):t&&t.remove()}))},{name:"product-detail/img-zoom",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){function a(){function e(e){var n=e.which,a=i(e.target);37===n||38===n?(e.preventDefault(),t(a,"prev")):(39===n||40===n)&&(e.preventDefault(),t(a,"next"))}function t(e,t){var a=i("ul.alt-views > li").index(e),r="next"==t?a+1:a-1;r===n.length?r=0:-1===r&&(r=n.length-1);var o=i(n[r]);o.exists()&&(o.find("img").click(),o.prop("tabIndex",0).attr("aria-checked",!0),e.prop("tabIndex",-1).attr("aria-checked",!1),o.focus())}var n=r.find("li");r.role("radiogroup"),n.attr({role:"radio","aria-checked":function(){return i(this).hasClass("selected")},"aria-setsize":n.length,"aria-posinset":function(e){return e+1}}).prop("tabIndex",function(){return i(this).hasClass("selected")?0:-1}).on("keydown",e).find("img").presentation()}var r=i(".product-image-group .alt-views");r.on("DOMNodeInserted","li.selected",i.defer(a)),a()},{name:"product-detail/large-thumbnail-switcher",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){function a(t,n){return i(t).exists()?e.getComputedStyle(t,"hover")[n]:{}}var r=i("#pagination");if(r.exists()){var o=i.localeText("page"),c=i.localeText("x-of-y"),s=r.find(".next"),l=r.find(".prev"),d=parseInt(l.text()),u=parseInt(s.text());i.each([l,s],function(e,t){var n=i.offscreen("span"),r=t,s=r.find(".tooltip"),l=a(t.get(0),"background-position"),f=a(s.get(0),"margin-left"),p=(o+" "+c).replace("{{X}}",d+e).replace("{{Y}}",u);n.text(p),r.find("span:not([class])").attr("aria-hidden",!0),r.append(n),r.on("focus blur",function(e){"focus"==e.type?(t.css("background-position",l),s.css({"margin-left":f,top:"-99px",display:"block",position:"absolute"})):(t.removeAttr("style"),s.removeAttr("style"))})})}},{name:"product-detail/pagination",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){var a=i("div.price a.info-tooltip");a.prop("tabindex",0).role("link").on("focus",function(e){var t=i(e.target);i("body").one("DOMNodeInserted","span.info-tooltip-display",function(e){var n=i(e.target);n.rndid(),t.attr("aria-describedby",n.prop("id"))}),t.fire("mouseover")}).on("blur",function(e){var t=i(e.target);t.fire("mouseout")})},{name:"product-detail/price-tooltip",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){var a=i.localeText("subtract-one"),r=i.localeText("add-one"),o=i('section.module[data-common-name="quantity"]'),c=o.find("div label span");c.buttonify();var s=c.parent(".minus"),l=c.parent(".plus");s.children("span").append(i.offscreen("span").text(a)),l.children("span").append(i.offscreen("span").text(r));var d=o.find("input"),u=o.find("h2");u.rndid(),d.addLabel(u)},{name:"product-detail/quantity-combo-box",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=i(e);t.find("input").attr("aria-disabled",t.hasClass("na"))}var r=["section.module.color","section.module.extend","section.module.dot","section.module.size","section.module.band","section.module.cup"].join(","),o=i(r);o.find(">div").each(function(){var t=i(this),n=t.find("a:visible"),r=t.find("label:visible"),o=t.prev("h2").find("em").first();t.find(">span>a:first").remove(),n.presentation().addClass("amaze-radio-item").wrapAll('<span role="radiogroup" />'),r.presentation().onAttributeChange("class",i.defer(a,0)).find("img, span").presentation(),r.find("input").each(function(){var t=i(this),n=t.closest("label");t.noClobber("aria-labelledby",t.prev("span")).noClobber("aria-labelledby",o).role("radio").on("focusin",function(){r.next("span.tooltip").fire("mouseout"),n.next("span.tooltip").fire("mouseover"),n.addClass("amaze-outline")}).on("focusout",function(){r.next("span.tooltip").fire("mouseout"),n.removeClass("amaze-outline")}).on("keydown",function(t){32===t.which&&(t.preventDefault(),e.jQuery(this).trigger("mousedown"))})})})},{name:"product-detail/radiogroup",priority:"default",css:".amaze-radio-item{display:inline-block!important}body.amaze-focus-enabled .amaze-outline{box-shadow:0 0 0 2px #D91560!important;outline:0!important}",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i("#BVRRDisplayContentBodyID .BVRRReviewTitle");e.attr({role:"heading","aria-level":"3"})}a(),i("body").on("amaze:product-reviews:new:page",a)},{name:"product-detail/ratings-and-reviews/headings",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){function a(){r.trigger("amaze:product-reviews:new:page")}var r=i("body");i("body").on("click","#BVRRDisplayContentFooterID .BVRRPager a",function(){r.one("DOMNodeInserted","#BVRRDisplayContentSortID",i.defer(a,350))})},{name:"product-detail/ratings-and-reviews/new-page-clobber",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i("#BVRRDisplayContentFooterID > .BVRRPager"),t=e.find("span");e.role("list"),t.each(function(){var e=i(this);if(e.hasClass("BVRRPagerArrows"))return e.presentation();e.role("listitem");var t,n=e.hasClass("BVRRSelectedPageNumber");t=n?e:e.find("a").first(),t&&t.length&&t.removeAttr("title").attr("aria-label",function(){var e="";return n&&(e=i.localeText("current")),[i.localeText("page"),i(this).text(),e].join(" ")})})}function r(){i(".BVRRContentReview").first().prop("tabIndex",-1).focus()}a(),i("body").on("amaze:product-reviews:new:page",function(){setTimeout(a),setTimeout(r)})},{name:"product-detail/ratings-and-reviews/pagination",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){function a(e){v=e.find(y);var t=e.find(".BVDI_QTAttributes"),n=i("#BVRRDisplayContentSortID");t.exists()&&n.exists()&&t.add(n).wrapAll('<span role="menubar" />'),v.removeAttr("title").attr({role:"menuitem","aria-haspopup":"true","aria-expanded":"false",tabindex:-1,"aria-posinset":function(e){return e+1},"aria-setsize":v.length,"aria-labelledby":function(){var e=i(this);if(e.is("a")){var t=e.find(".BVDILinkSpan").rndid();return[t.prop("id"),"BVRRTitleAttributesID"].join(" ")}return[x,"BVRRDisplayContentSortPrefixID"].join(" ")}}).on("keydown",r).on("focus",h).each(o).first().prop("tabIndex",0)}function r(e){var t=i(e.target),n=i.keyname(e);if("down"==n){if(t.prop("id")===x)return m(t);c(t)}else"right"==n?(e.preventDefault(),f(t,"next")):"left"==n&&(e.preventDefault(),f(t,"prev"))}function o(e,t){var n=i(t);n.prop("id")!==x&&n.closest(".BVDIHeader").next(".BVDIBody").find(".BVDI_QTFilterList").role("menu").find("li").prop("tabIndex",-1).role("menuitemcheckbox").on("keydown",d).find("input").prop("tabIndex",-1)}function c(e){e.attr("aria-expanded","true").click(),e.closest(".BVDI_QTGroup").find(".BVDI_QTFilterList li").first().focus()}function s(e){var t=e.closest(".BVDI_QTGroup").find(".BVDIHeader .BVDILink").first();if(t.exists())t.attr("aria-expanded","false").click().focus();else{var n=i("#"+x);n.attr("aria-expanded","false").focus(),setTimeout(function(){i(".BVRRStyledSelectList").hide()})}}function l(){i(".BVDIToggleArea").addClass("BVDIHidden")}function d(e){var t=i(e.target),n=i.keyname(e);if("esc"===n)s(t);else if("up"===n||"down"===n)e.preventDefault(),p(t,n);else if("space"===n||"enter"===n){var r;b.exists()&&(r=b.prop("id")),e.preventDefault(),t.is(".BVRRStyledSelectList li")?t.fire("mousedown"):t.find("input").click(),u(t),r&&w.one("DOMNodeInserted","#BVRRContainer",function(){setTimeout(function(){k=i("#BVRRQuickTakeContentContainerID"),a(k),setTimeout(function(){i("#"+r).focus(),l()},100)},0)})}}function u(e){var t=e.closest(".BVDIInside").find(".BVDILink").first();t.exists()||(t=i("#"+x)),t.focus()}function f(e,t){var n=i.inArray(e[0],v),a="next"==t?n+1:n-1;-1===a&&"prev"===t?a=v.length-1:a===v.length&&"next"===t&&(a=0);var r=v[a];g(r),r.focus()}function p(e,t){var n="up"===t?e.prev():e.next();n.focus()}function m(e){var t=i(".BVRRStyledSelectList").filter(":visible"),n=t.find("li").filter(":visible");t.role("menu"),n.prop("tabIndex",-1).role("menuitem"),e.attr("aria-expanded","true"),n.first().focus(),setTimeout(function(){t.show(),n.first().focus()},0),n.on("keydown",d)}function g(e){v.each(function(){var t=i(this);t.prop("tabIndex",t.is(e)?0:-1)})}function h(){b=i(this)}var b,v=[],x="BVRRDisplayContentSelectBVFrameID_textfield",y=".BVDIHeader .BVDILinkToggle, #"+x,w=i(t.body),k=i("#BVRRQuickTakeContentContainerID");a(k),w.on("amaze:product-reviews:new:page",function(){setTimeout(function(){a(i("#BVRRQuickTakeContentContainerID"))},350)})},{name:"product-detail/ratings-and-reviews/reviews-filter",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i(".BVDI_FVPositive a, .BVDI_FVNegative a");e.each(function(){var e=i(this),t=e.closest(".BVDI_FVVotesHelpfulness").find("span.BVDIPrefix"),n=e.find(".BVDILinkSpan").first();e.removeAttr("title").noClobber("aria-labelledby",n).noClobber("aria-labelledby",t)})}a(),i("body").on("amaze:product-reviews:new:page",i.defer(a,250))},{name:"product-detail/ratings-and-reviews/was-this-helpful",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){var a=i("#BVRRRatingSummaryLinkReadID a"),r=i("#BVRRDisplayContentID").prop("tabIndex",-1);a.on("click",function(){r.focus()})},{name:"product-detail/reviews-link",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i("#modal-inner-wrapper"),t=e.find(".tabs .tab");t.fixTabs({panelGetter:function(e){return e.getAttribute("data-clicked")},activeClass:"clicked"}).role("tablist").find("li.clicked").click()}var r=i(t.body);i("a.moreInfo.sizeFit").on("click",function(){r.one("amaze:modal:insertion",a)})},{name:"product-detail/size-and-fit-modal/tabs",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){var a=i("ul.share-group"),r=a.find("a");r.attr({role:"link",tabindex:0})},{name:"product-detail/social-links",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i(".BVRRRatingOverall .BVRRRatingCustomImageWrapper img");e.each(function(){var e=i(this),t=[" ",i.localeText("stars")].join("");e.noClobber("alt",t)});var t=i(".BVRRRatingSliderImage img");t.removeAttr("title").presentation()}a(),i("body").on("amaze:product-reviews:new:page",i.defer(a))},{name:"product-detail/star-images",priority:"default",regex:{include:new RegExp("[object Object]","i")}}),amaze.injection(function(e,t,n,i){function a(){i("div.rating").each(function(){var e=i(this),t=e.find("span.base").width(),n=e.find("span.value").width(),a=Math.round(100*(n/t)),r=Math.ceil10(a/20,-1),o=i.offscreen("span");e.hasClass("hide-ratings")||o.text(r+" "+i.localeText("rating")).insertBefore(e)})}function r(){var e=l.find("section.product"),t=e.find(".BVRRRootElement"),n=t.find(".BVImgOrSprite"),a=t.find(".BVRRRatingsHistogramButtonPopin").first();a.role("tooltip"),n.noClobber("aria-describedby",a),n.role("link"),n.attr("tabindex",0),n.on("focus",function(){a.show()}).on("blur",function(){a.hide()}),i("span.BVRRNumber").exists()||n.attr("alt",i.localeText("zero-ratings"))}var o=["#collection-set ul.products","section.carousel-product-rec"].join(","),c=i(o),s=c.parent();a(),s.on("DOMNodeInserted","ul, section",i.defer(function(e){var t=i(e.target);t.is(o)&&a()},200));var l=i("#content");l.on("DOMNodeInserted","div.BVRRRootElement",i.defer(function(e){var t=i(e.target);t.hasClass("BVRRWidget")||r()},200))},{name:"product-detail/star-rating",priority:"low",regex:{include:new RegExp("[a-z-]+\\/[a-z-]+","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=i(e),n=t.find(".amaze-filter-dismiss");if(t.attr({tabindex:0,role:"button"}),!n.exists()){var a=i.offscreen().text(i.localeText("dismiss")).addClass("amaze-filter-dismiss");t.append(a)}}{var r=".facet ul.facet-selected li";i("#filter-clear").prop("tabindex",-1)}i(r).each(function(){a(this)}),i(t.body).on("DOMNodeInserted","li[data-v]",function(e){var t=i(e.target);t.is("li")&&a(e.target)})},{name:"product-landing/filter/dismiss-filter",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z0-9-]+","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=i.keyname(e),n=i(e.target);"down"==t?(e.preventDefault(),s(e)):"left"==t?(e.preventDefault(),d(n,t)):"right"==t?(e.preventDefault(),d(n,t)):"tab"==t&&(e.shiftKey?(e.preventDefault(),g().focus()):x.is(":visible")&&(e.preventDefault(),x.focus()))}function r(e){var t=i.keyname(e),n=e.target,a=i(n),r=a.find("input");"space"===t?(e.preventDefault(),r.click(),h(n).find("input").trigger("mousedown")):"enter"===t?r.click():"up"===t||"left"===t?(e.preventDefault(),u(r,"prev")):"down"===t||"right"===t?(e.preventDefault(),u(r,"next")):"esc"===t?l(n):"tab"===t&&(e.preventDefault(),e.shiftKey?l(n):(l(n),x.focus()))}function o(e){var t=i(e.target),n=i.keyname(e);if("tab"!==n||e.shiftKey){if("tab"===n)f(e,t,"prev");else if("enter"===n||"space"===n){e.preventDefault(),e.stopPropagation();var a=t.find("a");a.exists()&&a[0].click()}}else f(e,t,"next")}function c(e){var t=i(e.target),n=b.find(".facet-selected li");n.length<=1?t.closest(".facet").focusable().first().focus():x.focus()}function s(e){var n=i(e.target);h(e.target).trigger("mouseover");var a=n.closest("ul.facet"),r="list-"+a.data("v"),o=t.getElementById(r),c=i(o);c.focusable().first().focus(),n.trigger("amaze:filter-dropdown:open")}function l(e){var t=p(e);t.hide();var n=t.find("ul").first().data("v");i('ul.facet[data-v="'+n+'"] li h3 a').trigger("amaze:filter-dropdown:close").focus()}function d(e,t){var n=e.closest(".facet"),i="left"==t?n.prev(".facet").first():n.next(".facet").first();i.exists()||(i="left"==t?v.last():v.first());var a=i.find("a");a.focus(),m(a)}function u(e,t){var n=e.closest("li"),a="next"==t?n.nextAll():n.prevAll(),r=a.filter(function(){return!i(this).hasClass("na")}).first().find("a");if(!r.exists()){var o=n.closest(".dropdown").find("a").filter(function(){var e=i(this).parent();return!e.hasClass("na")&&!e.hasClass("column")}),c=i.inArray(n.find("a")[0],o),s="next"==t?c+1:c-1,l=o[s];r=l?i(l):"next"==t?o.first():o.last()}r.focus()}function f(e,t,n){var a="next"==n?t.next():t.prev();if(!a.exists()){var r=t.closest(".facet"),o="next"==n?r.next(".facet"):r.prev(".facet");if(!o.exists())return void("prev"==n&&(e.preventDefault(),x.focus()));for(var c=i([]);o.exists()&&!c.exists();)c=o.find(".facet-selected li"),c.exists()&&(a="next"==n?c.first():c.last()),o="next"==n?o.next(".facet"):o.prev(".facet")}a.exists()&&(e.preventDefault(),a.focus())}function p(e){return i(e).closest(".dropdown")}function m(e){v.find("h3 a").each(function(){this.tabIndex=this!==e[0]?-1:0})}function g(){return i('#nav-primary li a[tabindex="0"]').first()}var h=e.jQuery,b=i("#nav-filter"),v=i(".facet"),x=i("#filter-clear");b.on("keydown","ul.facet a",a).on("click",".facet-selected li",c).on("keydown",".facet-selected li",o),i(t.body).on("keydown",".dropdown[id^=list] a.facet-checkbox-anchor",r).on("keydown","#list-Sort a",function(e){var t=i.keyname(e);("enter"==t||"space"==t)&&i('ul.facet[data-v="Sort"] li h3 a').focus()}),x.on("keydown",function(e){var t=i.keyname(e);if("tab"===t)if(e.shiftKey)e.preventDefault(),i('.facet li h3 a[tabindex="0"]').focus();
else{var n=i(".facet-selected li").first();n.exists()&&(e.preventDefault(),n.focus())}}).on("click",function(){i('.facet li h3 a[tabindex="0"]').focus()})},{name:"product-landing/filter/dropdowns/keyboard",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z0-9-]+","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=i(e.target),n=t.attr("aria-expanded"),a="false"==n?"true":"false";t.attr("aria-expanded",a)}var r=i("#nav-filter");r.role("menubar");var o=r.find("ul.facet > li > h3 > a");o.attr({"aria-haspopup":!0,"aria-expanded":!1,role:"menuitem",tabindex:-1}).first().prop("tabindex",0),i(t.body).on("DOMNodeInserted",".dropdown",function(e){var t=i(e.target);t.find("a.facet-checkbox-anchor").attr("role","menuitemcheckbox").prop("tabindex",-1)}),o.on("amaze:filter-dropdown:close",a),o.on("amaze:filter-dropdown:open",a)},{name:"product-landing/filter/dropdowns/roles",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z0-9-]+","i")}}),amaze.injection(function(e,t,n,i){i("#nav-filter ul.facet").not('[data-v="Sort"]').find("h3").attr("aria-level",2),i("h1, h2, h3, h4, h5, h6").filter(function(e,t){var n=i(t),a=i.trim(n.text());a.length||n.presentation()}),i("#content h4").attr("aria-level",3)},{name:"product-landing/headings",priority:"default",regex:{include:new RegExp("[a-z-]+\\/[a-z0-9-]+","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=l.find(".qv-product-img-wrapper");e.on("mouseover",r).on("mouseout",o).find("a.qv").addClass("amaze-offscreen").addClass("amaze-show-quick-view").on("focus",r).on("blur",o)}function r(){var e=c(this);e.removeClass("amaze-offscreen")}function o(){var e=c(this);e.addClass("amaze-offscreen")}function c(e){var t=i(e);return t.is(".qv")?t:t.find(".qv")}var s=["#collection-set ul.products","section.carousel-product-rec"].join(","),l=i(s),d=l.parent();a(),d.on("DOMNodeInserted","ul, section",i.defer(function(e){var t=i(e.target);t.is(s)&&a()},200));var u=l.find('li[itemtype="http://schema.org/Product"]');u.each(function(e,t){var n=i(t),a=n.find(">a:last-child").text();n.find("a:not(:last-child), a.qv.overlay").append(i.offscreen("span").text(a)),n.find("div.qv-product-img-wrapper img").presentation(),n.find("div.qv-product-img-wrapper a:not(.qv.overlay)").attr({tabindex:"-1","aria-hidden":!0})})},{name:"product-landing/quick-view/button",priority:"default",css:".amaze-show-quick-view{z-index:1!important;display:block!important}",regex:{include:new RegExp("[a-z-]+\\/[a-z0-9-]+","i")}}),amaze.injection(function(e,t,n,i){if("sp10048b28.guided.ss-omtrdc.net"===e.location.host){var a=i("#content ul").first();a.find("li.selected a").append(i.offscreen().text(i.localeText("current")));var r=[i.localeText("previous-button"),i.localeText("page")].join(" ");a.find("li.prev a").append(i.offscreen().text(r));var o=[i.localeText("next-button"),i.localeText("page")].join(" ");a.find("li.next a").append(i.offscreen().text(o))}},{name:"product-search-results/pagination",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){"sp10048b28.guided.ss-omtrdc.net"===e.location.host&&i("#content > nav > p > em").first().parent().role("heading").attr("aria-level","1")},{name:"product-searh-results/headings",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){i(".dsf.map span img").attr("alt",i.localeText("clearance")).role("heading").attr("aria-level","2"),i(".dsf.map a").each(function(e,t){var n=i(t);n.attr("aria-label",n.attr("title"))})},{name:"sale/clearance",priority:"default",regex:{include:new RegExp("\\/sale","i")}}),amaze.injection(function(e,t,n,i){var a=i("#category"),r=i.offscreen("span").text(i.localeText("select-category"));a.before(r).noClobber("aria-labelledby",r)},{name:"sale/labels",priority:"default",regex:{include:new RegExp("\\/sale","i")}}),amaze.injection(function(e,t,n,i){function a(){i("li.fab-body a").addClass("amaze-inset")}i("html").is(".search")&&(i("html").is('[data-nav="load"]')?i.waitFor("#nav-primary",a):a())},{name:"search/results",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){i("body").on("DOMNodeInserted",".sessionExpireFlyout",i.defer(function(e){var t=i(e.target),n=i("#extendSession").buttonify();t.off("keydown").on("keydown",function(e){var t=e.which;9===t?(e.preventDefault(),n.focus()):27===t&&n.fire("click")})}))},{name:"session-timeout",priority:"default",regex:{include:new RegExp(".","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=i.keyname(e),n=i(e.target),a="down right",o="up left";a.indexOf(t)>-1?r(n,"next"):o.indexOf(t)>-1&&r(n,"prev")}function r(e,t){var n=e.closest("dt"),i="next"===t?n.next().next("dt"):n.prev().prev("dt");if(!i.exists()){var a=e.closest("dl").find("dt");i="next"===t?a.first():a.last()}e.prop("tabindex",-1).attr("aria-checked","false");var r=i.find("span.fab-input-radio");r.attr("aria-checked","true").prop("tabindex",0).find("label:first").click(),setTimeout(function(){r.focus()})}var o=i("#updateShippingMethod"),c=o.prev("p"),s=o.find("dl").first();o.find("fieldset").presentation(),s.role("radiogrup").noClobber("aria-labelledby",c).find("dt").presentation().each(function(){var e=i(this),t=e.hasClass("clicked"),n=e.find("span.fab-input-radio").first(),r=e.find("strong").first();n.role("radio").attr("aria-checked",t).prop("tabindex",t?0:-1).noClobber("aria-labelledby",r).on("keydown",a)})},{name:"shipping-method/radio-group",priority:"default",regex:{include:new RegExp("\\/account\\/profile\\/updateShippingMethod","i")}}),amaze.injection(function(e,t,n,i){if(!t.title){var a=i("h1");a.exists()&&(t.title=[a.text(),i.localeText("victorias-secret")].join(" | "))}},{name:"shipping-method/title",priority:"default",regex:{include:new RegExp("\\/account\\/profile\\/updateShippingMethod","i")}}),amaze.injection(function(e,t,n,i){i(".close.x").append(i.offscreen().text(i.localeText("close-button-label"))).find("em").removeAttr("title")},{name:"shipping-rates/close-button",priority:"default",regex:{include:new RegExp("writeReviewOverlay|contact-info|\\/commerce2\\/shiprates|popups\\/how-to-measure-overlay","i")}}),amaze.injection(function(e,t,n,i){var a=i(".rates .callout li a");a.each(function(){var e=i(this),t=e.attr("href"),n=i(t),a=n.next("h2");a.exists()||(a=n.next().next("h2")),a.prop("tabIndex",-1),e.on("click",function(e){e.preventDefault(),a.focus()})});var r=i(".pagetop a"),o=i("h1").prop("tabindex",-1);r.on("click",function(e){e.preventDefault(),o.focus()})},{name:"shipping-rates/internal-links",priority:"default",regex:{include:new RegExp("\\/commerce2\\/shiprates","i")}}),amaze.injection(function(e,t,n,i){var a=i("table");if(5===a.length){var r=a.eq(1),o=r.find("thead"),c=o.text(),s='<caption class="amaze-delivery-cap"> <span>'+c+"</span></caption>";o.replaceWith(s);var l=r.find("tbody tr");l.each(function(){var e=i(this),t=e.find("td").first();if(t.attr("colspan"))return e.presentation();var n='<th scope="row" class="amaze-new-th">'+t.html()+"</th>";t.replaceWith(n)})}},{name:"shipping-rates/tables",priority:"default",css:".amaze-delivery-cap{text-align:left;border-spacing:2px;font-weight:700;padding:10px;border:1px solid #ccc;border-bottom:none}.amaze-delivery-cap span{font-weight:700}th.amaze-new-th{font-weight:400!important;padding:0!important;border-top:1px dashed #ccc;border-bottom:0!important;vertical-align:baseline}",regex:{include:new RegExp("\\/commerce2\\/shiprates","i")}}),amaze.injection(function(e,t,n,i){if(!t.title){var a=i("h1").first();t.title=[a.text(),i.localeText("victorias-secret")].join(" | ")}},{name:"shipping-rates/title",priority:"default",regex:{include:new RegExp("\\/commerce2\\/shiprates","i")}}),amaze.injection(function(e,t,n,i){var a=[i.localeText("site-map"),i.localeText("at"),t.title];t.title=a.join(" ")},{name:"site-map/page-title",priority:"default",regex:{include:new RegExp("\\/site-map","i")}}),amaze.injection(function(e,t,n,i){i(".h3").role("heading").attr("aria-level",2),i("#carousel-header").role("heading").attr("aria-level",2)},{name:"sport-bra-guide/headings",priority:"default",regex:{include:new RegExp("\\/victorias-secret-sport\\/bra-guide","i")}}),amaze.injection(function(e,t,n,i){i(".header-bg").append(i.offscreen("span").text(i.localeText("sports-bra-guide"))),i("#myths-banner").append(i.offscreen("span").text(i.localeText("sport-bra-myths")))},{name:"sport-bra-guide/image-alts",priority:"default",regex:{include:new RegExp("\\/victorias-secret-sport\\/bra-guide","i")}}),amaze.injection(function(e,t,n,i){var a=i(".carousel");a.find(".slidesContainer .slide-wrapper").prop("tabIndex",0),a.find("a.icon-arrow-left, a.icon-arrow-right").buttonify().append(function(){return i.offscreen("span").text(i.localeText(~this.className.indexOf("right")?"next-button":"previous-button"))}).on("click",i.defer(function(e){var t=i(e.target),n=t.closest(".carousel"),a=n.find(".slidesContainer .slide-wrapper");a.prop("tabIndex",0)})).filter(".icon-arrow-left").each(function(e,t){i(t).closest(".carousel").prepend(t)})},{name:"sport-bra-guide/sliders",priority:"default",regex:{include:new RegExp("\\/victorias-secret-sport\\/bra-guide","i")}}),amaze.injection(function(e,t,n,i){i("body").on("DOMNodeInserted","#fit-guide-vsx",function(e){var t=i(e.target);t.is(".size-recommendation")&&(i("#livechat").prop("tabindex",0),t.find("label").each(function(){var e=i(this),t=e.prev("input"),n=i("<div />").role("radio").prop("tabindex",0).on("keydown",function(e){var t=i.keyname(e);"space"===t&&(e.preventDefault(),i(e.target).find("label").click())});e.add(t).wrapAll(n)}))})},{name:"sports-bra-guide/last-step/radios",priority:"default",regex:{include:new RegExp("\\/victorias-secret-sport\\/find-your-perfect-fit","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=e.which;32===t&&(e.preventDefault(),e.target.click())}function r(e){if(i(e.target).is('[role="checkbox"]')){var t=i(this),n=t.find("input"),a=1==n.prop("checked");t.find("input").prop("checked",!a),s(t)}}function o(){var e=i(this);e.attr("data-amaze-assoc")||i(t.body).one("DOMNodeInserted",".info-tooltip-display",function(t){e.noClobber("aria-describedby",i(t.target)).attr("data-amaze-assoc","true")}),l(this).trigger("mouseover")}function c(){l(this).trigger("mouseout")}function s(e){var t="true"===e.attr("aria-checked");e.attr("aria-checked",!t)}var l=e.jQuery,d=i(".sl-store-type"),u=d.find("p").first(),f=i(".info-tooltip .fab-input-checkbox");f.role("checkbox").prop("tabIndex",0).attr("aria-checked",!1).on("keydown",a).on("click",r).on("focus",o).on("blur",c).each(function(){var e=i(this);e.noClobber("aria-labelledby",e).noClobber("aria-labelledby",u)}).find("input").on("click",function(){s(i(this).closest('[role="checkbox"]'))})},{name:"store-locator/customcheckbox",priority:"default",regex:{include:new RegExp("store-locator","i")}}),amaze.injection(function(e,t,n,i){function a(){r.one("DOMNodeInserted","#searchControls",i.defer(function(){i('#search-input > input[type="search"]').focus(),i("body").trigger("amaze:store-locator:search:refresh")},100))}var r=i("body");r.on("click","#storeDetail #locatorResults > .fab-ico--arrow-right-after",a)},{name:"store-locator/find-another-store",priority:"default",regex:{include:new RegExp("\\/store-locator","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i("#mapCanvas").eq(0),t=e.find('[title="Pan left"]'),n=t.parent(),a=n.find('[title="Pan up"]'),d=n.find('[title="Pan right"]'),u=n.find('[title="Pan down"]');n.prop("tabIndex",0).attr("aria-label",i.localeText("compass-navigation")).off("keydown").on("keydown",function(e){var n=e.which;37===n?(e.preventDefault(),t.click()):38===n?(e.preventDefault(),a.click()):39===n?(e.preventDefault(),d.click()):40===n&&(e.preventDefault(),u.click())}).children().presentation();var f=e.find('[title="Zoom in"]').buttonify(),p=e.find('[title="Zoom out"]').buttonify(),m=e.find('[title="Drag to zoom"]'),g=m.css("top"),h=parseInt(g.substr(0,g.length-2)),b=i('[title="Click to zoom"]'),v=b.height(),x=f.height(),y=o(h,x,v);m.role("slider").attr({"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":y}).prop("tabIndex",0).off("keydown").on("keydown",function(e){var t=e.which;37===t||38===t?(e.preventDefault(),f.click(),c(m,x,v)):(39===t||40===t)&&(e.preventDefault(),p.click(),c(m,x,v))}),r(m),r(f),r(p),f.add(p).on("click",i.defer(function(){c(m,x,v)},100));var w=e.find(".gmnoprint .gm-style-mtc"),k=w.parent();k.role("tablist").fixTabs({tabSelector:".gm-style-mtc",activeClass:"",panelGetter:function(e){var t=i(e),n=t.find("div");return 2===n.length?n[2]:""},panelShow:l,panelHide:l}).find(".gm-style-mtc").on("keydown",s).first().attr("aria-selected",!0).prop("tabIndex",0)}function r(e){var t=e.attr("title");e.attr("aria-label",t).removeAttr("title")}function o(e,t,n){var i=e-t,a=n-i,r=a/n,o=100*r;return Math.floor(o)}function c(e,t,n){setTimeout(function(){var i=e.css("top"),a=parseInt(i.substr(0,i.length-2)),r=o(a,t,n);r>100&&(r=100),e.attr("aria-valuenow",r)},100)}function s(e){var t=e.which;if(32===t||13===t){var n=i(e.target);e.preventDefault(),n.find("div").first().click()}}function l(){}i("#mapCanvas").exists()?a():i("body").one("DOMNodeInserted",".gmnoprint",i.defer(a,250))},{name:"store-locator/map-controls",priority:"default",regex:{include:new RegExp("\\/store-locator","i")}}),amaze.injection(function(e,t,n,i){function a(){i(this).toggleClass("amaze-print-send-hover")}i(t.body).on("DOMNodeInserted",".actionPanel",function(e){var t=i(e.target);t.find(".print a, .send a").prop("tabIndex",0).role("link").on("focus blur",a).each(function(){var e=i(this);e.hasClass("send-many")&&e.buttonify()})})},{name:"store-locator/print-send-links",priority:"default",css:".amaze-print-send-hover{color:#f33b7e!important}",regex:{include:new RegExp("\\/store-locator","i")}}),amaze.injection(function(e,t,n,i){function a(){i("body").one("DOMNodeInserted","#searchResults",r)}function r(){setTimeout(o,250),i("body").trigger("amaze:skip-link:refresh"),setTimeout(function(){a()},500)}function o(){var e=i("#searchResults"),t=e.find(".dropBtn");t.buttonify().attr({"aria-label":i.localeText("options"),"aria-haspopup":"true"}),t.each(function(){var e=i(this),t=e.next(".dropList"),n=t.find("li");t.role("menu"),n.role("menuitem").off("keydown").on("keydown",function(a){var r=a.which,o=i(a.target);38===r||9===r&&a.shiftKey?(a.preventDefault(),c(o,n,"up")):40===r||9===r&&!a.shiftKey?(a.preventDefault(),c(o,n,"down")):13===r?(a.preventDefault(),a.target.click()):27===r&&(t.hide(),e.focus())}).find("a").prop("tabIndex",0),e.off("keydown").on("keydown",function(e){var t=e.which;(40===t||32===t||13===t)&&(e.preventDefault(),e.target.click())}).off("click").on("click",function(){t.is(":visible")?(t.hide(),e.focus()):t.show().find('[role="menuitem"] a').first().focus()})})}function c(e,t,n){var i=e.parent().index(),a="up"===n?i-1:i+1;-1===a&&"up"===n?a=t.length-1:a===t.length&&"down"===n&&(a=0),t.eq(a).find("a").focus()}a(),o()},{name:"store-locator/result-dropdown",priority:"default",css:"#content #displayList .locator-results .store-listing .dropList.amaze-dropdown-open{display:block}",regex:{include:new RegExp("\\/store-locator","i")}}),amaze.injection(function(e,t,n,i){i(t.body).on("amaze:store:results:insertion",function(){i(".store-name-link").each(function(){i(this).wrap('<div role="heading" aria-level="2"></div>')})})},{name:"store-locator/result-headings",priority:"default",regex:{include:new RegExp("\\/store-locator","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=i('form[id="sl-search"] input[type="search"]');if(e){var n=i(e.target);n.is(".sl-header-wrapper")?setTimeout(c,100):n.is("#locatorResults")&&(i("body").trigger("amaze:skip-link:refresh"),setTimeout(l,250))}if(t.exists()){t.attr("autocomplete","off");var a=i("#searchControls"),d=a.find("h2").first(),f=a.find(".sl-description").first(),p=i("#sl-autocomplete-results ul").first(),m=!1;t.noClobber("aria-labelledby","sl-locate-button").noClobber("aria-labelledby",d).noClobber("aria-describedby",f),p.onAttributeChange(function(e,t,n){"display: block;"===n?m=!0:"display: none;"===n&&(m=!1)}),t.on("keydown",function(e){var t=e.which;if(38===t||40===t){var n=p.find(".active");m&&(n.exists()?(e.stopPropagation(),r(n,t)):setTimeout(function(){n=p.find(".active");var e=["1",u,p.find("li").length,n.text().trim()].join(" ");i.assertiveAnnouncement(e)}))}else if(13===t)if(e.stopPropagation(),e.preventDefault(),m){var a=p.find(".active");a.length?(a.find("a").fire("click"),o()):s()}else s()})}}function r(e,t){var n=38===t?e.prev():e.next();n.exists()&&setTimeout(function(){e.removeClass("active"),n.addClass("active");var t=n.parent(),a=n.index();a+=1;var r=[a,u,t.find("li").length,"-",n.text()].join(" ");i.assertiveAnnouncement(r)})}function o(){d.one("DOMNodeInserted","#locatorResults, #searchControls",i.defer(a,150))}function c(){var e=i('form[id="sl-search"] input[type="search"]');if(e.removeAttr("aria-invalid"),!e.val()){var t=i("#error-message");t.exists()&&e.attr("aria-invalid",!0).noClobber("aria-describedby",t)}e.focus()}function s(){i("#sl-locate-button").click()}function l(){var e=i("#locatorResults h1");e.prop("tabIndex",-1).focus()}var d=i("body"),u=i.localeText("of");a(),d.on("submit",'form[id="sl-search"]',o).on("amaze:store-locator:search:refresh",function(){a()})},{name:"store-locator/search-suggestions",priority:"default",regex:{include:new RegExp("\\/store-locator","i")}}),amaze.injection(function(e,t,n,i){var a=i("#send-block");if(a.exists()){var r="send-block";a.find("#tabs-1").attr("id",r+"-tabs-1"),a.find("#send-email").attr("id",r+"-send-email"),a.find("#send-email-form-tabbed fieldset").each(function(e,t){var n=i(t),a=n.find("input");if(a.exists()){var o=a.attr("id");if(~["recipient-email","your-email","copy"].indexOf(o)){a.attr("id",r+"-"+o);var c="label[for='"+o+"']",s=n.find(c);s.exists()&&s.attr("for",r+"-"+o)}}})}},{name:"store-locator/unique-ids",priority:"default",regex:{include:new RegExp("store-locator","i")}}),amaze.injection(function(e,t,n,i){function a(){return o?r(i("#error-message")):void l.one("DOMNodeInserted","#error-message",function(e){var t=i(e.target),n='<span class="amaze-offscreen">'+i.localeText("error")+"</span>";o=!0,s.attr("aria-invalid","true").noClobber("aria-describedby","error-message").focus(),t.html(n+" "+t.html())})}function r(e){setTimeout(function(){var t=e.is(":visible");if(s.attr("aria-invalid",t),t)s.focus();else{var n=s.attr("aria-describedby"),i=n.replace("error-message","");s.attr("aria-describedby",i)}},350)}var o,c=i("#locate-button"),s=i("#sl-search"),l=i(t.body);c.on("click",a)},{name:"store-locator/validation",priority:"default",regex:{include:new RegExp("\\/store-locator","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=i(e),n=t.find(".amaze-active-marker");n.remove(),t.hasClass("icon-circle-active")&&(n=i.offscreen("span").text("active").addClass("amaze-active-marker"),t.find("a").append(n))}i(".pagination li").onAttributeChange("class",a),a(i(".pagination li.icon-circle-active"))},{name:"swim-show/carousel/active-link",priority:"low",regex:{include:new RegExp("\\/swim-show","i")}}),amaze.injection(function(e,t,n,i){i("a.icon-arrow-left, a.icon-arrow-right").buttonify().append(function(){return i.offscreen("span").text(i.localeText(~this.className.indexOf("right")?"next-button":"previous-button"))}).on("click",function(){i(this).trigger("amaze:slide-show:action")})},{name:"swim-show/carousel/nav",priority:"default",regex:{include:new RegExp("\\/swim-show","i")}}),amaze.injection(function(e,t,n,i){var a=i.localeText("x-of-y"),r=i.localeText("slide");i(".pagination").role("nav").each(function(){var e=i(this),t=e.find("li a[data-link-slide]"),n=t.length;t.each(function(e,t){var o=(r+" "+a).replace("{{X}}",++e).replace("{{Y}}",n);i(t).empty().append(i.offscreen("span").text(o))}).on("click",function(){i(this).trigger("amaze:slide-show:action")})})},{name:"swim-show/carousel/pagination",priority:"default",regex:{include:new RegExp("\\/swim-show","i")}}),amaze.injection(function(e,t,n,i){function a(){i(".slidesContainer li .map .hover-layer").attr("href","#").off("click").on("click",function(e){e.preventDefault()}).off("focus").off("blur").on("focus blur",function(e){r(e.target).trigger("focus"==e.type?"mouseover":"mouseout")})}var r=e.jQuery;a(),i("#content").on("DOMNodeInserted","li",i.defer(a))},{name:"swim-show/carousel/slide-hover",priority:"default",regex:{include:new RegExp("\\/swim-show","i")}}),amaze.injection(function(){},{name:"swim-show/focus",priority:"default",css:".carousel{overflow:visible!important}",regex:{include:new RegExp("\\/swim-show","i")}}),amaze.injection(function(e,t,n,i){i("h1:empty, h2:empty, h3:empty, h4:empty, h5:empty").presentation(),i("#slider > h2").first().attr("aria-level",1)},{name:"swim-show/headings",priority:"default",regex:{include:new RegExp("\\/swim-show","i")}}),amaze.injection(function(e,t,n,i){i(".instagram").parent("li").buttonify(),i(".fashion-show-overlay .overlay").on("DOMNodeInserted",".overlay-instagram",i.throttle(function(e){function n(){setTimeout(function(){o.focus()})}var a=i(e.target);if("42"!=a.attr("data-amaze-magic")){a.attr("data-amaze-magic",42);var r=a.closest(".dialog"),o=i(t.activeElement),c=r.find(".user-name"),s=c.replaceTag("h1"),l=r.find("button.close-button");s.attr("tabindex",-1).focus(),l.empty().append(i.offscreen("span").text(i.localeText("close-button-label")));var d=r.focusable();r.ontab(function(e){var t=d.index(e.target),n=d.eq(t+1),i=d.eq(t-1);n.exists()||(n=d.first()),i.exists()||(i=d.last()),e.preventDefault(),(e.shiftKey?i:n).focus()}),r.on("keydown",function(e){"esc"==i.keyname(e)&&(e.preventDefault(),l.fire("click"))}),l.on("click",n)}}))},{name:"swim-show/instagram-carousel",priority:"default",regex:{include:new RegExp("\\/swim-show","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=i(e.target).closest("[itemscope][itemtype]"),n=t.find(".pagination li"),a=n.filter(".fab-ico--large-white-bullet"),r=a.index(),o=[i.localeText("new-slide"),r+1,i.localeText("of"),n.length].join(" ");i.politeAnnouncement(o)}var r=i("body");r.on("amaze:slide-show:action",function(){r.one("DOMNodeInserted","li",a)})},{name:"swim-show/new-slide-announcement",priority:"default",regex:{include:new RegExp("\\/swim-show","i")}}),amaze.injection(function(e,t,n,i){function a(e){var t=i(e);t.buttonify().role("checkbox").on("click",function(){var e=i(this);c=e.data("pref-value")}),t.each(function(){var e=i(this);e.attr("aria-checked",e.hasClass("selected")?"true":"false")})}function r(){var e=i("#carousel_preferences");e.trigger("amaze:partial:refresh");var t=e.find(".prefsAccordion > li.active");t.attr("tabindex","0"),a(t.find("li.pref")),c&&t.find("[data-pref-value="+c+"]").focus(),e.find("li.pref-header").buttonify().on("click",i.defer(function(){var t=i(this),n=t.data("slide-to"),r=e.find(".prefsAccordion > li.pref-set"),o=i(r[n]);r.attr("tabindex","-1"),a(o.find("li.pref")),o.attr("tabindex","0").focus()}))}function o(e){e.role("radiogroup");var t=e.parent().prev(".question").find(".questionHeader"),n=e.find(".option");n.role("radio").each(function(){var e=i(this);e.noClobber("aria-labelledby",e),t.exists()&&e.noClobber("aria-labelledby",t)}).on("click",function(){n.attr("aria-checked","false");var e=i(this);e.attr("aria-checked","true")})}var c=null;r(),i("body").on("DOMNodeInserted","#carousel_preferences",r),i("body").on("DOMNodeInserted","#vs-swim",function(){i("#nextButtonLink").buttonify(),i("#prevButtonLink").buttonify();var e=i("#vs-swim");e.attr("tabindex","0").focus(),e.find(".option").buttonify().role("checkbox").attr("aria-checked","false").attr("aria-labelledby",function(){var e=i(this),t=e.closest(".question").find("h2").rndid(),n=t.next("p");return n.exists()&&e.noClobber("aria-describedby",n),e.rndid().prop("id")+" "+t.prop("id")}).on("click",function(){var e=i(this);"true"===e.attr("aria-checked")?e.attr("aria-checked","false"):e.attr("aria-checked","true")}),o(e.find(".cup-options")),o(e.find(".band-options")),o(e.find(".size-question")),e.find("img").attr("alt",function(){var e=i(this);return e.nextAll("h4").text()})})},{name:"swim-stylist/button",priority:"default",regex:{include:new RegExp("\\/swimwear\\/swim-stylist","i")}}),amaze.injection(function(e,t,n,i){i.pageTitle(i.localeText("swim-stylist"))},{name:"swim-stylist/header",priority:"default",regex:{include:new RegExp("\\/swimwear\\/swim-stylist","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i("#progress");e.exists()&&e.attr({role:"progressbar","aria-valuemin":0,"aria-valuenow":r,"aria-valuemax":100})}function r(){var e=this.style.width;return e.slice(0,-1)}a(),i("body").on("DOMNodeInserted","#vs-swim",i.defer(a,250))},{name:"swim-stylist/progress-bar",priority:"default",regex:{include:new RegExp("\\/swimwear\\/swim-stylist","i")}}),amaze.injection(function(e,t,n,i){function a(){r(i("#itemsContainer, #carousel_swimCuratedLooks").find(".carousel-indicators")),o(i(".carouselNext"),i.localeText("next-button")),o(i(".carouselPrev"),i.localeText("previous-button")),o(i(".js-accordionTrigger").attr("aria-expanded",function(){return i(this).hasClass("isOpen")}).attr("aria-labelledby",function(){return i(this).next(".drawerHeader").rndid().prop("id")}).off("click").on("click",i.defer(function(){i(this).attr("aria-expanded",function(){return i(this).hasClass("isOpen")})},250)))}function r(e){var t=e.find("li");t.each(c).off("click").onAttributeChange("class",function(e,n,i){"active"===i&&t.each(c)})}function o(e,t){e.role("button").off("keydown").on("keydown",function(e){32===e.which&&(e.preventDefault(),e.target.click())}),t&&e.attr("aria-label",t)}function c(e,t){var n=i(t),a=n.attr("data-slide-to"),r=n.hasClass("active")?s:"";a&&(a=parseInt(a)+1,n.role("link").attr("aria-label",[l,a,r].join(" ")))}var s=i.localeText("current"),l=i.localeText("page");a(),i("body").on("DOMNodeInserted","#boutiqueView",i.defer(a))},{name:"swim-stylist/your-swim-stylist/keyboard-controls",priority:"default",regex:{include:new RegExp("\\/swimwear\\/swim-stylist","i")}}),amaze.injection(function(e,t,n,i){if(i(e).isVsAllAccess()){var a=i("#vsaa-share"),r=a.find("span.facebook").role("listitem"),o=a.find("ul:first");r.addClass("amaze-left-float"),a.find(".share-wrapper-vsaa").role("list"),o.role("presentation").before(r).find("li").each(function(){var e="presentation",t=i(this);(t.hasClass("email")||t.hasClass("twitter"))&&(e="listitem"),t.role(e)})}},{name:"vs-all-access/article/social-list",priority:"default",css:".amaze-left-float{float:left}",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){function a(){u.hide()}function r(e){var t=e.data.$dropdown,n=e.data.$top,a=i.keyname(e),r=i(e.target),l=r.hasClass("parent");"down"===a?(e.preventDefault(),l?o(t,n):s(r,"next")):"up"!==a||l?"esc"!==a||l||(e.preventDefault(),c(t,n)):(e.preventDefault(),s(r,"prev"))}function o(e,t){t.attr("aria-expanded","true"),e.show().find("a").first().focus()}function c(e,t){t.attr("aria-expanded","false").focus(),e.hide()}function s(e,t){var n=e.parent(),i="next"===t?n.next():n.prev();if(!i.exists()){var a=e.closest("ul").find("li");i="next"===t?a.first():a.last()}i.find("a").focus()}if(i(e).isVsAllAccess()){i("#vsaa-header .nav-vsaa").role("menu").find("li").presentation().find("a").role("menuitem");var l=i("#vsaa-header li.supermodels"),d=l.find("a.parent").first(),u=l.find("ul").rndid();d.attr({"aria-haspopup":"true","aria-expanded":"false","aria-controls":u.prop("id")}).on("focus",a),l.on("keydown",{$dropdown:u,$top:d},r)}},{name:"vs-all-access/globa/menu",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){if(i(e).isVsAllAccess()){var a=i('h1, [aria-level="1"]');a.exists()||i("h3.x-large").attr("aria-level","1")}},{name:"vs-all-access/global/h1",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){if(i(e).isVsAllAccess()){var a=i("div.tags.row"),r=i("h2.browse-by-topic");a.role("list").noClobber("aria-labelledby",r).find('a[name="VSAATag"]').wrap('<span role="listitem"></span>')}},{name:"vs-all-access/swim-topics-list",priority:"default",regex:{include:new RegExp(".*","i")}}),amaze.injection(function(e,t,n,i){function a(e,t){var n=i(t),a=i.offscreen("span").text(i.localeText("close-button-label"));n.find(".close.close-fancybox:not(:has(span.amaze-offscreen))").buttonify().append(a),n.find(".socialLogin:not(:has(div.amaze-button))").each(function(){i(this).wrapInner('<div class="amaze-button" />').children().buttonify()}),i("body").trigger("amaze:block:escape"),n.find(".close.close-fancybox").one("click",function(){i(e).focus(),i("body").trigger("amaze:unblock:escape")}),n.one("DOMNodeInserted","a.fancybox-close",function(){i(this).removeAttr("href").attr("aria-hidden",!0)})}function r(e){27==e.keyCode&&(e.preventDefault(),i(".fancybox-overlay .close.close-fancybox").click())}i.escapeBlocker(r),i("#connect-modal").fixModal({modalSelector:".fancybox-wrap",close:".close.close-fancybox",delay:250,callback:a}),i("#social-modal").fixModal({modalSelector:".fancybox-wrap",close:".close.close-fancybox",delay:250,callback:a})},{name:"vsconnect",priority:"default",regex:{include:new RegExp("\\/","i")}}),amaze.injection(function(e,t,n,i){i(".pink-button").buttonify(),i(".registration-info > img").attr("alt",i.localeText("angel-card")),i(".logo > img").attr("alt",i.localeText("victorias-secret")),i.documentLanguage();var a=i(".footer-links ul");a.presentation(),a.children().presentation()},{name:"vsconnect",priority:"default",regex:{include:new RegExp("\\/","i")}}),amaze.injection(function(e,t,n,i){i("#post").is("body")&&i("#vsIconBlock span[id] a").buttonify()},{name:"vssecretrewards/footer-buttons",priority:"default",regex:{include:new RegExp(".","i")}}),amaze.injection(function(e,t,n,i){i("#post").is("body")&&(i("#vsNavHead a.vsMainLink").attr({role:"heading","aria-level":1}),i(".vsFTitle").attr({role:"heading","aria-level":3}))},{name:"vssecretrewards/header",priority:"default",regex:{include:new RegExp(".","i")}}),amaze.injection(function(e,t,n,i){i("#calloutTop h2").attr("aria-level",1).attr("role","heading")},{name:"vssecretrewards/prizes/headings",priority:"default",regex:{include:new RegExp("\\/en-us\\/prizes","i")}}),amaze.injection(function(e,t,n,i){if(i("#post").is("body")){var a={"a.angelCard_Promo":"angelcard-promo","a.vsPassbook_Promo":"vspassbook-promo"},r=i("#promoSection");for(var o in a)r.find(o).prepend(i.offscreen("span").text(i.localeText(a[o])))}},{name:"vssecretrewards/promo-images",priority:"default",regex:{include:new RegExp(".","i")}}),amaze.injection(function(e,t,n,i){function a(){c.find(".BVTagRow").each(r)}function r(){var e=i(this),t=e.find('input[type="checkbox"]'),n=e.find(".BVTag"),a=i("#BVFieldTagCardHolderIDHeader");t.prop("tabIndex",-1),a.removeAttr("title");var r=i('<div class="amaze-box" role="checkbox" tabindex="0" />');n.append(r).addClass("amaze-lego"),r.noClobber("aria-labelledby",n.find("label")).noClobber("aria-labelledby",a).attr("aria-checked","false").on("keydown",function(e){32===e.which&&(e.preventDefault(),e.target.click())}).on("click",o)}function o(){var e=i(this);e.prev("label").click(),e.attr("aria-checked","true"!==e.attr("aria-checked")),e.focus()}var c=i("#BVCardHolderTagsBlockID");c.exists()?a():i("body").one("DOMNodeInserted",".BV",function(){c=i("#BVCardHolderTagsBlockID"),setTimeout(a,0),i("body").trigger("amaze:bv:insertion")}),i("body").on("amaze:write-a-review:validation:form-refresh",a)},{name:"write-a-review/custom-checkboxes",priority:"default",css:".amaze-box{position:absolute;width:13px;height:13px;left:0;top:0}.amaze-lego{display:block!important;position:relative!important}",regex:{include:new RegExp("\\/writeReviewOverlay","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i("#BVFieldRatingFitContainerID"),t=i("#BVFieldRatingFitLabelID > span").first(),n=t.contents().first().wrap("<span />").parent(),a=n.next("span"),o=e.find(".BVMEFieldHelper");
e.find('.BVFieldRadioContainer input[type="radio"]').each(function(e,t){var c=i(t),s=c.next("label");s.addClass("amaze-un-text-indent").removeAttr("for"),r(c,n,s),c.noClobber("aria-describedby",a).noClobber("aria-describedby",o)});var c=i("#BVFieldRecommendContainerID"),s=i("#BVFieldRecommendLabelID");c.find('[type="radio"]').each(function(e,t){var n=i(t),a=n.next("label").removeAttr("for");r(n,s,a)})}function r(e,t,n){e.addClass("amaze-clipped-radio-button").addClass("amaze-offscreen").noClobber("aria-labelledby",n).noClobber("aria-labelledby",t).on("focus blur",function(e){i(e.target).parent().toggleClass("amaze-focused")}).parent().on("click",function(){e[0].click()})}i("body").on("amaze:bv:insertion",a).on("amaze:write-a-review:validation:form-refresh",a),a()},{name:"write-a-review/custom-radios",priority:"default",css:".amaze-clipped-radio-button{opacity:1!important;width:1px!important}",regex:{include:new RegExp("\\/writeReviewOverlay","i")}}),amaze.injection(function(e,t,n,i){function a(){f=f.exists()?f:i("input.pseudoSelect"),i(".BVRRStyledSelectList").role("listbox").find("li").attr({role:"option"}).prop("tabIndex",-1).rndid(),f.attr({role:"combobox","aria-haspopup":"true","aria-autocomplete":"false","aria-readonly":"true","aria-labelledby":function(){var t=i(this).rndid(),n=t.closest(".BVFieldContextDataGroup"),a=n.find("label").first().rndid().removeAttr("for"),r=a.next(".BVMEFieldHelper");return t.noClobber("aria-describedby",r),e.jQuery(t).trigger("focus").trigger("blur"),a.prop("id")+" "+t.prop("id")}}).off("focus").off("keydown").one("focus",i.defer(r,300)).on("focus blur",d).on("keydown",o)}function r(e){var t=i(e.target),n=i(".BVRRStyledSelectList").filter(":visible");t.attr("aria-owns",n.rndid().prop("id")),n.attr("data-amaze-trigger-id",t.prop("id"))}function o(e){var t=e.which,n=i(e.target);if(13===t||32===t){e.preventDefault();var a=i("#"+n.attr("data-active-descendant"));a.fire("mousedown"),setTimeout(function(){n.focus()},100)}else 40===t?(e.preventDefault(),c(n)):38===t&&(e.preventDefault(),c(n))}function c(e){var t=s(e);setTimeout(function(){var n=t.find(".hovering").rndid(),a=n.index(),r=t.find("li").length,o=[a+1,u,r,":",n.text()].join(" ");i.assertiveAnnouncement(o),e.attr("data-active-descendant",n.prop("id"))},100)}function s(e){return i("#"+e.attr("aria-owns"))}function l(e){e.stopPropagation()}function d(e){"focus"===e.type?t.addEventListener("keyup",l,!0):t.removeEventListener("keyup",l,!0)}var u=i.localeText("of"),f=i("input.pseudoSelect");f.exists()?a():i("body").one("DOMNodeInserted",".pseudoSelect",i.defer(a)),i("body").on("amaze:write-a-review:validation:form-refresh",a)},{name:"write-a-review/custom-selects",priority:"default",regex:{include:new RegExp("\\/writeReviewOverlay","i")}}),amaze.injection(function(e,t,n,i){i(".BVMEPageHeader").attr("role","heading").attr("aria-level","1"),i(".BVMESectionHeader").attr("role","heading").attr("aria-level","2")},{name:"write-a-review/headings",priority:"default",regex:{include:new RegExp("\\/writeReviewOverlay","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i("#BVFieldRatingLabelID"),t=e.find(".BVMEFieldHelper"),n=i("#BVFieldRatingRatingStarsID .star a");n.each(function(){i(this).noClobber("aria-describedby",t)}),r("#BVFieldTitleID","BVFieldTitleFieldHelperID"),r("#BVFieldReviewtextID","BVModuleReviewSubmissionTipsID"),r("#BVFieldAdditionalfieldSizePurchasedID","BVFieldAdditionalfieldSizePurchasedFieldHelperID"),r("#BVFieldUsernicknameID","BVFieldUsernicknameFieldHelperID"),r("#BVFieldUserlocationID","BVFieldUserlocationFieldHelperID")}function r(e,t){i(e).noClobber("aria-describedby",t)}a(),i("body").on("amaze:write-a-review:star:insertion",i.defer(a)).on("amaze:write-a-review:validation:form-refresh",a)},{name:"write-a-review/help-text",priority:"default",regex:{include:new RegExp("\\/writeReviewOverlay","i")}}),amaze.injection(function(e,t,n,i){i(".BVMEGuidelinesLink").prepend(i.offscreen().text(i.localeText("popup")))},{name:"write-a-review/images",priority:"default",regex:{include:new RegExp("\\/writeReviewOverlay","i")}}),amaze.injection(function(e,t,n,i){i("#content").on("keydown",function(e){e.stopPropagation()})},{name:"write-a-review/keyboard-fix",priority:"default",regex:{include:new RegExp("\\/writeReviewOverlay","i")}}),amaze.injection(function(e,t,n,i){function a(){r.one("DOMNodeInserted",".BVPagePreview",function(e){var t=i(e.target),n=t.find(".BVRRRatingCustomImageWrapper .BVImgOrSprite");if(!n.attr("data-amaze-alt-fixed")){var a=[n.attr("alt"),i.localeText("stars")].join(" ");n.attr("alt",a),n.removeAttr("title").attr("data-amaze-alt-fixed","true")}})}var r=i(t.body);r.on("click","#BVButtonPreviewID .BVButton",a)},{name:"write-a-review/preview/stars-img",priority:"default",regex:{include:new RegExp("\\/writeReviewOverlay","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=u.find(".BVFieldLabel.BVFieldLabelCoreRatingLabel");if(e.exists()){var t=i(e[0].childNodes[0]);t.wrap('<div class="amaze-star-head" />');var n=e.find(".amaze-star-head"),a=i("#BVFieldRatingRatingStarsID");a.role("radiogroup").find(".star a").each(function(e){var t=i(this),a=t.parent().next(".BVRatingStarValueLabelContainer");t.removeAttr("title").role("radio").attr("aria-checked",!1).prop("tabIndex",0===e?0:-1).noClobber("aria-labelledby",n).noClobber("aria-labelledby",a).on("keydown",r).on("click",o).on("focus",l).on("blur",d);var c=a.find(".BVRatingStarsLegendValue");c.html(" "+c.html())})}}function r(e){var t=e.which,n=i(e.target);e.stopPropagation(),37===t||38===t?(e.preventDefault(),c(n,"prev")):39===t||40===t?(e.preventDefault(),c(n,"next")):32===t&&(e.preventDefault(),e.target.click())}function o(e){var t=i(e.target),n=t.closest("#BVFieldRatingRatingStarsID").find('.star [aria-selected="true"]');s(t,n)}function c(e,t){var n=e.parent(),i="next"===t?n.next().next("div"):n.prev().prev("div"),a=i.find('[role="radio"]');a.focus().fire("click"),s(a,e)}function s(e,t){e.prop("tabIndex",0).attr("aria-checked",!0),t.prop("tabIndex",-1).attr("aria-checked",!1)}function l(){i(this).parent().fire("mouseover")}function d(){i(this).parent().fire("mouseout")}var u=i("#BVFieldRatingContainerID");u.exists()?a():i("body").one("DOMNodeInserted",".star",function(){u=i("#BVFieldRatingContainerID"),setTimeout(a,100)}),i("body").on("amaze:write-a-review:validation:form-refresh",a)},{name:"write-a-review/star-rating",priority:"default",regex:{include:new RegExp("\\/writeReviewOverlay","i")}}),amaze.injection(function(e,t,n,i){function a(){i("h1").first().prop("tabIndex",-1).focus()}var r=i(t.body);r.on("click","#BVButtonSubmitID .BVButton",function(){r.one("DOMNodeInserted",".BV",a)})},{name:"write-a-review/thanks-for-your-review",priority:"default",regex:{include:new RegExp("\\/writeReviewOverlay","i")}}),amaze.injection(function(e,t,n,i){i.pageTitle(i("#BVMessagePageHeaderID").text());var a=e.frameElement;a&&(a.title=i.localeText("write-a-review"))},{name:"write-a-review/title",priority:"default",regex:{include:new RegExp("\\/writeReviewOverlay","i")}}),amaze.injection(function(e,t,n,i){function a(){c.one("DOMNodeInserted",".BV",i.defer(r))}function r(){var e=i(".BVErrors"),t=e.find(".BVMESectionHeader");t.prepend(i.offscreen().text(i.localeText("error"))),i("[aria-invalid]").removeAttr("aria-invalid"),setTimeout(function(){i(".BVError, .BVFieldError .star a").attr("aria-invalid",!0).noClobber("aria-describedby",e).first().focus(),c.trigger("amaze:write-a-review:validation:form-refresh")},300),s=o(),s.one("click",a)}function o(){return i("#BVButtonPreviewID .BVButton")}var c=i(t.body),s=o();s.one("click",a)},{name:"write-a-review/validation",priority:"default",regex:{include:new RegExp("\\/writeReviewOverlay","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i("div.page-nav"),t=e.find("a[id]"),n=i("#nextButtonLink");t.each(function(e,t){var n=i(t);n.buttonify().find("img").presentation()}),n.onAttributeChange("class",function(){n.attr("aria-disabled",!n.hasClass("fitguide-nav-button-enabled"))}).attr("aria-disabled",!n.hasClass("fitguide-nav-button-enabled")),i("body").trigger("amaze:partial:refresh")}i(".js-accordionTrigger").buttonify().attr("aria-expanded","true").on("click",i.defer(function(){var e=i(this);e.attr("aria-expanded",e.hasClass("isOpen"))})),i('a[data-cm="nav-get-started"]').buttonify(),i(".switch-views-smart-alert span").buttonify().attr("aria-label",i.localeText("close-button-label")).on("click",function(){i("#boutiqueListView").focus()}),i("body").on("DOMNodeInserted","div.fit-guide-page",a)},{name:"your-boutique/buttons",priority:"default",regex:{include:new RegExp("\\/bras\\/personal-bra-boutique","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i("ol.carousel-indicators"),t=i("div.carousel-inner > div.item");t.find("div.title").rndid(),e.find("li").each(function(e,n){i(n).noClobber("aria-labelledby",t.eq(e).find("div.title").attr("id"))}),e.fixTabs({panelGetter:function(e,n){return t.get(n)}})}a(),i("body").on("DOMNodeInserted","#boutiqueView",i.defer(a))},{name:"your-boutique/carousel-buttons",priority:"default",regex:{include:new RegExp("\\/bras\\/personal-bra-boutique","i")}}),amaze.injection(function(e,t,n,i){function a(e,t){var n=e.find("div.question h3").rndid().prop("id");if(e.hasClass("bra-size")){i("div.option p").rndid();var a=e.find("div.band-options"),o=e.find("div.band-options h4").rndid().prop("id"),c=e.find("div.cup-options"),s=e.find("div.cup-options h4").rndid().prop("id");a.fixRadioGroup(t),r(a,n,o),c.fixRadioGroup(t),r(c,n,s)}else if(e.hasClass("multi-select-question")){var l=e.find("div.question p").rndid().prop("id"),d=e.find("div.options");d.fixCheckboxGroup(t).noClobber("aria-labelledby",n).find("div.option").noClobber("aria-describedby",n).noClobber("aria-describedby",l)}}function r(e,t,n){e.find("div.option").each(function(e,a){var r=i(a);r.noClobber("aria-labelledby",t).noClobber("aria-labelledby",n).noClobber("aria-labelledby",r.find("p").prop("id"))})}var o=i("div.fit-guide-page"),c={selector:"div.option",parentSelector:"div.options",selectedClass:"option-selected"};a(o,c),i("body").on("DOMNodeInserted","div.fit-guide-page",function(){var e=i(this);a(e,c),e.find("h2:first").prop("tabindex",-1).focus()})},{name:"your-boutique/checkboxes",priority:"default",css:".bra-size.fit-guide-page .question .options{overflow:visible}",regex:{include:new RegExp("\\/bras\\/personal-bra-boutique","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i(".toggle-btn");r(e),e.attr("aria-label",e.next(".summary").text()+i.localeText("close-button-label")).buttonify().on("click",i.defer(function(){r(this)}))}function r(e){i(e).attr("aria-expanded",!i("#notifications").hasClass("collapsed"))}a(),i("body").on("DOMNodeInserted","#boutiqueView",i.defer(a))},{name:"your-boutique/expand-icon",priority:"default",regex:{include:new RegExp("\\/bras\\/personal-bra-boutique","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i(m),t=i("div.appearance-smart-alert").rndid(),n=i("#filter-tab-Appearance");i("div.tabbed-nav ul").fixTabs({tabSelector:"li",activeClass:"active",inactiveClass:null,panelGetter:function(e){return"#"+e.getAttribute("data-name")+"-swatch-container"},panelShow:function(e){i(e).addClass("active").show(),l()},panelHide:function(e){i(e).removeClass("active").hide()}}).on("focusin",function(e){s(),h=i(".tabbed-nav li").index(i(e.target))}).on("focusout",function(e){i(e.target).fire("mouseover")}),e.filter(".active").attr("aria-hidden",!1),e.not(".active").attr("aria-hidden",!0),d(t,n),t.onAttributeChange("style",function(){d(t,n)})}function r(){null!==g&&i(f)[g].focus(),null!==h&&null===b&&i(p).eq(h).click().focus(),null!==b&&(i(p).eq(h).click(),i(m).find('li em[tabindex="0"]').eq(b).focus())}function o(){var e=i("ul.prefs > li");i("ul.prefs").fixCheckboxGroup(u),e.on("focus",function(t){s(),g=e.index(i(t.target))})}function c(e){var t=i.keyname(e);"space"===t&&(e.preventDefault(),i(e.target).trigger("click"),r())}function s(){b=null,g=null,h=null}function l(){var e=i(m);e.find("span").rndid(),i(m).find('li em[tabindex="0"]').role("checkbox").on("keydown",c).on("focusin",function(t){var n=e.find('li em[tabindex="0"]');b=n.index(i(t.target))}).attr("aria-labelledby",function(){return i(this).parent().next("span").prop("id")})}function d(e,t){e.is(":visible")?t.attr("aria-describedby",e.prop("id")):t.removeAttr("aria-describedby")}var u={selector:"li.pref",selectedClass:"selected"},f="ul.prefs li",p="div.tabbed-nav li",m="div.swatch-container.active",g=null,h=null,b=null;o(),a(),l(),i("body").on("DOMNodeInserted",function(e){var t=i(e.target);(t.is(".prefs-column")||t.is("#boutiqueView")||t.is("#filtersForm"))&&((t.is(".prefs-column")||t.is("#boutiqueView"))&&o(),(t.is("#filtersForm")||t.is("#boutiqueView"))&&(a(),l()),r())}),i("div.swatch-table, #hero").on("focus",s),i("div.filter-for-sort-by").find("span:first").on("focus",s)},{name:"your-boutique/filters",priority:"default",css:".boutique-view .controls .swatch-container li:focus div{outline:inherit}",regex:{include:new RegExp("\\/bras\\/personal-bra-boutique","i")}}),amaze.injection(function(e,t,n,i){function a(){i("li.product").on("DOMNodeInserted","div.remove-alert",i.defer(o,200))}function r(e){var t=i.keyname(e);if("tab"===t){e.preventDefault();var n=i("a.remove"),a=i("a.cancel"),r=i(e.target);r.is("div.remove-alert.fadeIn, a.cancel")?n.focus():a.focus(),a.on("click",function(){c.find("a.overlay:first").focus()})}}function o(e){var t=i(e.target);t.is(".fadeIn")&&(c=t.closest("li.product"),t.role("dialog").prop("tabindex",-1).focus().find("a").buttonify().end().on("keydown",r))}a();var c,s=i("#itemsContainer");s.on("DOMNodeInserted","ul#itemsGridView",a)},{name:"your-boutique/final-step/remove-item",priority:"default",regex:{include:new RegExp("\\/bras\\/personal-bra-boutique","i")}}),amaze.injection(function(e,t,n,i){var a=i("#boutiqueListView"),r=i("#boutiqueGridView"),o=i.offscreen("span").text(i.localeText("grid-icon-desc")),c=i.offscreen("span").text(i.localeText("list-icon-desc"));c.appendTo(a),o.appendTo(r),i("div.views").fixRadioGroup({selector:"a",parentSelector:"div.views",selectedClass:"selected"}),i("div.views").on("click",function(t){e.jQuery(t.target).trigger("click")})},{name:"your-boutique/grid-icons",priority:"default",regex:{include:new RegExp("\\/bras\\/personal-bra-boutique","i")}}),amaze.injection(function(e,t,n,i){var a=i("#fitGuideView .boutique-start-page img").first();a.wrap('<h1 class="amaze-boutique-heading"></h1>'),a.attr("alt",i.localeText("create-your-boutique"))},{name:"your-boutique/heading",priority:"default",regex:{include:new RegExp("\\/[a-z-]+\\/personal-bra-boutique","i")}}),amaze.injection(function(e,t,n,i){function a(){i('img[src$="angel-bra-guide-nav-header.png"]').attr("alt",i.localeText("the-angel-bra-guide"))}function r(){s=d.find("> ul:first li.product"),i("body").trigger("amaze:love:refresh",[s]),s.prop("tabindex",-1).addClass("amaze-outline-fix"),i("img.product-img").attr("alt",c),i(".product-container .x-icon").buttonify().attr("aria-label",i.localeText("remove")).on("click",function(e){var t=i(e.target).closest("li.product");u=s.index(t),i("body").trigger("amaze:remove:product")}),i(".rating").attr("aria-label",function(){var e=i(this),t=parseInt(e.find(".base").css("width"),10),n=parseInt(e.find(".value").css("width"),10);if(t&&n){var a=(n/t*5).toFixed(1);return i.localeTextWithArguments("5-stars",[a])}return void 0})}function o(e){void 0!==e||null!==e?s.eq(e).focus():i("#banner h2").prop("tabIndex",-1).focus()}function c(){return i(this).closest(".product-container").find(":header:nth-child(2)").text()}var s,l="#itemsGridView, #itemsListView",d=i("#itemsContainer"),u=null,f=i("body");f.on("amaze:remove:product",function(){d.one("DOMNodeInserted",l,function(e){i(e.target).is(l)&&(r(),o(u),u=null)})}),i("img.option-img").presentation(),a(),i("body").on("DOMNodeInserted","div.bra-experience-header.standard-nav, div.bra-experience-nav.standard-nav",a),r(),i("body").on("DOMNodeInserted","div.fit-guide-page.regular-question",function(){i("img.option-img").removeAttr("tabindex").presentation()})},{name:"your-boutique/img-alt",priority:"default",css:".amaze-outline-fix{outline-offset:-2px}",regex:{include:new RegExp("\\/bras\\/personal-bra-boutique","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i("div.modal-wrapper");if(e.length){i("div.option > p").rndid();var t=e.find("div.question h3").rndid().prop("id"),n=e.find("div.band-options"),a=e.find("div.band-options h4").rndid().prop("id"),c=e.find("div.cup-options"),s=e.find("div.cup-options h4").rndid().prop("id");n.fixRadioGroup(o),r(n,t,a),c.fixRadioGroup(o),r(c,t,s);var l=e.focusable().filter(':not([tabindex="-1"])');l[0].focus(),i("a.save-button, button.close.x").role("button"),e.ontab(function(t){t.preventDefault(),l=e.focusable().filter(':not([tabindex="-1"])');var n=l.index(t.target),i=l.eq(n+1),a=l.eq(n-1);i.length||(i=l.first()),a.length||(a=l.last()),(t.shiftKey?a:i).focus()})}}function r(e,t,n){e.find("div.option").each(function(e,a){var r=i(a);r.noClobber("aria-labelledby",t+" "+n+" "+r.find("p").prop("id"))})}var o={selector:"div.option",parentSelector:"div.options",selectedClass:"option-selected"};i("body").on("DOMNodeInserted","a.save-button",a)},{name:"your-boutique/modal",priority:"default",regex:{include:new RegExp("\\/bras\\/personal-bra-boutique","i")}}),amaze.injection(function(e,t,n,i){function a(){var e=i(".filter-for-sort-by"),t=e.find("div.dropdown"),n=e.find("span").first(),a=t.find("span");e.find('span:not(".controls-header, #sortedByLabel")').prop("tabindex",0).role("menuitem"),t.rndid().on("amaze:submenu:focus",d).find(".options").role("menu"),t.presentation().find("label, input").presentation(),a.on("keydown",function(e){o(e,a,n)}).on("focus",r),e.find("input").prop("tabindex",-1).presentation(),n.on("keydown",c).on("focus",r).role("button").attr({"aria-haspopup":!0,"aria-expanded":!1,"aria-controls":t.attr("id")}),p&&n.focus()}function r(e){p=e.target==t.activeElement}function o(e,t,n){var a=i.keyname(e),r=t.index(e.target),o=u(r,t),c=f(r,t);switch(a){case"tab":e.preventDefault(),l(n);break;case"left":case"down":e.preventDefault(),o.focus();break;case"right":case"up":e.preventDefault(),c.focus();break;case"space":case"enter":e.preventDefault(),i(e.target).click(),l(n);break;case"esc":e.preventDefault(),l(n)}}function c(e){var t=i.keyname(e),n=i(e.target).parent("span");"tab"==t&&(p=!1),("down"==t||"enter"==t||"space"==t)&&(e.preventDefault(),s(e),n.attr("aria-expanded",!0),setTimeout(function(){i("div.dropdown[id]").trigger("amaze:submenu:focus")},100))}function s(){p=!0;var e=i(".filter-for-sort-by").find("div.dropdown");e.addClass("amaze-dropdown-hover")}function l(e){p=!0,i("div.amaze-dropdown-hover").removeClass("amaze-dropdown-hover"),e.attr("aria-expanded",!1).focus()}function d(e){return p=!0,i(e.target).find("span:first").focus()}function u(e,t){return e+1<t.length?t[e+1]:t[0]}function f(e,t){return e>0?t[e-1]:t[t.length-1]}a();var p=!1;i("body").on("DOMNodeInserted",function(e){("filtersForm"==e.target.id||"boutiqueView"==e.target.id)&&a()})},{name:"your-boutique/sort",priority:"default",css:"#bra-experience-nav ul a,#notifications a{outline-offset:-2px}.amaze-dropdown-hover{display:block!important;z-index:100}.filter-for-sort-by .options label{padding:5px 0;cursor:pointer;position:relative}.filter-for-sort-by .options label>span{display:inline-block;width:90%;vertical-align:middle;padding-left:8px;text-transform:capitalize}.filter-for-sort-by .options label:hover{color:#f33b7e}",regex:{include:new RegExp("\\/[a-z-]+\\/personal-bra-boutique","i")}}),function(){amaze.emit("status","READY")}()}();
  }
}());

